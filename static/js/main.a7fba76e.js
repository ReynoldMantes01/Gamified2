/*! For license information please see main.a7fba76e.js.LICENSE.txt */
(()=>{var e={2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var F,L=Object.assign;function M(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var j=!1;function z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function V(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case I:return"Portal";case S:return"Profiler";case N:return"StrictMode";case k:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(me).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ee=null,Ne=null;function Se(e){if(e=wi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function xe(e){Ee?Ne?Ne.push(e):Ne=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Ne;if(Ne=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function ke(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Te(e,t,n)}finally{Oe=!1,(null!==Ee||null!==Ne)&&(ke(),Ce())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){De=!1}function Ue(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,Le=null,Me=!1,je=null,ze={onError:function(e){Fe=!0,Le=e}};function Ve(e,t,n,r,i,s,a,o,l){Fe=!1,Le=null,Ue.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,Et,Nt,St,xt=!1,Ct=[],Tt=null,kt=null,Ot=null,Rt=new Map,At=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ft(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Mt(e)&&n.delete(t)}function zt(){xt=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==kt&&Mt(kt)&&(kt=null),null!==Ot&&Mt(Ot)&&(Ot=null),Rt.forEach(jt),At.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==kt&&Vt(kt,e),null!==Ot&&Vt(Ot,e),Rt.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Ht=b.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=1,Yt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function $t(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=4,Yt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Yt(e,t,n,r){if(Wt){var i=Kt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ft(Tt,e,t,n,r,i),!0;case"dragenter":return kt=Ft(kt,e,t,n,r,i),!0;case"mouseover":return Ot=Ft(Ot,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Ft(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,At.set(s,Ft(At.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Kt(e,t,n,r))&&Wr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Kt(e,t,n,r){if(Gt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),mn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(mn),fn=sn(L({},mn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(L({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return Nn}var xn=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(xn),Tn=sn(L({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Rn),Dn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,Un=null;u&&"documentMode"in document&&(Un=document.documentMode);var Fn=u&&"TextEvent"in window&&!Un,Ln=u&&(!Pn||Un&&8<Un&&11>=Un),Mn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){xe(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Gn(e){Mr(e,0)}function Kn(e){if(Y(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Yn=$n=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];qn(t,Yn,e,_e(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function sr(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Nr={};function Sr(e){if(Er[e])return Er[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Er[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var xr=Sr("animationend"),Cr=Sr("animationiteration"),Tr=Sr("animationstart"),kr=Sr("transitionend"),Or=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Or.set(e,t),l(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Pr=Rr[Dr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(xr,"onAnimationEnd"),Ar(Cr,"onAnimationIteration"),Ar(Tr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var u=Le;Fe=!1,Le=null,Me||(Me=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,o,c),s=l}}}if(Me)throw e=je,Me=!1,je=null,e}function jr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=$t;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),a=[];e:{var o=Or.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case xr:case Cr:case Tr:l=vn;break;case kr:l=On;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var m,p=r;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Ae(p,h))&&u.push(qr(p,f,m)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,f="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),m=null==c?o:bi(c),(o=new u(f,p+"leave",l,n,i)).target=d,o.relatedTarget=m,f=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=m,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,p=0,m=u=l;m;m=Yr(m))p++;for(m=0,f=h;f;f=Yr(f))m++;for(;0<p-m;)u=Yr(u),p--;for(;0<m-p;)h=Yr(h),m--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Gr(a,o,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Wn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=$r(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Mn);case"textInput":return(e=t.data)===Mn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&zn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ae(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Ae(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ae(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Ae(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,mi="__reactProps$"+di,pi="__reactContainer$"+di,fi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[mi]||null}var Ii=[],Ei=-1;function Ni(e){return{current:e}}function Si(e){0>Ei||(e.current=Ii[Ei],Ii[Ei]=null,Ei--)}function xi(e,t){Ei++,Ii[Ei]=e.current,e.current=t}var Ci={},Ti=Ni(Ci),ki=Ni(!1),Oi=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(ki),Si(Ti)}function Pi(e,t,n){if(Ti.current!==Ci)throw Error(s(168));xi(Ti,t),xi(ki,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return L({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Oi=Ti.current,xi(Ti,e),xi(ki,ki.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ui(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Si(ki),Si(Ti),xi(Ti,e)):Si(ki),xi(ki,n)}var Mi=null,ji=!1,zi=!1;function Vi(e){null===Mi?Mi=[e]:Mi.push(e)}function Bi(){if(!zi&&null!==Mi){zi=!0;var e=0,t=wt;try{var n=Mi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,ji=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ye(Ze,Bi),i}finally{wt=t,zi=!1}}return null}var Hi=[],Wi=0,qi=null,$i=0,Yi=[],Gi=0,Ki=null,Qi=1,Xi="";function Ji(e,t){Hi[Wi++]=$i,Hi[Wi++]=qi,qi=e,$i=t}function Zi(e,t,n){Yi[Gi++]=Qi,Yi[Gi++]=Xi,Yi[Gi++]=Ki,Ki=e;var r=Qi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Qi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Hi[--Wi],Hi[Wi]=null,$i=Hi[--Wi],Hi[Wi]=null;for(;e===Ki;)Ki=Yi[--Gi],Yi[Gi]=null,Xi=Yi[--Gi],Yi[Gi]=null,Qi=Yi[--Gi],Yi[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ms(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var fs=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===A&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case I:return(t=Mc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Uc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case I:return n.key===i?u(e,t,n,r):null;case A:return m(e,t,(i=n._init)(n._payload),r)}if(te(n)||U(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||U(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function f(i,s,o,l){for(var c=null,u=null,d=s,f=s=0,g=null;null!==d&&f<o.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var v=m(i,d,o[f],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,f),null===u?c=v:u.sibling=v,u=v,d=g}if(f===o.length)return n(i,d),is&&Ji(i,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(i,o[f],l))&&(s=a(d,s,f),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,f),c}for(d=r(i,d);f<o.length;f++)null!==(g=p(d,i,f,o[f],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),s=a(g,s,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,f),c}function g(i,o,l,c){var u=U(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,f=o,g=o=0,v=null,y=l.next();null!==f&&!y.done;g++,y=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var w=m(i,f,y.value,c);if(null===w){null===f&&(f=v);break}e&&f&&null===w.alternate&&t(i,f),o=a(w,o,g),null===d?u=w:d.sibling=w,d=w,f=v}if(y.done)return n(i,f),is&&Ji(i,g),u;if(null===f){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(f=r(i,f);!y.done;g++,y=l.next())null!==(y=p(f,i,g,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Uc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Pc(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case I:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mc(a,r.mode,l)).return=r,r=s}return o(r);case A:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return f(r,s,a,l);if(U(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Lc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=ws(!0),_s=ws(!1),Is=Ni(null),Es=null,Ns=null,Ss=null;function xs(){Ss=Ns=Es=null}function Cs(e){var t=Is.current;Si(Is),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){Es=e,Ss=Ns=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===Ns){if(null===Es)throw Error(s(308));Ns=e,Es.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Rs=null;function As(e){null===Rs?Rs=[e]:Rs.push(e)}function Ds(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,As(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Us=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ps(e,n)}return null===(i=r.interleaved)?(t.next=t,As(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ps(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Us=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,m=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=n,f.tag){case 1:if("function"===typeof(p=f.payload)){d=p.call(m,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Us=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},qs=Ni(Ws),$s=Ni(Ws),Ys=Ni(Ws);function Gs(e){if(e===Ws)throw Error(s(174));return e}function Ks(e,t){switch(xi(Ys,t),xi($s,e),xi(qs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(qs),xi(qs,t)}function Qs(){Si(qs),Si($s),Si(Ys)}function Xs(e){Gs(Ys.current);var t=Gs(qs.current),n=le(t,e.type);t!==n&&(xi($s,e),xi(qs,n))}function Js(e){$s.current===e&&(Si(qs),Si($s))}var Zs=Ni(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=b.ReactCurrentDispatcher,ia=b.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function ma(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fa(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Xa,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function wa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Ea(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,Ua(xa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Oa(9,Sa.bind(null,n,r,i,t),void 0,null),null===kl)throw Error(s(349));0!==(30&sa)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function xa(e,t,n){return n((function(){Ca(t)&&Ta(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ta(e){var t=Ps(e,1);null!==t&&nc(t,e,1,-1)}function ka(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,aa,e),[t.memoizedState,e]}function Oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ra(){return ya().memoizedState}function Aa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Oa(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Oa(t,n,s,r))}aa.flags|=e,i.memoizedState=Oa(1|t,n,s,r)}function Pa(e,t){return Aa(8390656,8,e,t)}function Ua(e,t){return Da(2048,8,e,t)}function Fa(e,t){return Da(4,2,e,t)}function La(e,t){return Da(4,4,e,t)}function Ma(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ja(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Ma.bind(null,t,e),n)}function za(){}function Va(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),aa.lanes|=n,Fl|=n,e.baseState=!0),t)}function Wa(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{wt=n,ia.transition=r}}function qa(){return ya().memoizedState}function $a(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ga(e))Ka(t,n);else if(null!==(n=Ds(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ga(e))Ka(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,As(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ds(e,t,i,r))&&(nc(n,e,r,i=ec()),Qa(n,t,r))}}function Ga(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ka(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xa={readContext:Os,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},Ja={readContext:Os,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Pa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,Ma.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$a.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:ka,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=ka(!1),t=e[0];return e=Wa.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===kl)throw Error(s(349));0!==(30&sa)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Pa(xa.bind(null,r,a,e),[e]),r.flags|=2048,Oa(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=kl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Os,useCallback:Va,useContext:Os,useEffect:Ua,useImperativeHandle:ja,useInsertionEffect:Fa,useLayoutEffect:La,useMemo:Ba,useReducer:ba,useRef:Ra,useState:function(){return ba(wa)},useDebugValue:za,useDeferredValue:function(e){return Ha(ya(),oa.memoizedState,e)},useTransition:function(){return[ba(wa)[0],ya().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},eo={readContext:Os,useCallback:Va,useContext:Os,useEffect:Ua,useImperativeHandle:ja,useInsertionEffect:Fa,useLayoutEffect:La,useMemo:Ba,useReducer:_a,useRef:Ra,useState:function(){return _a(wa)},useDebugValue:za,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[_a(wa)[0],ya().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(nc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=js(e,i,r))&&(nc(t,e,r,n),zs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(i=Ai(t)?Oi:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Os(s):(s=Ai(t)?Oi:Ti.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),uo(0,t)},n}function po(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,js(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=b.ReactCurrentOwner,wo=!1;function bo(e,t,n,r){t.child=null===e?_s(t,null,n,r):bs(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return ks(t,i),r=fa(e,t,n,r,s,i),n=ga(),null===e||wo?(is&&n&&es(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ac(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Dc(s,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return xo(e,t,n,r,i)}function No(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Dl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Dl,Al),Al|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Dl,Al),Al|=r;return bo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xo(e,t,n,r,i){var s=Ai(n)?Oi:Ti.current;return s=Ri(t,s),ks(t,i),n=fa(e,t,n,r,s,i),r=ga(),null===e||wo?(is&&r&&es(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Co(e,t,n,r,i){if(Ai(n)){var s=!0;Fi(t)}else s=!1;if(ks(t,i),null===t.stateNode)Ho(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Ri(t,c=Ai(n)?Oi:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Us=!1;var h=t.memoizedState;a.state=h,Bs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||ki.current||Us?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Us||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Os(l):l=Ri(t,l=Ai(n)?Oi:Ti.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Us=!1,h=t.memoizedState,a.state=h,Bs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||ki.current||Us?("function"===typeof m&&(no(t,n,m,r),p=t.memoizedState),(c=Us||io(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,i)}function To(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Wo(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function ko(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Ks(e,t.containerInfo)}function Oo(e,t,n,r,i){return ms(),ps(i),t.flags|=256,bo(e,t,n,r),t.child}var Ro,Ao,Do,Po,Uo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,i,0,null),e=Uc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Uo,e):Mo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,jo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Uc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Uo,a);if(0===(1&t.mode))return jo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,jo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=kl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ps(e,i),nc(r,e,i,-1))}return fc(),jo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Yi[Gi++]=Qi,Yi[Gi++]=Xi,Yi[Gi++]=Ki,Qi=e.id,Xi=e.overflow,Ki=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Uc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Uo,i}return e=(o=e.child).sibling,i=Dc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Mo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jo(e,t,n,r){return null!==r&&ps(r),bs(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $o(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(t),null;case 1:case 17:return Ai(t.type)&&Di(),$o(t),null;case 3:return r=t.stateNode,Qs(),Si(ki),Si(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Ao(e,t),$o(t),null;case 5:Js(t);var i=Gs(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $o(t),null}if(e=Gs(qs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[mi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)jr(Ur[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Q(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":$(r),Z(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[mi]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)jr(Ur[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Q(e,r),i=K(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $o(t),null;case 6:if(e&&null!=t.stateNode)Po(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs(Ys.current),Gs(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return $o(t),null;case 13:if(Si(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$o(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Pl&&(Pl=3):fc())),null!==t.updateQueue&&(t.flags|=4),$o(t),null);case 4:return Qs(),Ao(e,t),null===e&&Br(t.stateNode.containerInfo),$o(t),null;case 10:return Cs(t.type._context),$o(t),null;case 19:if(Si(Zs),null===(a=t.memoizedState))return $o(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qo(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,qo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Bl&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return $o(t),null}else 2*Xe()-a.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,xi(Zs,r?1&n|2:1&n),t):($o(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&($o(t),6&t.subtreeFlags&&(t.flags|=8192)):$o(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Go(e,t){switch(ts(t),t.tag){case 1:return Ai(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Si(ki),Si(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Si(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Zs),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Do=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gs(qs.current);var s,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Po=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ko=!1,Qo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[mi],delete t[fi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));ml(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Nc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Nc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):w(i,d,h,u)}switch(l){case"input":J(i,a);break;case"textarea":se(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):m!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[mi]=a}catch(g){Nc(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Nc(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,fl(t,e),Qo=u):fl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(m=Jo).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){r=m,n=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Nc(r,n,g)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){_l(h);continue}}null!==p?(p.return=m,Jo=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Jo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ko;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Ko;var c=Qo;if(Ko=a,(Qo=l)&&!c)for(Jo=i;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?Il(i):null!==l?(l.return=a,Jo=l):Il(i);for(;null!==s;)Jo=s,wl(s,t,n),s=s.sibling;Jo=i,Ko=o,Qo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Jo=s):bl(e)}}function bl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&il(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function _l(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function Il(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Nc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Nc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Nc(t,a,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var El,Nl=Math.ceil,Sl=b.ReactCurrentDispatcher,xl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Tl=0,kl=null,Ol=null,Rl=0,Al=0,Dl=Ni(0),Pl=0,Ul=null,Fl=0,Ll=0,Ml=0,jl=null,zl=null,Vl=0,Bl=1/0,Hl=null,Wl=!1,ql=null,$l=null,Yl=!1,Gl=null,Kl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Rl?Rl&-Rl:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Tl)&&e===kl||(e===kl&&(0===(2&Tl)&&(Ll|=n),4===Pl&&oc(e,Rl)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Xe()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=mt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===kl?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),ai((function(){0===(6&Tl)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=kc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=ht(e,e===kl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var a=pc();for(kl===e&&Rl===t||(Hl=null,Bl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){mc(e,l)}xs(),Sl.current=a,Tl=i,null!==Ol?t=0:(kl=null,Rl=0,t=Pl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ul,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=sc(e,a))),1===t))throw n=Ul,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,zl,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,zl,Hl),t);break}_c(e,zl,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,zl,Hl),r);break}_c(e,zl,Hl);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ac(t)),e}function ac(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Ml,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));Ic();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ul,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,zl,Hl),rc(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Xe()+500,ji&&Bi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Tl)&&Ic();var t=Tl;Tl|=1;var n=Cl.transition,r=wt;try{if(Cl.transition=null,wt=1,e)return e()}finally{wt=r,Cl.transition=n,0===(6&(Tl=t))&&Bi()}}function dc(){Al=Dl.current,Si(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:Qs(),Si(ki),Si(Ti),na();break;case 5:Js(r);break;case 4:Qs();break;case 13:case 19:Si(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(kl=e,Ol=e=Dc(e.current,null),Rl=Al=t,Pl=0,Ul=null,Ml=Ll=Fl=0,zl=jl=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(r=(n=Rs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Rs=null}return e}function mc(e,t){for(;;){var n=Ol;try{if(xs(),ra.current=Xa,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,xl.current=null,null===n||null===n.return){Pl=1,Ul=t,Ol=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&fo(a,u,t),c=u;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(a,u,t),fc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}a=c=lo(c,l),4!==Pl&&(Pl=2),null===jl?jl=[a]:jl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,mo(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$l||!$l.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,po(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Xa,null===e?Xa:e}function fc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===kl||0===(268435455&Fl)&&0===(268435455&Ll)||oc(kl,Rl)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(kl===e&&Rl===t||(Hl=null,hc(e,t));;)try{vc();break}catch(i){mc(e,i)}if(xs(),Tl=n,Sl.current=r,null!==Ol)throw Error(s(261));return kl=null,Rl=0,Pl}function vc(){for(;null!==Ol;)wc(Ol)}function yc(){for(;null!==Ol&&!Ke();)wc(Ol)}function wc(e){var t=El(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bc(e):Ol=t,xl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Al)))return void(Ol=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Pl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Pl&&(Pl=5)}function _c(e,t,n){var r=wt,i=Cl.transition;try{Cl.transition=null,wt=1,function(e,t,n,r){do{Ic()}while(null!==Gl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===kl&&(Ol=kl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,kc(tt,(function(){return Ic(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=wt;wt=1;var l=Tl;Tl|=4,xl.current=null,function(e,t){if(ei=Wt,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Nc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}f=tl,tl=!1}(e,n),gl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Tl=l,wt=o,Cl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Gl=e,Kl=i),a=e.pendingLanes,0===a&&($l=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Kl)&&0!==e.tag&&Ic(),a=e.pendingLanes,0!==(1&a)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,wt=r}return null}function Ic(){if(null!==Gl){var e=bt(Kl),t=Cl.transition,n=wt;try{if(Cl.transition=null,wt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Kl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var m=(d=Jo).sibling,p=d.return;if(sl(d),d===u){Jo=null;break}if(null!==m){m.return=p,Jo=m;break}Jo=p}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Jo=y;break e}Jo=a.return}}var w=e.current;for(Jo=w;null!==Jo;){var b=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Jo=b;else e:for(o=w;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(I){Nc(l,l.return,I)}if(l===o){Jo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Jo=_;break e}Jo=l.return}}if(Tl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{wt=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=js(e,t=mo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=js(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Rl&n)===n&&(4===Pl||3===Pl&&(130023424&Rl)===Rl&&500>Xe()-Vl?hc(e,0):Ml|=n),rc(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ps(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),xc(e,n)}function kc(e,t){return Ye(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Uc(n.children,i,a,t);case N:o=8,i|=8;break;case S:return(e=Rc(12,n,t,2|i)).elementType=S,e.lanes=a,e;case k:return(e=Rc(13,n,t,i)).elementType=k,e.lanes=a,e;case O:return(e=Rc(19,n,t,i)).elementType=O,e.lanes=a,e;case D:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case C:o=9;break e;case T:o=11;break e;case R:o=14;break e;case A:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Uc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,a,o,l){return e=new jc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function Vc(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ui(e,n,t)}return t}function Bc(e,t,n,r,i,s,a,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Ms(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,js(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=js(i,t,a))&&(nc(e,i,a,s),zs(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:ko(t),ms();break;case 5:Xs(t);break;case 1:Ai(t.type)&&Fi(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Is,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(xi(Zs,1&Zs.current),null!==(e=Wo(e,t,n))?e.sibling:null);xi(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Wo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ri(t,Ti.current);ks(t,n),i=fa(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Fi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fs(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===R)return 14}return 2}(r),e=to(r,e),i){case 0:t=xo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Io(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(ko(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ls(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Oo(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Oo(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===i){t=Wo(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Lo(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,xi(Is,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!ki.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ms(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ks(t,n),r=r(i=Os(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),Io(e,t,r,i=to(r.type,i),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Ai(r)?(e=!0,Fi(t)):e=!1,ks(t,n),so(t,r,i),oo(t,r,i,n),To(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return No(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Br(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Kc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Kc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Tl)&&(Bl=Xe()+500,Bi()))}break;case 13:uc((function(){var t=Ps(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),$c(e,1)}},It=function(e){if(13===e.tag){var t=Ps(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Ps(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},Nt=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ie=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));Y(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,ke=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,_i,xe,Ce,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,f(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,E={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!N.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),k(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=k(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=k(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:E};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=U,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!f)if(null!==r(c))f=!0,D(I);else{var t=r(u);null!==t&&P(_,t.startTime-e)}}function I(e,n){f=!1,g&&(g=!1,y(x),x=-1),p=!0;var s=m;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!k());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(_,d.startTime-n),l=!1}return l}finally{h=null,m=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,N=!1,S=null,x=-1,C=5,T=-1;function k(){return!(t.unstable_now()-T<C)}function O(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?E():(N=!1,S=null)}}else N=!1}if("function"===typeof w)E=function(){w(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,A=R.port2;R.port1.onmessage=O,E=function(){A.postMessage(null)}}else E=function(){v(O,0)};function D(e){S=e,N||(N=!0,E())}function P(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,D(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(x),x=-1):g=!0,P(_,s-a))):(e.sortIndex=o,n(c,e),f||p||(f=!0,D(I))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},290:(e,t,n)=>{var r={"./Animated.gif":4184,"./BG1.mp3":9728,"./Bio_World.gif":586,"./Bite.gif":8001,"./Character.png":4879,"./Chemistry.gif":1807,"./Grass.png":7112,"./SFX/almanac.wav":9431,"./SFX/bossfight.wav":3897,"./SFX/fightsound.wav":529,"./SFX/hint.wav":3445,"./SFX/hit.wav":5881,"./SFX/lose.wav":1777,"./SFX/scoreboard.wav":8120,"./SFX/scramble.wav":8831,"./SFX/settings.wav":2949,"./SFX/win.wav":2076,"./atom.gif":2724,"./attack.gif":1479,"./attack.png":5160,"./attack/mc_idle.gif":827,"./attack/newchar_attack.gif":2635,"./avatar/1.jpg":3263,"./avatar/ALIEN AVATAR.jpg":3528,"./avatar/ASTRONOUT AVATAR.jpg":7274,"./avatar/CUTE AVATAR.jpg":2610,"./avatar/GEISHA AVATAR.jpg":6350,"./avatar/NINJA AVATAR.jpg":7635,"./avatar/SUSHICAT AVATAR.jpg":1639,"./bg.gif":2202,"./biology_background.png":4052,"./black_hole.gif":449,"./chemistry_world.gif":8918,"./dialogueBox.png":2083,"./enemyOne.png":6372,"./enemyTwo.png":1062,"./functionBackground.png":3556,"./graviton.gif":1305,"./heart.png":150,"./microbe.gif":5118,"./molecule.gif":9423,"./mutant_dna.gif":8216,"./newchar.gif":3171,"./physics_background.png":4014,"./physics_world.gif":7855,"./quark.gif":183,"./reaction_master.gif":1711,"./slimes.gif":8628,"./toxin.gif":8445,"./try.gif":6482};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=290},9728:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/BG1.162123a86b8ccaafebae.mp3"},9431:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/almanac.c84a5035293efd3820ed.wav"},3897:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bossfight.13a248989f431ec27977.wav"},529:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fightsound.5cc2568dfa1aa6ff9330.wav"},3445:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/hint.3e2b8a36c21e21afa1a5.wav"},5881:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/hit.9d083d7c643182eeb3df.wav"},1777:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lose.183e2b8a775ec673ac2a.wav"},8120:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/scoreboard.81618b393909219f2686.wav"},8831:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/scramble.07de398be9000512fd06.wav"},2949:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/settings.095784e788a206ad439d.wav"},2076:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/win.9b5b1a6223e1057f8898.wav"},4184:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Animated.c83b4b9500767e19be29.gif"},586:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Bio_World.98db9953165e417965d5.gif"},8001:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Bite.99b2d69bb17237c8e525.gif"},4879:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Character.7b1b389354f4d1ff7ba4.png"},1807:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Chemistry.e48784934d1d7de377c9.gif"},7112:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Grass.b6471f1ff0a061c0f284.png"},2724:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/atom.a392fe3fe0c9ff049b35.gif"},1479:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/attack.58df2fae68bae00658ab.gif"},5160:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/attack.71805d272610c57238cf.png"},827:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mc_idle.fccf029a52fb1d18ed83.gif"},2635:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/newchar_attack.6f70bd98eb3dd30b0b9f.gif"},3263:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/1.e939fd7cf1f097840128.jpg"},3528:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ALIEN AVATAR.0dca0309d5d45034ee24.jpg"},7274:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ASTRONOUT AVATAR.201218c425fc8e290079.jpg"},2610:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/CUTE AVATAR.8b731dc5e0a099924d8b.jpg"},6350:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/GEISHA AVATAR.6ad9cf75b19731698319.jpg"},7635:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/NINJA AVATAR.c8010dfa259b9c353eb4.jpg"},1639:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/SUSHICAT AVATAR.5ce4ee58b3fb164f3f2f.jpg"},2202:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/bg.2294d258cdadf77e4af4.gif"},4052:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/biology_background.ce5c7746de8367e29197.png"},449:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/black_hole.2dd306d297a65d3aa264.gif"},8918:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chemistry_world.2142eb0e08a64acbd7fb.gif"},2083:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/dialogueBox.4c6d86e9ecfe4cb95666.png"},6372:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/enemyOne.8d3e58a795313a7c2f3c.png"},1062:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/enemyTwo.e5832c34d4d10e16d712.png"},3556:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/functionBackground.457534b17c54dfbf63f0.png"},1305:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/graviton.9fc036dc5a1ff744bf6b.gif"},150:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/heart.256ff0b33b1f48ad7f52.png"},5118:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/microbe.13a8cde36f588d5b9340.gif"},9423:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/molecule.aa069e08bceac5baa448.gif"},8216:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mutant_dna.2cab49bbd3968e6685c9.gif"},3171:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/newchar.f9b98efd3aa97e83d276.gif"},4014:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/physics_background.0b4d97e9ee7e109f7a35.png"},7855:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/physics_world.ab3c1cb140792fc620a3.gif"},183:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/quark.a388fba0feee6168ba85.gif"},1711:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/reaction_master.15e50331c0bb1647c9d0.gif"},8628:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/slimes.6527bae97bb1de20875d.gif"},8445:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/toxin.c5181d2e211f99a0bc50.gif"},6482:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/try.e43287c4ebac2ea94075.gif"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".2b0de4b9.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="gamified:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(m);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkgamified=self.webpackChunkgamified||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n(4391);const r=(0,e.createContext)(null);function i(t){let{clientId:n,nonce:i,onScriptLoadSuccess:s,onScriptLoadError:a,children:o}=t;const l=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:n,onScriptLoadSuccess:r,onScriptLoadError:i}=t,[s,a]=(0,e.useState)(!1),o=(0,e.useRef)(r);o.current=r;const l=(0,e.useRef)(i);return l.current=i,(0,e.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=n,e.onload=()=>{var e;a(!0),null===(e=o.current)||void 0===e||e.call(o)},e.onerror=()=>{var e;a(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[n]),s}({nonce:i,onScriptLoadSuccess:s,onScriptLoadError:a}),c=(0,e.useMemo)((()=>({clientId:n,scriptLoadedSuccessfully:l})),[n,l]);return e.createElement(r.Provider,{value:c},o)}const s=!1,a=!1,o="${JSCORE_VERSION}",l=function(e,t){if(!e)throw c(t)},c=function(e){return new Error("Firebase Database ("+o+") INTERNAL ASSERT FAILED: "+e)},u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new h;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m=function(e){const t=u(e);return d.encodeByteArray(t,!0)},p=function(e){return m(e).replace(/\./g,"")},f=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function g(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}const y=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,w=()=>{try{return y()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&f(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},b=e=>{var t,n;return null===(n=null===(t=w())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},_=e=>{const t=b(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},I=()=>{var e;return null===(e=w())||void 0===e?void 0:e.config},E=e=>{var t;return null===(t=w())||void 0===t?void 0:t[`_${e}`]};class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function S(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(s)),""].join(".")}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function T(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){return!0===s||!0===a}class O extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,O.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(A,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new O(n,s,t)}}const A=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function P(e){return JSON.stringify(e)}const U=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=D(f(s[0])||""),n=D(f(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function M(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function j(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function z(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(V(n)&&V(s)){if(!z(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V(e){return null!==e&&"object"===typeof e}function B(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function H(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function W(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class q{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^a&(o^l),i=1518500249):(r=a^o^l,i=1859775393):u<60?(r=a&o|l&(a|o),i=2400959708):(r=a^o^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=o,o=4294967295&(a<<30|a>>>2),a=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class ${constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Y),void 0===r.error&&(r.error=Y),void 0===r.complete&&(r.complete=Y);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Y(){}function G(e,t){return`${e} failed: ${t} argument `}const K=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Q(e){return e&&e._delegate?e._delegate:e}class X{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const J="[DEFAULT]";class Z{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new N;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:J})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===J?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;return this.component?this.component.multipleInstances?e:J:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Z(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const te=[];var ne;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ne||(ne={}));const re={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ie=ne.INFO,se={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ae=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=se[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class oe{constructor(e){this.name=e,this._logLevel=ie,this._logHandler=ae,this._userLogHandler=null,te.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?re[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}let le,ce;const ue=new WeakMap,de=new WeakMap,he=new WeakMap,me=new WeakMap,pe=new WeakMap;let fe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return de.get(e);if("objectStoreNames"===t)return e.objectStoreNames||he.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ye(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ge(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(we(this),n),ye(ue.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(e.apply(we(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(we(this),t,...r);return he.set(s,t.sort?t.sort():[t]),ye(s)}}function ve(e){return"function"===typeof e?ge(e):(e instanceof IDBTransaction&&function(e){if(de.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));de.set(e,t)}(e),t=e,(le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,fe):e);var t}function ye(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ye(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ue.set(t,e)})).catch((()=>{})),pe.set(t,e),t}(e);if(me.has(e))return me.get(e);const t=ve(e);return t!==e&&(me.set(e,t),pe.set(t,e)),t}const we=e=>pe.get(e);const be=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],Ie=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ie.get(t))return Ie.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!be.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Ie.set(t,s),s}fe=(e=>({...e,get:(t,n,r)=>Ee(t,n)||e.get(t,n,r),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}))(fe);class Ne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Se="@firebase/app",xe="0.11.0",Ce=new oe("@firebase/app"),Te="@firebase/app-compat",ke="@firebase/analytics-compat",Oe="@firebase/analytics",Re="@firebase/app-check-compat",Ae="@firebase/app-check",De="@firebase/auth",Pe="@firebase/auth-compat",Ue="@firebase/database",Fe="@firebase/data-connect",Le="@firebase/database-compat",Me="@firebase/functions",je="@firebase/functions-compat",ze="@firebase/installations",Ve="@firebase/installations-compat",Be="@firebase/messaging",He="@firebase/messaging-compat",We="@firebase/performance",qe="@firebase/performance-compat",$e="@firebase/remote-config",Ye="@firebase/remote-config-compat",Ge="@firebase/storage",Ke="@firebase/storage-compat",Qe="@firebase/firestore",Xe="@firebase/vertexai",Je="@firebase/firestore-compat",Ze="firebase",et="[DEFAULT]",tt={[Se]:"fire-core",[Te]:"fire-core-compat",[Oe]:"fire-analytics",[ke]:"fire-analytics-compat",[Ae]:"fire-app-check",[Re]:"fire-app-check-compat",[De]:"fire-auth",[Pe]:"fire-auth-compat",[Ue]:"fire-rtdb",[Fe]:"fire-data-connect",[Le]:"fire-rtdb-compat",[Me]:"fire-fn",[je]:"fire-fn-compat",[ze]:"fire-iid",[Ve]:"fire-iid-compat",[Be]:"fire-fcm",[He]:"fire-fcm-compat",[We]:"fire-perf",[qe]:"fire-perf-compat",[$e]:"fire-rc",[Ye]:"fire-rc-compat",[Ge]:"fire-gcs",[Ke]:"fire-gcs-compat",[Qe]:"fire-fst",[Je]:"fire-fst-compat",[Xe]:"fire-vertex","fire-js":"fire-js",[Ze]:"fire-js-all"},nt=new Map,rt=new Map,it=new Map;function st(e,t){try{e.container.addComponent(t)}catch(n){Ce.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function at(e){const t=e.name;if(it.has(t))return Ce.debug(`There were multiple attempts to register component ${t}.`),!1;it.set(t,e);for(const n of nt.values())st(n,e);for(const n of rt.values())st(n,e);return!0}function ot(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const ct=new R("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ut{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new X("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}const dt="11.3.0";function ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:et,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ct.create("bad-app-name",{appName:String(i)});if(n||(n=I()),!n)throw ct.create("no-options");const s=nt.get(i);if(s){if(z(n,s.options)&&z(r,s.config))return s;throw ct.create("duplicate-app",{appName:i})}const a=new ee(i);for(const l of it.values())a.addComponent(l);const o=new ut(n,r,a);return nt.set(i,o),o}function mt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et;const t=nt.get(e);if(!t&&e===et&&I())return ht();if(!t)throw ct.create("no-app",{appName:e});return t}function pt(e,t,n){var r;let i=null!==(r=tt[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ce.warn(e.join(" "))}at(new X(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const ft="firebase-heartbeat-store";let gt=null;function vt(){return gt||(gt=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ye(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ye(a.result),e.oldVersion,e.newVersion,ye(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ft)}catch(n){console.warn(n)}}}).catch((e=>{throw ct.create("idb-open",{originalErrorMessage:e.message})}))),gt}async function yt(e,t){try{const n=(await vt()).transaction(ft,"readwrite"),r=n.objectStore(ft);await r.put(t,wt(e)),await n.done}catch(n){if(n instanceof O)Ce.warn(n.message);else{const e=ct.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ce.warn(e.message)}}}function wt(e){return`${e.name}!${e.options.appId}`}class bt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new It(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_t();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ce.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=_t(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Et(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Et(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Ce.warn(t),""}}}function _t(){return(new Date).toISOString().substring(0,10)}class It{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Ht){t(Ht)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await vt()).transaction(ft),n=await t.objectStore(ft).get(wt(e));return await t.done,n}catch(t){if(t instanceof O)Ce.warn(t.message);else{const e=ct.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ce.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return yt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Et(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var Nt;Nt="",at(new X("platform-logger",(e=>new Ne(e)),"PRIVATE")),at(new X("heartbeat",(e=>new bt(e)),"PRIVATE")),pt(Se,xe,Nt),pt(Se,xe,"esm2017"),pt("fire-js","");const St="@firebase/database",xt="1.0.12";let Ct="";function Tt(e){Ct=e}class kt{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),P(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:D(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ot{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return F(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Rt=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kt(t)}}catch(t){}return new Ot},At=Rt("localStorage"),Dt=Rt("sessionStorage"),Pt=new oe("@firebase/database"),Ut=function(){let e=1;return function(){return e++}}(),Ft=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,l(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new q;n.update(t);const r=n.digest();return d.encodeByteArray(r)},Lt=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Lt.apply(null,n):e+="object"===typeof n?P(n):n,e+=" "}return e};let Mt=null,jt=!0;const zt=function(e,t){l(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Pt.logLevel=ne.VERBOSE,Mt=Pt.log.bind(Pt),t&&Dt.set("logging_enabled",!0)):"function"===typeof e?Mt=e:(Mt=null,Dt.remove("logging_enabled"))},Vt=function(){if(!0===jt&&(jt=!1,null===Mt&&!0===Dt.get("logging_enabled")&&zt(!0)),Mt){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Lt.apply(null,t);Mt(r)}},Bt=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Vt(e,...n)}},Ht=function(){const e="FIREBASE INTERNAL ERROR: "+Lt(...arguments);Pt.error(e)},Wt=function(){const e=`FIREBASE FATAL ERROR: ${Lt(...arguments)}`;throw Pt.error(e),new Error(e)},qt=function(){const e="FIREBASE WARNING: "+Lt(...arguments);Pt.warn(e)},$t=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Yt="[MIN_NAME]",Gt="[MAX_NAME]",Kt=function(e,t){if(e===t)return 0;if(e===Yt||t===Gt)return-1;if(t===Yt||e===Gt)return 1;{const n=rn(e),r=rn(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Qt=function(e,t){return e===t?0:e<t?-1:1},Xt=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+P(t))},Jt=function(e){if("object"!==typeof e||null===e)return P(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=P(t[r]),n+=":",n+=Jt(e[t[r]]);return n+="}",n},Zt=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function en(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const tn=function(e){l(!$t(e),"Invalid JSON number");const t=1023;let n,r,i,s,a;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const o=[];for(a=52;a;a-=1)o.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);o.push(n?1:0),o.reverse();const c=o.join("");let u="";for(a=0;a<64;a+=8){let e=parseInt(c.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),u+=e}return u.toLowerCase()};const nn=new RegExp("^-?(0*)\\d{1,10}$"),rn=function(e){if(nn.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},sn=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw qt("Exception was thrown by user callback.",e),t}),Math.floor(0))}},an=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class on{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,lt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){qt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ln{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qt(e)}}class cn{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}cn.OWNER="owner";const un="5",dn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hn="ac",mn="websocket",pn="long_polling";class fn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=At.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&At.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function gn(e,t,n){let r;if(l("string"===typeof t,"typeof type must == string"),l("object"===typeof n,"typeof params must == object"),t===mn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==pn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return en(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class vn{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;F(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return g(this.counters_)}}const yn={},wn={};function bn(e){const t=e.toString();return yn[t]||(yn[t]=new vn),yn[t]}class _n{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&sn((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const In="start";class En{constructor(e,t,n,r,i,s,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bt(e),this.stats_=bn(t),this.urlFn=e=>(this.appCheckToken&&(e[hn]=this.appCheckToken),gn(t,pn,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new _n(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(k()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nn((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,a,o,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===In)n.id=s,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[In]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=un,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[hn]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&dn.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){En.forceAllow_=!0}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){return!k()&&(!!En.forceAllow_||!En.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=P(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=m(t),r=Zt(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(k())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=P(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Nn{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,k())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Ut(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Nn.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Vt("frame writing exception"),i.stack&&Vt(i.stack),Vt(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Vt("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){k()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Sn=null;"undefined"!==typeof MozWebSocket?Sn=MozWebSocket:"undefined"!==typeof WebSocket&&(Sn=WebSocket);class xn{constructor(e,t,n,r,i,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bt(this.connId),this.stats_=bn(t),this.connURL=xn.connectionURL_(t,s,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=un,!k()&&"undefined"!==typeof location&&location.hostname&&dn.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[hn]=r),i&&(s.p=i),gn(e,mn,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,At.set("previous_websocket_failure",!0);try{let e;if(k()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${un}/${Ct}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Sn(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){xn.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Sn&&!xn.forceDisallow_}static previouslyFailed(){return At.isInMemoryStorage||!0===At.get("previous_websocket_failure")}markConnectionHealthy(){At.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=D(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(l(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=P(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Zt(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}xn.responsesRequiredToBeHealthy=2,xn.healthyTimeout=3e4;class Cn{static get ALL_TRANSPORTS(){return[En,xn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=xn&&xn.isAvailable();let n=t&&!xn.previouslyFailed();if(e.webSocketOnly&&(t||qt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[xn];else{const e=this.transports_=[];for(const t of Cn.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Cn.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cn.globalTransportInitialized_=!1;class Tn{constructor(e,t,n,r,i,s,a,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bt("c:"+this.id+":"),this.transportManager_=new Cn(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=an((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Xt("t",e),n=Xt("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Xt("t",e),n=Xt("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Xt("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ht("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ht("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),un!==n&&qt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),an((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):an((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(At.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class kn{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class On{constructor(e){this.allowedEvents_=e,this.listeners_={},l(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){l(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class Rn extends On{static getInstance(){return new Rn}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||C()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return l("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class An{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Dn(){return new An("")}function Pn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Un(e){return e.pieces_.length-e.pieceNum_}function Fn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new An(e.pieces_,t)}function Ln(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Mn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function jn(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new An(t,0)}function zn(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof An)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new An(n,0)}function Vn(e){return e.pieceNum_>=e.pieces_.length}function Bn(e,t){const n=Pn(e),r=Pn(t);if(null===n)return t;if(n===r)return Bn(Fn(e),Fn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Hn(e,t){if(Un(e)!==Un(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Wn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Un(e)>Un(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class qn{constructor(e,t){this.errorPrefix_=t,this.parts_=Mn(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=K(this.parts_[n]);$n(this)}}function $n(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Yn(e))}function Yn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Gn extends On{static getInstance(){return new Gn}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return l("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Kn=1e3;class Qn extends kn{constructor(e,t,n,r,i,s,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=Qn.nextPersistentConnectionId_++,this.log_=Bt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Kn,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!k())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gn.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Rn.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(P(i)),l(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new N,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),l(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,a=i.s;Qn.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&F(e,"w")){const n=L(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();qt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=U(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=U(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),l(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+P(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ht("Unrecognized action received from server: "+P(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){l(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Kn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Kn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Kn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Qn.nextConnectionId_++,i=this.lastSessionId;let s=!1,a=null;const o=function(){a?a.close():(s=!0,n())},c=function(e){l(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:o,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[o,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);s?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=l&&l.token,a=new Tn(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{qt(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Ht){this.log_("Failed to get token: "+Ht),s||(this.repoInfo_.nodeAdmin&&qt(Ht),o())}}}interrupt(e){Vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],M(this.interruptReasons_)&&(this.reconnectDelay_=Kn,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Jt(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new An(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Vt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Vt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";k()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ct.replace(/\./g,"-")]=1,C()?e["framework.cordova"]=1:T()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rn.getInstance().currentlyOnline();return M(this.interruptReasons_)&&e}}Qn.nextPersistentConnectionId_=0,Qn.nextConnectionId_=0;class Xn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Xn(e,t)}}class Jn{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Xn(Yt,e),r=new Xn(Yt,t);return 0!==this.compare(n,r)}minPost(){return Xn.MIN}}let Zn;class er extends Jn{static get __EMPTY_NODE(){return Zn}static set __EMPTY_NODE(e){Zn=e}compare(e,t){return Kt(e.name,t.name)}isDefinedOn(e){throw c("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Xn.MIN}maxPost(){return new Xn(Gt,Zn)}makePost(e,t){return l("string"===typeof e,"KeyIndex indexValue must always be a string."),new Xn(e,Zn)}toString(){return".key"}}const tr=new er;class nr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rr.RED,this.left=null!=r?r:ir.EMPTY_NODE,this.right=null!=i?i:ir.EMPTY_NODE}copy(e,t,n,r,i){return new rr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ir.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rr.RED=!0,rr.BLACK=!1;class ir{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ir.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new ir(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,rr.BLACK,null,null))}remove(e){return new ir(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rr.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new nr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new nr(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new nr(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new nr(this.root_,null,this.comparator_,!0,e)}}function sr(e,t){return Kt(e.name,t.name)}function ar(e,t){return Kt(e,t)}let or;ir.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new rr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const lr=function(e){return"number"===typeof e?"number:"+tn(e):"string:"+e},cr=function(e){if(e.isLeafNode()){const t=e.val();l("string"===typeof t||"number"===typeof t||"object"===typeof t&&F(t,".sv"),"Priority must be a string or number.")}else l(e===or||e.isEmpty(),"priority of unexpected type.");l(e===or||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ur,dr,hr;class mr{static set __childrenNodeConstructor(e){ur=e}static get __childrenNodeConstructor(){return ur}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mr.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,l(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),cr(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new mr(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:mr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Vn(e)?this:".priority"===Pn(e)?this.priorityNode_:mr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:mr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Pn(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(l(".priority"!==n||1===Un(e),".priority must be the last token in a path"),this.updateImmediateChild(n,mr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+lr(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?tn(this.value_):this.value_,this.lazyHash_=Ft(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===mr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof mr.__childrenNodeConstructor?-1:(l(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=mr.VALUE_TYPE_ORDER.indexOf(t),i=mr.VALUE_TYPE_ORDER.indexOf(n);return l(r>=0,"Unknown leaf type: "+t),l(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}mr.VALUE_TYPE_ORDER=["object","boolean","number","string"];const pr=new class extends Jn{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Kt(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Xn.MIN}maxPost(){return new Xn(Gt,new mr("[PRIORITY-POST]",hr))}makePost(e,t){const n=dr(e);return new Xn(t,new mr("[PRIORITY-POST]",n))}toString(){return".priority"}},fr=Math.log(2);class gr{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/fr,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const vr=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let a,o;if(0===s)return null;if(1===s)return a=e[t],o=n?n(a):a,new rr(o,a.node,rr.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return a=e[l],o=n?n(a):a,new rr(o,a.node,rr.BLACK,c,u)}},s=function(t){let r=null,s=null,a=e.length;const o=function(t,r){const s=a-t,o=a;a-=t;const c=i(s+1,o),u=e[s],d=n?n(u):u;l(new rr(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,rr.BLACK):(o(r,rr.BLACK),o(r,rr.RED))}return s}(new gr(e.length));return new ir(r||t,s)};let yr;const wr={};class br{static get Default(){return l(wr&&pr,"ChildrenNode.ts has not been loaded"),yr=yr||new br({".priority":wr},{".priority":pr}),yr}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=L(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ir?t:null}hasIndex(e){return F(this.indexSet_,e.toString())}addIndex(e,t){l(e!==tr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Xn.Wrap);let s,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();s=r?vr(n,e.getCompare()):wr;const o=e.toString(),c=Object.assign({},this.indexSet_);c[o]=e;const u=Object.assign({},this.indexes_);return u[o]=s,new br(u,c)}addToIndexes(e,t){const n=j(this.indexes_,((n,r)=>{const i=L(this.indexSet_,r);if(l(i,"Missing index implementation for "+r),n===wr){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Xn.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),vr(n,i.getCompare())}return wr}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Xn(e.name,r))),i.insert(e,e.node)}}));return new br(n,this.indexSet_)}removeFromIndexes(e,t){const n=j(this.indexes_,(n=>{if(n===wr)return n;{const r=t.get(e.name);return r?n.remove(new Xn(e.name,r)):n}}));return new br(n,this.indexSet_)}}let _r;class Ir{static get EMPTY_NODE(){return _r||(_r=new Ir(new ir(ar),null,br.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&cr(this.priorityNode_),this.children_.isEmpty()&&l(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_r}updatePriority(e){return this.children_.isEmpty()?this:new Ir(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?_r:t}}getChild(e){const t=Pn(e);return null===t?this:this.getImmediateChild(t).getChild(Fn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(l(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Xn(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?_r:this.priorityNode_;return new Ir(r,s,i)}}updateChild(e,t){const n=Pn(e);if(null===n)return t;{l(".priority"!==Pn(e)||1===Un(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Fn(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(pr,((s,a)=>{t[s]=a.val(e),n++,i&&Ir.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+lr(this.getPriority().val())+":"),this.forEachChild(pr,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Ft(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Xn(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Xn(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Xn(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Xn.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Xn.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Er?-1:0}withIndex(e){if(e===tr||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ir(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===tr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(pr),n=t.getIterator(pr);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===tr?null:this.indexMap_.get(e.toString())}}Ir.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Er=new class extends Ir{constructor(){super(new ir(ar),Ir.EMPTY_NODE,br.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ir.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Xn,{MIN:{value:new Xn(Yt,Ir.EMPTY_NODE)},MAX:{value:new Xn(Gt,Er)}}),er.__EMPTY_NODE=Ir.EMPTY_NODE,mr.__childrenNodeConstructor=Ir,or=Er,function(e){hr=e}(Er);function Nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Ir.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),l(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new mr(e,Nr(t))}if(e instanceof Array){let n=Ir.EMPTY_NODE;return en(e,((t,r)=>{if(F(e,t)&&"."!==t.substring(0,1)){const e=Nr(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Nr(t))}{const n=[];let r=!1;if(en(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Nr(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Xn(e,i)))}})),0===n.length)return Ir.EMPTY_NODE;const i=vr(n,sr,(e=>e.name),ar);if(r){const e=vr(n,pr.getCompare());return new Ir(i,Nr(t),new br({".priority":e},{".priority":pr}))}return new Ir(i,Nr(t),br.Default)}}!function(e){dr=e}(Nr);class Sr extends Jn{constructor(e){super(),this.indexPath_=e,l(!Vn(e)&&".priority"!==Pn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Kt(e.name,t.name):i}makePost(e,t){const n=Nr(e),r=Ir.EMPTY_NODE.updateChild(this.indexPath_,n);return new Xn(t,r)}maxPost(){const e=Ir.EMPTY_NODE.updateChild(this.indexPath_,Er);return new Xn(Gt,e)}toString(){return Mn(this.indexPath_,0).join("/")}}const xr=new class extends Jn{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Kt(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Xn.MIN}maxPost(){return Xn.MAX}makePost(e,t){const n=Nr(e);return new Xn(t,n)}toString(){return".value"}};function Cr(e){return{type:"value",snapshotNode:e}}function Tr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function kr(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Or(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Rr{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){l(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(kr(t,a)):l(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Tr(t,n)):s.trackChildChange(Or(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(pr,((e,r)=>{t.hasChild(e)||n.trackChildChange(kr(e,r))})),t.isLeafNode()||t.forEachChild(pr,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Or(t,r,i))}else n.trackChildChange(Tr(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ir.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ar{constructor(e){this.indexedFilter_=new Rr(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ar.getStartPost_(e),this.endPost_=Ar.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new Xn(t,n))||(n=Ir.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Ir.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ir.EMPTY_NODE);const i=this;return t.forEachChild(pr,((e,t)=>{i.matches(new Xn(e,t))||(r=r.updateImmediateChild(e,Ir.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Dr{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Ar(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new Xn(t,n))||(n=Ir.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Ir.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Ir.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Ir.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Ir.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;l(a.numChildren()===this.limit_,"");const o=new Xn(t,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(o);if(a.hasChild(t)){const e=a.getImmediateChild(t);let l=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=l&&(l.name===t||a.hasChild(l.name));)l=r.getChildAfterChild(this.index_,l,this.reverse_);const d=null==l?1:s(l,o);if(u&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Or(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(kr(t,e));const n=a.updateImmediateChild(t,Ir.EMPTY_NODE);return null!=l&&this.rangedFilter_.matches(l)?(null!=i&&i.trackChildChange(Tr(l.name,l.node)),n.updateImmediateChild(l.name,l.node)):n}}return n.isEmpty()?e:u&&s(c,o)>=0?(null!=i&&(i.trackChildChange(kr(c.name,c.node)),i.trackChildChange(Tr(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(c.name,Ir.EMPTY_NODE)):e}}class Pr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return l(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return l(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yt}hasEnd(){return this.endSet_}getIndexEndValue(){return l(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return l(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gt}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return l(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pr}copy(){const e=new Pr;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ur(e,t){const n=e.copy();return n.index_=t,n}function Fr(e){const t={};if(e.isDefault())return t;let n;if(e.index_===pr?n="$priority":e.index_===xr?n="$value":e.index_===tr?n="$key":(l(e.index_ instanceof Sr,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=P(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=P(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+P(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=P(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+P(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Lr(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==pr&&(t.i=e.index_.toString()),t}class Mr extends kn{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(l(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Bt("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Mr.getListenId_(e,n),a={};this.listens_[s]=a;const o=Fr(e._queryParams);this.restRequest_(i+".json",o,((e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(i,o,!1,n),L(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Mr.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Fr(e._queryParams),n=e._path.toString(),r=new N;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+B(t);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&4===o.readyState){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let t=null;if(o.status>=200&&o.status<300){try{t=D(o.responseText)}catch(e){qt("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,t)}else 401!==o.status&&404!==o.status&&qt("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()}))}}class jr{constructor(){this.rootNode_=Ir.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function zr(){return{value:null,children:new Map}}function Vr(e,t,n){if(Vn(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Pn(t);e.children.has(r)||e.children.set(r,zr());Vr(e.children.get(r),t=Fn(t),n)}}function Br(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Br(r,new An(t.toString()+"/"+e),n)}))}class Hr{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&en(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Wr{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Hr(e);const n=1e4+2e4*Math.random();an(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;en(e,((e,r)=>{r>0&&F(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),an(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qr;function $r(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(qr||(qr={}));class Yr{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=qr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Vn(this.path)){if(null!=this.affectedTree.value)return l(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new An(e));return new Yr(Dn(),t,this.revert)}}return l(Pn(this.path)===e,"operationForChild called for unrelated child."),new Yr(Fn(this.path),this.affectedTree,this.revert)}}class Gr{constructor(e,t){this.source=e,this.path=t,this.type=qr.LISTEN_COMPLETE}operationForChild(e){return Vn(this.path)?new Gr(this.source,Dn()):new Gr(this.source,Fn(this.path))}}class Kr{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=qr.OVERWRITE}operationForChild(e){return Vn(this.path)?new Kr(this.source,Dn(),this.snap.getImmediateChild(e)):new Kr(this.source,Fn(this.path),this.snap)}}class Qr{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=qr.MERGE}operationForChild(e){if(Vn(this.path)){const t=this.children.subtree(new An(e));return t.isEmpty()?null:t.value?new Kr(this.source,Dn(),t.value):new Qr(this.source,Dn(),t)}return l(Pn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qr(this.source,Fn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Xr{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Vn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Pn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Jr{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Zr(e,t,n,r,i,s){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw c("Should only compare child_ events.");const r=new Xn(t.childName,t.snapshotNode),i=new Xn(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ei(e,t){return{eventCache:e,serverCache:t}}function ti(e,t,n,r){return ei(new Xr(t,n,r),e.serverCache)}function ni(e,t,n,r){return ei(e.eventCache,new Xr(t,n,r))}function ri(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ii(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let si;class ai{static fromObject(e){let t=new ai(null);return en(e,((e,n)=>{t=t.set(new An(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(si||(si=new ir(Qt)),si);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Dn(),value:this.value};if(Vn(e))return null;{const n=Pn(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Fn(e),t);if(null!=i){return{path:zn(new An(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Vn(e))return this;{const t=Pn(e),n=this.children.get(t);return null!==n?n.subtree(Fn(e)):new ai(null)}}set(e,t){if(Vn(e))return new ai(t,this.children);{const n=Pn(e),r=(this.children.get(n)||new ai(null)).set(Fn(e),t),i=this.children.insert(n,r);return new ai(this.value,i)}}remove(e){if(Vn(e))return this.children.isEmpty()?new ai(null):new ai(null,this.children);{const t=Pn(e),n=this.children.get(t);if(n){const r=n.remove(Fn(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new ai(null):new ai(this.value,i)}return this}}get(e){if(Vn(e))return this.value;{const t=Pn(e),n=this.children.get(t);return n?n.get(Fn(e)):null}}setTree(e,t){if(Vn(e))return t;{const n=Pn(e),r=(this.children.get(n)||new ai(null)).setTree(Fn(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ai(this.value,i)}}fold(e){return this.fold_(Dn(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(zn(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Dn(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Vn(e))return null;{const r=Pn(e),i=this.children.get(r);return i?i.findOnPath_(Fn(e),zn(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Dn(),t)}foreachOnPath_(e,t,n){if(Vn(e))return this;{this.value&&n(t,this.value);const r=Pn(e),i=this.children.get(r);return i?i.foreachOnPath_(Fn(e),zn(t,r),n):new ai(null)}}foreach(e){this.foreach_(Dn(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(zn(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class oi{constructor(e){this.writeTree_=e}static empty(){return new oi(new ai(null))}}function li(e,t,n){if(Vn(t))return new oi(new ai(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const a=Bn(i,t);return s=s.updateChild(a,n),new oi(e.writeTree_.set(i,s))}{const r=new ai(n),i=e.writeTree_.setTree(t,r);return new oi(i)}}}function ci(e,t,n){let r=e;return en(n,((e,n)=>{r=li(r,zn(t,e),n)})),r}function ui(e,t){if(Vn(t))return oi.empty();{const n=e.writeTree_.setTree(t,new ai(null));return new oi(n)}}function di(e,t){return null!=hi(e,t)}function hi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Bn(n.path,t)):null}function mi(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(pr,((e,n)=>{t.push(new Xn(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Xn(e,n.value))})),t}function pi(e,t){if(Vn(t))return e;{const n=hi(e,t);return new oi(null!=n?new ai(n):e.writeTree_.subtree(t))}}function fi(e){return e.writeTree_.isEmpty()}function gi(e,t){return vi(Dn(),e.writeTree_,t)}function vi(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(l(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=vi(zn(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zn(e,".priority"),r)),n}}function yi(e,t){return Ri(t,e)}function wi(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));l(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&bi(t,r.path)?i=!1:Wn(r.path,t.path)&&(s=!0)),a--}if(i){if(s)return function(e){e.visibleWrites=Ii(e.allWrites,_i,Dn()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=ui(e.visibleWrites,r.path);else{en(r.children,(t=>{e.visibleWrites=ui(e.visibleWrites,zn(r.path,t))}))}return!0}return!1}function bi(e,t){if(e.snap)return Wn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Wn(zn(e.path,n),t))return!0;return!1}function _i(e){return e.visible}function Ii(e,t,n){let r=oi.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Wn(n,e)?(t=Bn(n,e),r=li(r,t,s.snap)):Wn(e,n)&&(t=Bn(e,n),r=li(r,Dn(),s.snap.getChild(t)));else{if(!s.children)throw c("WriteRecord should have .snap or .children");if(Wn(n,e))t=Bn(n,e),r=ci(r,t,s.children);else if(Wn(e,n))if(t=Bn(e,n),Vn(t))r=ci(r,Dn(),s.children);else{const e=L(s.children,Pn(t));if(e){const n=e.getChild(Fn(t));r=li(r,Dn(),n)}}}}}return r}function Ei(e,t,n,r,i){if(r||i){const s=pi(e.visibleWrites,t);if(!i&&fi(s))return n;if(i||null!=n||di(s,Dn())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Wn(e.path,t)||Wn(t,e.path))};return gi(Ii(e.allWrites,s,t),n||Ir.EMPTY_NODE)}return null}{const r=hi(e.visibleWrites,t);if(null!=r)return r;{const r=pi(e.visibleWrites,t);if(fi(r))return n;if(null!=n||di(r,Dn())){return gi(r,n||Ir.EMPTY_NODE)}return null}}}function Ni(e,t,n,r){return Ei(e.writeTree,e.treePath,t,n,r)}function Si(e,t){return function(e,t,n){let r=Ir.EMPTY_NODE;const i=hi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pr,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=pi(e.visibleWrites,t);return n.forEachChild(pr,((e,t)=>{const n=gi(pi(i,new An(e)),t);r=r.updateImmediateChild(e,n)})),mi(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return mi(pi(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function xi(e,t,n,r){return function(e,t,n,r,i){l(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=zn(t,n);if(di(e.visibleWrites,s))return null;{const t=pi(e.visibleWrites,s);return fi(t)?i.getChild(n):gi(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ci(e,t){return function(e,t){return hi(e.visibleWrites,t)}(e.writeTree,zn(e.treePath,t))}function Ti(e,t,n,r,i,s){return function(e,t,n,r,i,s,a){let o;const l=pi(e.visibleWrites,t),c=hi(l,Dn());if(null!=c)o=c;else{if(null==n)return[];o=gi(l,n)}if(o=o.withIndex(a),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=a.getCompare(),n=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function ki(e,t,n){return function(e,t,n,r){const i=zn(t,n),s=hi(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return gi(pi(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Oi(e,t){return Ri(zn(e.treePath,t),e.writeTree)}function Ri(e,t){return{treePath:e,writeTree:t}}class Ai{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;l("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),l(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Or(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,kr(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Tr(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw c("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Or(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Di=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Pi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Xr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ki(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ii(this.viewCache_),i=Ti(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Ui(e,t,n,r,i){const s=new Ai;let a,o;if(n.type===qr.OVERWRITE){const c=n;c.source.fromUser?a=Mi(e,t,c.path,c.snap,r,i,s):(l(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered()&&!Vn(c.path),a=Li(e,t,c.path,c.snap,r,i,o,s))}else if(n.type===qr.MERGE){const c=n;c.source.fromUser?a=function(e,t,n,r,i,s,a){let o=t;return r.foreach(((r,l)=>{const c=zn(n,r);ji(t,Pn(c))&&(o=Mi(e,o,c,l,i,s,a))})),r.foreach(((r,l)=>{const c=zn(n,r);ji(t,Pn(c))||(o=Mi(e,o,c,l,i,s,a))})),o}(e,t,c.path,c.children,r,i,s):(l(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Vi(e,t,c.path,c.children,r,i,o,s))}else if(n.type===qr.ACK_USER_WRITE){const o=n;a=o.revert?function(e,t,n,r,i,s){let a;if(null!=Ci(r,n))return t;{const o=new Pi(r,t,i),c=t.eventCache.getNode();let u;if(Vn(n)||".priority"===Pn(n)){let n;if(t.serverCache.isFullyInitialized())n=Ni(r,ii(t));else{const e=t.serverCache.getNode();l(e instanceof Ir,"serverChildren would be complete if leaf node"),n=Si(r,e)}u=e.filter.updateFullNode(c,n,s)}else{const i=Pn(n);let l=ki(r,i,t.serverCache);null==l&&t.serverCache.isCompleteForChild(i)&&(l=c.getImmediateChild(i)),u=null!=l?e.filter.updateChild(c,i,l,Fn(n),o,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,Ir.EMPTY_NODE,Fn(n),o,s):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ni(r,ii(t)),a.isLeafNode()&&(u=e.filter.updateFullNode(u,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=Ci(r,Dn()),ti(t,u,a,e.filter.filtersNodes())}}(e,t,o.path,r,i,s):function(e,t,n,r,i,s,a){if(null!=Ci(i,n))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Vn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Li(e,t,n,l.getNode().getChild(n),i,s,o,a);if(Vn(n)){let r=new ai(null);return l.getNode().forEachChild(tr,((e,t)=>{r=r.set(new An(e),t)})),Vi(e,t,n,r,i,s,o,a)}return t}{let c=new ai(null);return r.foreach(((e,t)=>{const r=zn(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Vi(e,t,n,c,i,s,o,a)}}(e,t,o.path,o.affectedTree,r,i,s)}else{if(n.type!==qr.LISTEN_COMPLETE)throw c("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const s=t.serverCache,a=ni(t,s.getNode(),s.isFullyInitialized()||Vn(n),s.isFiltered());return Fi(e,a,n,r,Di,i)}(e,t,n.path,r,s)}const u=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ri(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Cr(ri(t)))}}(t,a,u),{viewCache:a,changes:u}}function Fi(e,t,n,r,i,s){const a=t.eventCache;if(null!=Ci(r,n))return t;{let o,c;if(Vn(n))if(l(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=ii(t),i=Si(r,n instanceof Ir?n:Ir.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Ni(r,ii(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const u=Pn(n);if(".priority"===u){l(1===Un(n),"Can't have a priority with additional path components");const i=a.getNode();c=t.serverCache.getNode();const s=xi(r,n,i,c);o=null!=s?e.filter.updatePriority(i,s):a.getNode()}else{const l=Fn(n);let d;if(a.isCompleteForChild(u)){c=t.serverCache.getNode();const e=xi(r,n,a.getNode(),c);d=null!=e?a.getNode().getImmediateChild(u).updateChild(l,e):a.getNode().getImmediateChild(u)}else d=ki(r,u,t.serverCache);o=null!=d?e.filter.updateChild(a.getNode(),u,d,l,i,s):a.getNode()}}return ti(t,o,a.isFullyInitialized()||Vn(n),e.filter.filtersNodes())}}function Li(e,t,n,r,i,s,a,o){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(Vn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=Pn(n);if(!l.isCompleteForPath(n)&&Un(n)>1)return t;const i=Fn(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Di,null)}const d=ni(t,c,l.isFullyInitialized()||Vn(n),u.filtersNodes());return Fi(e,d,n,i,new Pi(i,d,s),o)}function Mi(e,t,n,r,i,s,a){const o=t.eventCache;let l,c;const u=new Pi(i,t,s);if(Vn(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=ti(t,c,!0,e.filter.filtersNodes());else{const i=Pn(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=ti(t,c,o.isFullyInitialized(),o.isFiltered());else{const s=Fn(n),c=o.getNode().getImmediateChild(i);let d;if(Vn(s))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===Ln(s)&&e.getChild(jn(s)).isEmpty()?e:e.updateChild(s,r):Ir.EMPTY_NODE}if(c.equals(d))l=t;else{l=ti(t,e.filter.updateChild(o.getNode(),i,d,s,u,a),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ji(e,t){return e.eventCache.isCompleteForChild(t)}function zi(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Vi(e,t,n,r,i,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Vn(n)?r:new ai(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=zi(0,t.serverCache.getNode().getImmediateChild(n),r);c=Li(e,c,new An(n),l,i,s,a,o)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=zi(0,t.serverCache.getNode().getImmediateChild(n),r);c=Li(e,c,new An(n),l,i,s,a,o)}})),c}class Bi{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Rr(n.getIndex()),i=(s=n).loadsAllData()?new Rr(s.getIndex()):s.hasLimit()?new Dr(s):new Ar(s);var s;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,o=t.eventCache,l=r.updateFullNode(Ir.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(Ir.EMPTY_NODE,o.getNode(),null),u=new Xr(l,a.isFullyInitialized(),r.filtersNodes()),d=new Xr(c,o.isFullyInitialized(),i.filtersNodes());this.viewCache_=ei(d,u),this.eventGenerator_=new Jr(this.query_)}get query(){return this.query_}}function Hi(e,t){const n=ii(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Vn(t)&&!n.getImmediateChild(Pn(t)).isEmpty())?n.getChild(t):null}function Wi(e){return 0===e.eventRegistrations_.length}function qi(e,t,n){const r=[];if(n){l(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function $i(e,t,n,r){t.type===qr.MERGE&&null!==t.source.queryId&&(l(ii(e.viewCache_),"We should always have a full cache before handling merges"),l(ri(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Ui(e.processor_,i,t,n,r);var a,o;return a=e.processor_,o=s.viewCache,l(o.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),l(o.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),l(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Yi(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Yi(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Zr(e,i,"child_removed",t,r,n),Zr(e,i,"child_added",t,r,n),Zr(e,i,"child_moved",s,r,n),Zr(e,i,"child_changed",t,r,n),Zr(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Gi,Ki;class Qi{constructor(){this.views=new Map}}function Xi(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return l(null!=s,"SyncTree gave us an op for an invalid query."),$i(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat($i(s,t,n,r));return i}}function Ji(e,t,n,r,i){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=Ni(n,i?r:null),s=!1;e?s=!0:r instanceof Ir?(e=Si(n,r),s=!1):(e=Ir.EMPTY_NODE,s=!1);const a=ei(new Xr(e,s,!1),new Xr(r,i,!1));return new Bi(t,a)}return a}function Zi(e,t,n,r,i,s){const a=Ji(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(pr,((e,t)=>{r.push(Tr(e,t))}));return n.isFullyInitialized()&&r.push(Cr(n.getNode())),Yi(e,r,n.getNode(),t)}(a,n)}function es(e,t,n,r){const i=t._queryIdentifier,s=[];let a=[];const o=ss(e);if("default"===i)for(const[l,c]of e.views.entries())a=a.concat(qi(c,n,r)),Wi(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(a=a.concat(qi(t,n,r)),Wi(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!ss(e)&&s.push(new(l(Gi,"Reference.ts has not been loaded"),Gi)(t._repo,t._path)),{removed:s,events:a}}function ts(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ns(e,t){let n=null;for(const r of e.views.values())n=n||Hi(r,t);return n}function rs(e,t){if(t._queryParams.loadsAllData())return as(e);{const n=t._queryIdentifier;return e.views.get(n)}}function is(e,t){return null!=rs(e,t)}function ss(e){return null!=as(e)}function as(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let os=1;class ls{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ai(null),this.pendingWriteTree_={visibleWrites:oi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cs(e,t,n,r,i){return function(e,t,n,r,i){l(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=li(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?vs(e,new Kr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function us(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(wi(e.pendingWriteTree_,t)){let t=new ai(null);return null!=r.snap?t=t.set(Dn(),!0):en(r.children,(e=>{t=t.set(new An(e),!0)})),vs(e,new Yr(r.path,t,n))}return[]}function ds(e,t,n){return vs(e,new Kr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function hs(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&("default"===t._queryIdentifier||is(a,t))){const l=es(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(s,((e,t)=>ss(t)));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&ss(t)){return[as(t)]}{let e=[];return t&&(e=ts(t)),en(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=bs(e,r);e.listenProvider_.startListening(xs(i),_s(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(xs(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Is(t));e.listenProvider_.stopListening(xs(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Is(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return o}function ms(e,t,n,r){const i=Es(e,r);if(null!=i){const r=Ns(i),s=r.path,a=r.queryId,o=Bn(s,t);return Ss(e,s,new Kr($r(a),o,n))}return[]}function ps(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Bn(e,i);s=s||ns(t,n),a=a||ss(t)}));let o,c=e.syncPointTree_.get(i);if(c?(a=a||ss(c),s=s||ns(c,Dn())):(c=new Qi,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=s)o=!0;else{o=!1,s=Ir.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=ns(t,Dn());n&&(s=s.updateImmediateChild(e,n))}))}const u=is(c,t);if(!u&&!t._queryParams.loadsAllData()){const n=Is(t);l(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=os++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=Zi(c,t,n,yi(e.pendingWriteTree_,i),s,o);if(!u&&!a&&!r){const n=rs(c,t);d=d.concat(function(e,t,n){const r=t._path,i=_s(e,t),s=bs(e,n),a=e.listenProvider_.startListening(xs(t),i,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(r);if(i)l(!ss(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold(((e,t,n)=>{if(!Vn(e)&&t&&ss(t))return[as(t).query];{let e=[];return t&&(e=e.concat(ts(t).map((e=>e.query)))),en(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(xs(r),_s(e,r))}}return a}(e,t,n))}return d}function fs(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=ns(n,Bn(e,t));if(r)return r}));return Ei(r,t,i,n,!0)}function gs(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Bn(e,n);r=r||ns(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||ns(i,Dn()):(i=new Qi,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,a=s?new Xr(r,!0,!1):null;return function(e){return ri(e.viewCache_)}(Ji(i,t,yi(e.pendingWriteTree_,t._path),s?a.getNode():Ir.EMPTY_NODE,s))}function vs(e,t){return ys(t,e.syncPointTree_,null,yi(e.pendingWriteTree_,Dn()))}function ys(e,t,n,r){if(Vn(e.path))return ws(e,t,n,r);{const i=t.get(Dn());null==n&&null!=i&&(n=ns(i,Dn()));let s=[];const a=Pn(e.path),o=e.operationForChild(a),l=t.children.get(a);if(l&&o){const e=n?n.getImmediateChild(a):null,t=Oi(r,a);s=s.concat(ys(o,l,e,t))}return i&&(s=s.concat(Xi(i,e,r,n))),s}}function ws(e,t,n,r){const i=t.get(Dn());null==n&&null!=i&&(n=ns(i,Dn()));let s=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,o=Oi(r,t),l=e.operationForChild(t);l&&(s=s.concat(ws(l,i,a,o)))})),i&&(s=s.concat(Xi(i,e,r,n))),s}function bs(e,t){const n=t.query,r=_s(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Ir.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Es(e,n);if(r){const n=Ns(r),i=n.path,s=n.queryId,a=Bn(i,t);return Ss(e,i,new Gr($r(s),a))}return[]}(e,n._path,r):function(e,t){return vs(e,new Gr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return hs(e,n,null,r)}}}}function _s(e,t){const n=Is(t);return e.queryToTagMap.get(n)}function Is(e){return e._path.toString()+"$"+e._queryIdentifier}function Es(e,t){return e.tagToQueryMap.get(t)}function Ns(e){const t=e.indexOf("$");return l(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new An(e.substr(0,t))}}function Ss(e,t,n){const r=e.syncPointTree_.get(t);l(r,"Missing sync point for query tag that we're tracking");return Xi(r,n,yi(e.pendingWriteTree_,t),null)}function xs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(l(Ki,"Reference.ts has not been loaded"),Ki)(e._repo,e._path):e}class Cs{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Cs(t)}node(){return this.node_}}class Ts{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=zn(this.path_,e);return new Ts(this.syncTree_,t)}node(){return fs(this.syncTree_,this.path_)}}const ks=function(e,t,n){return e&&"object"===typeof e?(l(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Os(e[".sv"],t,n):"object"===typeof e[".sv"]?Rs(e[".sv"],t):void l(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Os=function(e,t,n){if("timestamp"===e)return n.timestamp;l(!1,"Unexpected server value: "+e)},Rs=function(e,t,n){e.hasOwnProperty("increment")||l(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&l(!1,"Unexpected increment value: "+r);const i=t.node();if(l(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},As=function(e,t,n,r){return Ps(t,new Ts(n,e),r)},Ds=function(e,t,n){return Ps(e,new Cs(t),n)};function Ps(e,t,n){const r=e.getPriority().val(),i=ks(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=ks(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new mr(s,Nr(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new mr(i))),r.forEachChild(pr,((e,r)=>{const i=Ps(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class Us{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Fs(e,t){let n=t instanceof An?t:new An(t),r=e,i=Pn(n);for(;null!==i;){const e=L(r.node.children,i)||{children:{},childCount:0};r=new Us(i,r,e),n=Fn(n),i=Pn(n)}return r}function Ls(e){return e.node.value}function Ms(e,t){e.node.value=t,Hs(e)}function js(e){return e.node.childCount>0}function zs(e,t){en(e.node.children,((n,r)=>{t(new Us(n,e,r))}))}function Vs(e,t,n,r){n&&!r&&t(e),zs(e,(e=>{Vs(e,t,!0,r)})),n&&r&&t(e)}function Bs(e){return new An(null===e.parent?e.name:Bs(e.parent)+"/"+e.name)}function Hs(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Ls(e)&&!js(e)}(n),i=F(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Hs(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Hs(e))}(e.parent,e.name,e)}const Ws=/[\[\].#$\/\u0000-\u001F\u007F]/,qs=/[\[\].#$\u0000-\u001F\u007F]/,$s=10485760,Ys=function(e){return"string"===typeof e&&0!==e.length&&!Ws.test(e)},Gs=function(e){return"string"===typeof e&&0!==e.length&&!qs.test(e)},Ks=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!$t(e)||e&&"object"===typeof e&&F(e,".sv")},Qs=function(e,t,n,r){r&&void 0===t||Xs(G(e,"value"),t,n)},Xs=function(e,t,n){const r=n instanceof An?new qn(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Yn(r));if("function"===typeof t)throw new Error(e+"contains a function "+Yn(r)+" with contents = "+t.toString());if($t(t))throw new Error(e+"contains "+t.toString()+" "+Yn(r));if("string"===typeof t&&t.length>$s/3&&K(t)>$s)throw new Error(e+"contains a string greater than "+$s+" utf8 bytes "+Yn(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(en(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Ys(t)))throw new Error(e+" contains an invalid key ("+t+") "+Yn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=K(t),$n(e)}(r,t),Xs(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=K(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Yn(r)+" in addition to actual children.")}},Js=function(e,t,n,r){if((!r||void 0!==n)&&!Gs(n))throw new Error(G(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Zs=function(e,t){if(".info"===Pn(t))throw new Error(e+" failed = Can't modify data under /.info/")},ea=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ys(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Gs(e)}(n))throw new Error(G(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ta{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function na(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Hn(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function ra(e,t,n){na(e,n),sa(e,(e=>Hn(e,t)))}function ia(e,t,n){na(e,n),sa(e,(e=>Wn(e,t)||Wn(t,e)))}function sa(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(aa(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function aa(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Mt&&Vt("event: "+n.toString()),sn(r)}}}const oa="repo_interrupt";class la{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ta,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zr(),this.transactionQueueTree_=new Us,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ca(e,t,n){if(e.stats_=bn(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Mr(e.repoInfo_,((t,n,r,i)=>{ha(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>ma(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{P(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Qn(e.repoInfo_,t,((t,n,r,i)=>{ha(e,t,n,r,i)}),(t=>{ma(e,t)}),(t=>{!function(e,t){en(t,((t,n)=>{pa(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return wn[n]||(wn[n]=t()),wn[n]}(e.repoInfo_,(()=>new Wr(e.stats_,e.server_))),e.infoData_=new jr,e.infoSyncTree_=new ls({startListening:(t,n,r,i)=>{let s=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=ds(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),pa(e,"connected",!1),e.serverSyncTree_=new ls({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);ia(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function ua(e){const t=e.infoData_.getNode(new An(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function da(e){return(t=(t={timestamp:ua(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ha(e,t,n,r,i){e.dataUpdateCount++;const s=new An(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=j(n,(e=>Nr(e)));a=function(e,t,n,r){const i=Es(e,r);if(i){const r=Ns(i),s=r.path,a=r.queryId,o=Bn(s,t),l=ai.fromObject(n);return Ss(e,s,new Qr($r(a),o,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Nr(n);a=ms(e.serverSyncTree_,s,t,i)}else if(r){const t=j(n,(e=>Nr(e)));a=function(e,t,n){const r=ai.fromObject(n);return vs(e,new Qr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Nr(n);a=ds(e.serverSyncTree_,s,t)}let o=s;a.length>0&&(o=Ea(e,s)),ia(e.eventQueue_,o,a)}function ma(e,t){pa(e,"connected",t),!1===t&&function(e){wa(e,"onDisconnectEvents");const t=da(e),n=zr();Br(e.onDisconnect_,Dn(),((r,i)=>{const s=As(r,i,e.serverSyncTree_,t);Vr(n,r,s)}));let r=[];Br(n,Dn(),((t,n)=>{r=r.concat(ds(e.serverSyncTree_,t,n));const i=Ta(e,t);Ea(e,i)})),e.onDisconnect_=zr(),ia(e.eventQueue_,Dn(),r)}(e)}function pa(e,t,n){const r=new An("/.info/"+t),i=Nr(n);e.infoData_.updateSnapshot(r,i);const s=ds(e.infoSyncTree_,r,i);ia(e.eventQueue_,r,s)}function fa(e){return e.nextWriteId_++}function ga(e,t,n,r,i){wa(e,"set",{path:t.toString(),value:n,priority:r});const s=da(e),a=Nr(n,r),o=fs(e.serverSyncTree_,t),l=Ds(a,o,s),c=fa(e),u=cs(e.serverSyncTree_,t,l,c,!0);na(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const s="ok"===n;s||qt("set at "+t+" failed: "+n);const a=us(e.serverSyncTree_,c,!s);ia(e.eventQueue_,t,a),ba(e,i,n,r)}));const d=Ta(e,t);Ea(e,d),ia(e.eventQueue_,d,[])}function va(e,t,n){let r;r=".info"===Pn(t._path)?hs(e.infoSyncTree_,t,n):hs(e.serverSyncTree_,t,n),ra(e.eventQueue_,t._path,r)}function ya(e){e.persistentConnection_&&e.persistentConnection_.interrupt(oa)}function wa(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Vt(t,...r)}function ba(e,t,n,r){t&&sn((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function _a(e,t,n){return fs(e.serverSyncTree_,t,n)||Ir.EMPTY_NODE}function Ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Ca(e,t),Ls(t)){const n=Sa(e,t);l(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=_a(e,t,r);let s=i;const a=i.hash();for(let u=0;u<n.length;u++){const e=n[u];l(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Bn(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const o=s.val(!0),c=t;e.server_.put(c.toString(),o,(r=>{wa(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(us(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Ca(e,Fs(e.transactionQueueTree_,t)),Ia(e,e.transactionQueueTree_),ia(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)sn(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{qt("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Ea(e,t)}}),a)}(e,Bs(t),n)}else js(t)&&zs(t,(t=>{Ia(e,t)}))}function Ea(e,t){const n=Na(e,t),r=Bs(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),a=s.map((e=>e.currentWriteId));for(let c=0;c<t.length;c++){const s=t[c],u=Bn(n,s.path);let d,h=!1;if(l(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,d=s.abortReason,i=i.concat(us(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)h=!0,d="maxretry",i=i.concat(us(e.serverSyncTree_,s.currentWriteId,!0));else{const n=_a(e,s.path,a);s.currentInputSnapshot=n;const r=t[c].update(n.val());if(void 0!==r){Xs("transaction failed: Data returned ",r,s.path);let t=Nr(r);"object"===typeof r&&null!=r&&F(r,".priority")||(t=t.updatePriority(n.getPriority()));const o=s.currentWriteId,l=da(e),c=Ds(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=fa(e),a.splice(a.indexOf(o),1),i=i.concat(cs(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(us(e.serverSyncTree_,o,!0))}else h=!0,d="nodata",i=i.concat(us(e.serverSyncTree_,s.currentWriteId,!0))}ia(e.eventQueue_,n,i),i=[],h&&(t[c].status=2,o=t[c].unwatcher,setTimeout(o,Math.floor(0)),t[c].onComplete&&("nodata"===d?r.push((()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot))):r.push((()=>t[c].onComplete(new Error(d),!1,null)))))}var o;Ca(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)sn(r[l]);Ia(e,e.transactionQueueTree_)}(e,Sa(e,n),r),r}function Na(e,t){let n,r=e.transactionQueueTree_;for(n=Pn(t);null!==n&&void 0===Ls(r);)r=Fs(r,n),n=Pn(t=Fn(t));return r}function Sa(e,t){const n=[];return xa(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function xa(e,t,n){const r=Ls(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);zs(t,(t=>{xa(e,t,n)}))}function Ca(e,t){const n=Ls(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ms(t,n.length>0?n:void 0)}zs(t,(t=>{Ca(e,t)}))}function Ta(e,t){const n=Bs(Na(e,t)),r=Fs(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{ka(e,t)})),ka(e,r),Vs(r,(t=>{ka(e,t)})),n}function ka(e,t){const n=Ls(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(l(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(l(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(us(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ms(t,void 0):n.length=s+1,ia(e.eventQueue_,Bs(t),i);for(let e=0;e<r.length;e++)sn(r[e])}}const Oa=function(e,t){const n=Ra(e),r=n.namespace;"firebase.com"===n.domain&&Wt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Wt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new fn(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new An(n.pathString)}},Ra=function(e){let t="",n="",r="",i="",s="",a=!0,o="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const m=t.slice(0,c);if("localhost"===m.toLowerCase())n="localhost";else if(m.split(".").length<=2)n=m;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}},Aa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class Da{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+P(this.snapshot.exportVal())}}class Pa{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ua{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return l(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Fa{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Vn(this._path)?null:Ln(this._path)}get ref(){return new ja(this._repo,this._path)}get _queryIdentifier(){const e=Lr(this._queryParams),t=Jt(e);return"{}"===t?"default":t}get _queryObject(){return Lr(this._queryParams)}isEqual(e){if(!((e=Q(e))instanceof Fa))return!1;const t=this._repo===e._repo,n=Hn(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function La(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ma(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===tr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Yt)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Gt)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===pr){if(null!=t&&!Ks(t)||null!=n&&!Ks(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(l(e.getIndex()instanceof Sr||e.getIndex()===xr,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}class ja extends Fa{constructor(e,t){super(e,t,new Pr,!1)}get parent(){const e=jn(this._path);return null===e?null:new ja(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class za{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new An(e),n=Ba(this.ref,e);return new za(this._node.getChild(t),n,pr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new za(n,Ba(this.ref,t),pr))))}hasChild(e){const t=new An(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Va(e,t){return(e=Q(e))._checkNotDeleted("ref"),void 0!==t?Ba(e._root,t):e._root}function Ba(e,t){var n,r,i,s;return null===Pn((e=Q(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Js(n,r,i,s)):Js("child","path",t,!1),new ja(e._repo,zn(e._path,t))}function Ha(e,t){e=Q(e),Zs("set",e._path),Qs("set",t,e._path,!1);const n=new N;return ga(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Wa(e){e=Q(e);const t=new Ua((()=>{})),n=new qa(t);return function(e,t,n){const r=gs(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=Nr(r).withIndex(t._queryParams.getIndex());let s;if(ps(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=ds(e.serverSyncTree_,t._path,i);else{const n=_s(e.serverSyncTree_,t);s=ms(e.serverSyncTree_,t._path,i,n)}return ia(e.eventQueue_,t._path,s),hs(e.serverSyncTree_,t,n,null,!0),i}),(n=>(wa(e,"get for query "+P(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new za(t,new ja(e._repo,e._path),e._queryParams.getIndex())))}class qa{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Da("value",this,new za(e.snapshotNode,new ja(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Pa(this,e,t):null}matches(e){return e instanceof qa&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $a{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Pa(this,e,t):null}createEvent(e,t){l(null!=e.childName,"Child events should have a childName.");const n=Ba(new ja(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Da(e.type,this,new za(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof $a&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Ya(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{va(e._repo,e,o),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new Ua(n,s||void 0),o="value"===t?new qa(a):new $a(t,a);return function(e,t,n){let r;r=".info"===Pn(t._path)?ps(e.infoSyncTree_,t,n):ps(e.serverSyncTree_,t,n),ra(e.eventQueue_,t._path,r)}(e._repo,e,o),()=>va(e._repo,e,o)}function Ga(e,t,n,r){return Ya(e,"value",t,n,r)}class Ka{}class Qa extends Ka{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){La(e,"orderByChild");const t=new An(this._path);if(Vn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new Sr(t),r=Ur(e._queryParams,n);return Ma(r),new Fa(e._repo,e._path,r,!0)}}function Xa(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Js("orderByChild","path",e,!1),new Qa(e)}function Ja(e){let t=Q(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(const s of r)t=s._apply(t);return t}!function(e){l(!Gi,"__referenceConstructor has already been defined"),Gi=e}(ja),function(e){l(!Ki,"__referenceConstructor has already been defined"),Ki=e}(ja);const Za={};let eo=!1;function to(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Wt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,o,l=Oa(s,i),c=l.repoInfo;"undefined"!==typeof process&&(o={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),o?(a=!0,s=`http://${o}?ns=${c.namespace}`,l=Oa(s,i),c=l.repoInfo):a=!l.repoInfo.secure;const u=i&&a?new cn(cn.OWNER):new ln(e.name,e.options,t);ea("Invalid Firebase Database URL",l),Vn(l.path)||Wt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Za[t.name];i||(i={},Za[t.name]=i);let s=i[e.toURLString()];s&&Wt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new la(e,eo,n,r),i[e.toURLString()]=s,s}(c,e,u,new on(e,n));return new no(d,e)}class no{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ca(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ja(this._repo,Dn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Za[t];n&&n[e.key]===e||Wt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),ya(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Wt("Cannot call "+e+" on a deleted database.")}}function ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt(),t=arguments.length>1?arguments[1]:void 0;const n=ot(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=_("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Q(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Wt("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Wt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cn(cn.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:S(r.mockUserToken,e.app.options.projectId);s=new cn(t)}!function(e,t,n,r){e.repoInfo_=new fn(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}return n}Qn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Qn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Tt(dt),at(new X("database",((e,t)=>{let{instanceIdentifier:n}=t;return to(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),pt(St,xt,e),pt(St,xt,"esm2017")}();function io(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function so(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ao=so,oo=new R("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lo=new oe("@firebase/auth");function co(e){if(lo.logLevel<=ne.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lo.error(`Auth (${dt}): ${e}`,...n)}}function uo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fo(e,...n)}function ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fo(e,...n)}function mo(e,t,n){const r=Object.assign(Object.assign({},ao()),{[t]:n});return new R("auth","Firebase",r).create(t,{appName:e.name})}function po(e){return mo(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return oo.create(e,...n)}function go(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fo(t,...r)}}function vo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw co(t),new Error(t)}function yo(e,t){e||vo(t)}function wo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bo(){return"http:"===_o()||"https:"===_o()}function _o(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Io(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bo()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Eo{constructor(e,t){this.shortDelay=e,this.longDelay=t,yo(t>e,"Short delay should be less than long delay!"),this.isMobile=C()||T()}get(){return Io()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function No(e,t){yo(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class So{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void vo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void vo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void vo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Co=new Eo(3e4,6e4);function To(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ko(e,t,n,r){return Oo(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=B(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),So.fetch()(Ao(e,e.config.apiHost,n,a),l)}))}async function Oo(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xo),t);try{const t=new Po(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Uo(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Uo(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Uo(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Uo(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw mo(e,o,a);uo(e,o)}}catch(i){if(i instanceof O)throw i;uo(e,"network-request-failed",{message:String(i)})}}async function Ro(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ko(e,t,n,r,i);return"mfaPendingCredential"in s&&uo(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ao(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?No(e.config,i):`${e.config.apiScheme}://${i}`}function Do(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Po{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ho(this.auth,"network-request-failed"))),Co.get())}))}}function Uo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ho(e,t,r);return i.customData._tokenResponse=n,i}function Fo(e){return void 0!==e&&void 0!==e.enterprise}class Lo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Do(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mo(e,t){return ko(e,"GET","/v2/recaptchaConfig",To(e,t))}async function jo(e,t){return ko(e,"POST","/v1/accounts:lookup",t)}function zo(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Vo(e){return 1e3*Number(e)}function Bo(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return co("JWT malformed, contained fewer than 3 sections"),null;try{const e=f(n);return e?JSON.parse(e):(co("Failed to decode base64 JWT payload"),null)}catch(i){return co("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Ho(e){const t=Bo(e);return go(t,"internal-error"),go("undefined"!==typeof t.exp,"internal-error"),go("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof O&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class qo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class $o{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wo(e,jo(n,{idToken:r}));go(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Go(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $o(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function Go(e){return e.map((e=>{var{providerId:t}=e,n=io(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){go(e.idToken,"internal-error"),go("undefined"!==typeof e.idToken,"internal-error"),go("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Ho(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){go(0!==e.length,"internal-error");const t=Ho(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(go(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Oo(e,{},(async()=>{const n=B({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ao(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",So.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ko;return n&&(go("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(go("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(go("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return vo("not implemented")}}function Qo(e,t){go("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Xo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=io(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $o(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return go(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Q(e),r=await n.getIdToken(t),i=Bo(r);go(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:zo(Vo(i.auth_time)),issuedAtTime:zo(Vo(i.iat)),expirationTime:zo(Vo(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Q(e);await Yo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(go(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){go(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Yo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lt(this.auth.app))return Promise.reject(po(this.auth));const e=await this.getIdToken();return await Wo(this,async function(e,t){return ko(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,m=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,f=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:I}=t;go(y&&I,e,"internal-error");const E=Ko.fromJSON(this.name,I);go("string"===typeof y,e,"internal-error"),Qo(u,e.name),Qo(d,e.name),go("boolean"===typeof w,e,"internal-error"),go("boolean"===typeof b,e,"internal-error"),Qo(h,e.name),Qo(m,e.name),Qo(p,e.name),Qo(f,e.name),Qo(g,e.name),Qo(v,e.name);const N=new Xo({uid:y,auth:e,email:d,emailVerified:w,displayName:u,isAnonymous:b,photoURL:m,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(N.providerData=_.map((e=>Object.assign({},e)))),f&&(N._redirectEventId=f),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ko;r.updateFromServerResponse(t);const i=new Xo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Yo(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];go(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Go(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Ko;a.updateFromIdToken(n);const o=new Xo({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new $o(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Jo=new Map;function Zo(e){yo(e instanceof Function,"Expected a class definition");let t=Jo.get(e);return t?(yo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jo.set(e,t),t)}class el{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}el.type="NONE";const tl=el;function nl(e,t,n){return`firebase:${e}:${t}:${n}`}class rl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=nl(this.userKey,r.apiKey,i),this.fullPersistenceKey=nl("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new rl(Zo(tl),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Zo(tl);const s=nl(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Xo._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new rl(i,e,n)):new rl(i,e,n)}}function il(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ll(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(sl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ul(t))return"Blackberry";if(dl(t))return"Webos";if(al(t))return"Safari";if((t.includes("chrome/")||ol(t))&&!t.includes("edge/"))return"Chrome";if(cl(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function sl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/firefox\//i.test(e)}function al(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ol(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/crios\//i.test(e)}function ll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iemobile/i.test(e)}function cl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/android/i.test(e)}function ul(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/blackberry/i.test(e)}function dl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/webos/i.test(e)}function hl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ml(){return function(){const e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function pl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x();return hl(e)||cl(e)||dl(e)||ul(e)||/windows phone/i.test(e)||ll(e)}function fl(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=il(x());break;case"Worker":t=`${il(x())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${dt}/${r}`}class gl{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class vl{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class yl{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bl(this),this.idTokenSubscription=new bl(this),this.beforeStateQueue=new gl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zo(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await jo(this,{idToken:e}),n=await Xo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(lt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return go(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yo(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lt(this.app))return Promise.reject(po(this));const t=e?Q(e):null;return t&&go(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&go(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return lt(this.app)?Promise.reject(po(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lt(this.app)?Promise.reject(po(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Zo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ko(e,"GET","/v2/passwordPolicy",To(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new vl(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new R("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ko(e,"POST","/v2/accounts:revokeToken",To(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zo(e)||this._popupRedirectResolver;go(t,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Zo(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(go(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return go(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(lo.logLevel<=ne.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lo.warn(`Auth (${dt}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function wl(e){return Q(e)}class bl{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new $(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return go(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _l={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Il(e){return _l.loadJS(e)}function El(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Nl{constructor(){this.enterprise=new Sl}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Sl{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xl="NO_RECAPTCHA";class Cl{constructor(e){this.type="recaptcha-enterprise",this.auth=wl(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Fo(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(xl)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Nl).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Mo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Lo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Fo(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=_l.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Il(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Tl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Cl(e);let a;if(i)a=xl;else try{a=await s.verify(n)}catch(Ht){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function kl(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Tl(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Tl(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Tl(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Tl(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Tl(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Ol(e){const t=wl(e),n=await Mo(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Lo(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Cl(t).verify()}}function Rl(e,t,n){const r=wl(e);go(r._canInitEmulator,r,"emulator-config-failed"),go(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Al(t),{host:a,port:o}=function(e){const t=Al(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Dl(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Dl(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Al(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dl(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Pl{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vo("not implemented")}_getIdTokenResponse(e){return vo("not implemented")}_linkToIdToken(e,t){return vo("not implemented")}_getReauthenticationResolver(e){return vo("not implemented")}}async function Ul(e,t){return ko(e,"POST","/v1/accounts:signUp",t)}async function Fl(e,t){return Ro(e,"POST","/v1/accounts:signInWithPassword",To(e,t))}async function Ll(e,t){return ko(e,"POST","/v1/accounts:sendOobCode",To(e,t))}async function Ml(e,t){return Ll(e,t)}class jl extends Pl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new jl(e,t,"password")}static _fromEmailAndCode(e,t){return new jl(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kl(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Fl,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ro(e,"POST","/v1/accounts:signInWithEmailLink",To(e,t))}(e,{email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kl(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ul,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Ro(e,"POST","/v1/accounts:signInWithEmailLink",To(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zl(e,t){return Ro(e,"POST","/v1/accounts:signInWithIdp",To(e,t))}class Vl extends Pl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):uo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=io(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Vl(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return zl(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=B(t)}return e}}async function Bl(e,t){return ko(e,"POST","/v1/accounts:sendVerificationCode",To(e,t))}const Hl={USER_NOT_FOUND:"user-not-found"};class Wl extends Pl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Wl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Wl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ro(e,"POST","/v1/accounts:signInWithPhoneNumber",To(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ro(e,"POST","/v1/accounts:signInWithPhoneNumber",To(e,t));if(n.temporaryProof)throw Uo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ro(e,"POST","/v1/accounts:signInWithPhoneNumber",To(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Hl)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Wl({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ql{constructor(e){var t,n,r,i,s,a;const o=H(W(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);go(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=H(W(e)).link,n=t?H(W(t)).deep_link_id:null,r=H(W(e)).deep_link_id;return(r?H(W(r)).link:null)||r||n||t||e}(e);try{return new ql(t)}catch(n){return null}}}class $l{constructor(){this.providerId=$l.PROVIDER_ID}static credential(e,t){return jl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ql.parseLink(t);return go(n,"argument-error"),jl._fromEmailAndCode(e,n.code,n.tenantId)}}$l.PROVIDER_ID="password",$l.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$l.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Yl{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gl extends Yl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kl extends Gl{constructor(){super("facebook.com")}static credential(e){return Vl._fromParams({providerId:Kl.PROVIDER_ID,signInMethod:Kl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kl.credentialFromTaggedObject(e)}static credentialFromError(e){return Kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Kl.credential(t.oauthAccessToken)}catch(n){return null}}}Kl.FACEBOOK_SIGN_IN_METHOD="facebook.com",Kl.PROVIDER_ID="facebook.com";class Ql extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vl._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ql.credentialFromTaggedObject(e)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ql.credential(n,r)}catch(i){return null}}}Ql.GOOGLE_SIGN_IN_METHOD="google.com",Ql.PROVIDER_ID="google.com";class Xl extends Gl{constructor(){super("github.com")}static credential(e){return Vl._fromParams({providerId:Xl.PROVIDER_ID,signInMethod:Xl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xl.credentialFromTaggedObject(e)}static credentialFromError(e){return Xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xl.credential(t.oauthAccessToken)}catch(n){return null}}}Xl.GITHUB_SIGN_IN_METHOD="github.com",Xl.PROVIDER_ID="github.com";class Jl extends Gl{constructor(){super("twitter.com")}static credential(e,t){return Vl._fromParams({providerId:Jl.PROVIDER_ID,signInMethod:Jl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jl.credentialFromTaggedObject(e)}static credentialFromError(e){return Jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Jl.credential(n,r)}catch(i){return null}}}async function Zl(e,t){return Ro(e,"POST","/v1/accounts:signUp",To(e,t))}Jl.TWITTER_SIGN_IN_METHOD="twitter.com",Jl.PROVIDER_ID="twitter.com";class ec{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Xo._fromIdTokenResponse(e,n,r),s=tc(n);return new ec({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=tc(n);return new ec({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function tc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class nc extends O{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,nc.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new nc(e,t,n,r)}}function rc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw nc._fromErrorAndOperation(e,n,t,r);throw n}))}async function ic(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ec._forOperation(e,"link",r)}async function sc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(lt(r.app))return Promise.reject(po(r));const i="reauthenticate";try{const s=await Wo(e,rc(r,i,t,e),n);go(s.idToken,r,"internal-error");const a=Bo(s.idToken);go(a,r,"internal-error");const{sub:o}=a;return go(e.uid===o,r,"user-mismatch"),ec._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&uo(r,"user-mismatch"),s}}async function ac(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(lt(e.app))return Promise.reject(po(e));const r="signIn",i=await rc(e,r,t),s=await ec._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function oc(e,t){return ac(wl(e),t)}async function lc(e,t){return sc(Q(e),t)}function cc(e,t,n){var r;go((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),go("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),go("undefined"===typeof n.linkDomain||n.linkDomain.length>0,e,"invalid-hosting-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.linkDomain=n.linkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(go(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(go(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function uc(e){const t=wl(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dc(e,t){const n=Q(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&cc(n.auth,r,t);const{email:i}=await async function(e,t){return Ll(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function hc(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Wo(e,async function(e,t){return ko(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}function mc(e,t){return ko(e,"POST","/v2/accounts/mfaEnrollment:start",To(e,t))}new WeakMap;const pc="__sak";class fc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pc,"1"),this.storage.removeItem(pc),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class gc extends fc{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ml()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gc.type="LOCAL";const vc=gc;class yc extends fc{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yc.type="SESSION";const wc=yc;class bc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new bc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function _c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}bc.receivers=[];class Ic{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=_c("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ec(){return window}function Nc(){return"undefined"!==typeof Ec().WorkerGlobalScope&&"function"===typeof Ec().importScripts}const Sc="firebaseLocalStorageDb",xc="firebaseLocalStorage",Cc="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function kc(e,t){return e.transaction([xc],t?"readwrite":"readonly").objectStore(xc)}function Oc(){const e=indexedDB.open(Sc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(xc,{keyPath:Cc})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(xc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Sc);return new Tc(e).toPromise()}(),t(await Oc()))}))}))}async function Rc(e,t,n){const r=kc(e,!0).put({[Cc]:t,value:n});return new Tc(r).toPromise()}function Ac(e,t){const n=kc(e,!0).delete(t);return new Tc(n).toPromise()}class Dc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Oc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bc._getInstance(Nc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ic(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oc();return await Rc(e,pc,"1"),await Ac(e,pc),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Rc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=kc(e,!1).get(t),r=await new Tc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ac(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=kc(e,!1).getAll();return new Tc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Dc.type="LOCAL";const Pc=Dc;function Uc(e,t){return ko(e,"POST","/v2/accounts/mfaSignIn:start",To(e,t))}El("rcb"),new Eo(3e4,6e4);const Fc="recaptcha";async function Lc(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Ol(e)}catch(Ht){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){go("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=kl(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===xl){go((null===n||void 0===n?void 0:n.type)===Fc,e,"argument-error");return mc(e,await Mc(e,t,n))}return mc(e,t)}),"PHONE_PROVIDER"),a=await s.catch((e=>Promise.reject(e)));return a.phoneSessionInfo.sessionInfo}{go("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;go(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=kl(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===xl){go((null===n||void 0===n?void 0:n.type)===Fc,e,"argument-error");return Uc(e,await Mc(e,t,n))}return Uc(e,t)}),"PHONE_PROVIDER"),l=await o.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=kl(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===xl){go((null===n||void 0===n?void 0:n.type)===Fc,e,"argument-error");return Bl(e,await Mc(e,t,n))}return Bl(e,t)}),"PHONE_PROVIDER"),s=await r.catch((e=>Promise.reject(e)));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Mc(e,t,n){go(n.type===Fc,e,"argument-error");const r=await n.verify();go("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class jc{constructor(e){this.providerId=jc.PROVIDER_ID,this.auth=wl(e)}verifyPhoneNumber(e,t){return Lc(this.auth,e,Q(t))}static credential(e,t){return Wl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return jc.credentialFromTaggedObject(t)}static credentialFromError(e){return jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Wl._fromTokenResponse(n,r):null}}function zc(e,t){return t?Zo(t):(go(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}jc.PROVIDER_ID="phone",jc.PHONE_SIGN_IN_METHOD="phone";class Vc extends Pl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bc(e){return ac(e.auth,new Vc(e),e.bypassAuthState)}function Hc(e){const{auth:t,user:n}=e;return go(n,t,"internal-error"),sc(n,new Vc(e),e.bypassAuthState)}async function Wc(e){const{auth:t,user:n}=e;return go(n,t,"internal-error"),ic(n,new Vc(e),e.bypassAuthState)}class qc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bc;case"linkViaPopup":case"linkViaRedirect":return Wc;case"reauthViaPopup":case"reauthViaRedirect":return Hc;default:uo(this.auth,"internal-error")}}resolve(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $c=new Eo(2e3,1e4);class Yc extends qc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Yc.currentPopupAction&&Yc.currentPopupAction.cancel(),Yc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return go(e,this.auth,"internal-error"),e}async onExecution(){yo(1===this.filter.length,"Popup operations only handle one event");const e=_c();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ho(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ho(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ho(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,$c.get())};e()}}Yc.currentPopupAction=null;const Gc=new Map;class Kc extends qc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Jc(t),r=Xc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Qc(e,t){Gc.set(e._key(),t)}function Xc(e){return Zo(e._redirectPersistence)}function Jc(e){return nl("pendingRedirect",e.config.apiKey,e.name)}async function Zc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(lt(e.app))return Promise.reject(po(e));const r=wl(e),i=zc(r,t),s=new Kc(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class eu{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!nu(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ho(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tu(e))}saveEventToCache(e){this.cachedEventUids.add(tu(e)),this.lastProcessedEventTime=Date.now()}}function tu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function nu(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iu=/^https?/;async function su(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ko(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(au(r))return}catch(n){}uo(e,"unauthorized-domain")}function au(e){const t=wo(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!iu.test(n))return!1;if(ru.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ou=new Eo(3e4,6e4);function lu(){const e=Ec().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function cu(e){return new Promise(((t,n)=>{var r,i,s;function a(){lu(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lu(),n(ho(e,"network-request-failed"))},timeout:ou.get()})}if(null===(i=null===(r=Ec().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ec().gapi)||void 0===s?void 0:s.load)){const t=El("iframefcb");return Ec()[t]=()=>{gapi.load?a():n(ho(e,"network-request-failed"))},Il(`${_l.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw uu=null,e}))}let uu=null;const du=new Eo(5e3,15e3),hu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pu(e){const t=e.config;go(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?No(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:dt},i=mu.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${B(r).slice(1)}`}async function fu(e){const t=await function(e){return uu=uu||cu(e),uu}(e),n=Ec().gapi;return go(n,e,"internal-error"),t.open({where:document.body,url:pu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hu,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ho(e,"network-request-failed"),s=Ec().setTimeout((()=>{r(i)}),du.get());function a(){Ec().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const gu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vu{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},gu),{width:r.toString(),height:i.toString(),top:s,left:a}),c=x().toLowerCase();n&&(o=ol(c)?"_blank":n),sl(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return hl(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new vu(null);const d=window.open(t||"",o,u);go(d,e,"popup-blocked");try{d.focus()}catch(h){}return new vu(d)}const wu="__/auth/handler",bu="emulator/auth/handler",_u=encodeURIComponent("fac");async function Iu(e,t,n,r,i,s){go(e.config.authDomain,e,"auth-domain-config-required"),go(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:dt,eventId:i};if(t instanceof Yl){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",M(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Gl){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${_u}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${wu}`;return No(t,bu)}(e)}?${B(o).slice(1)}${c}`}const Eu="webStorageSupport";const Nu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wc,this._completeRedirectFn=Zc,this._overrideRedirectResult=Qc}async _openPopup(e,t,n,r){var i;yo(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return yu(e,await Iu(e,t,n,wo(),r),_c())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ec().location.href=e}(await Iu(e,t,n,wo(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(yo(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await fu(e),n=new eu(e);return t.register("authEvent",(t=>{go(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Eu,{type:Eu},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Eu];void 0!==i&&t(!!i),uo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=su(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pl()||al()||hl()}};var Su="@firebase/auth",xu="1.9.0";class Cu{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){go(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tu=E("authIdTokenMaxAge")||300;let ku=null;function Ou(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();const t=ot(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ot(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(z(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;uo(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Nu,persistence:[Pc,vc,wc]}),r=E("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Tu)return;const r=null===t||void 0===t?void 0:t.token;ku!==r&&(ku=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Q(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Q(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=b("auth");return s&&Rl(n,`http://${s}`),n}var Ru,Au;Ru={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},_l=Ru,Au="Browser",at(new X("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;go(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Au,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fl(Au)},c=new yl(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),at(new X("auth-internal",(e=>(e=>new Cu(e))(wl(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),pt(Su,xu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Au)),pt(Su,xu,"esm2017");var Du=n(579);const Pu=(0,e.createContext)(),Uu=e=>{let{children:t,value:n}=e;return(0,Du.jsx)(Pu.Provider,{value:n,children:t})},Fu=t=>{let{onPlay:n,onSettings:r,onProfile:i,onAlmanac:s,onLogout:a,onMiniGame:o,onScoreboard:l}=t;const[c,u]=(0,e.useState)(0),{settingsOpen:d,profileOpen:h,loginOpen:m,signupOpen:p,scoreboardOpen:f}=(()=>{const t=(0,e.useContext)(Pu);if(!t)throw new Error("useModal must be used within a ModalProvider");return t})(),g=[{label:"Play",onClick:n,className:"bg-blue-500 hover:bg-blue-700"},{label:"Mini Game",onClick:o,className:"bg-yellow-500 hover:bg-yellow-700"},{label:"Scoreboard",onClick:l,className:"bg-green-500 hover:bg-green-700"},{label:"Almanac",onClick:s,className:"bg-purple-500 hover:bg-purple-700"},{label:"Settings",onClick:r,className:"bg-gray-500 hover:bg-gray-700"},{label:"Profile",onClick:i,className:"bg-green-500 hover:bg-green-700"},{label:"Log Out",onClick:a,className:"bg-red-500 hover:bg-red-700"}],v=e=>{if(!(d||h||m||p||f))switch(e.key){case"ArrowUp":u((e=>e<=0?g.length-1:e-1));break;case"ArrowDown":u((e=>e>=g.length-1?0:e+1));break;case"Enter":g[c].onClick()}};return(0,e.useEffect)((()=>(window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)})),[c,d,h,m,p,f]),(0,Du.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-cover bg-center pixelated p-4",style:{backgroundImage:"url('/bg.gif')",userSelect:"none"},children:(0,Du.jsxs)("div",{className:"text-center w-full max-w-md",children:[(0,Du.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-gray-300 mb-4 sm:mb-6 md:mb-8 drop-shadow-[4px_4px_4px_black]",children:"Science Quest"}),(0,Du.jsx)("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-gray-300 mb-4 sm:mb-5 md:mb-6 drop-shadow-[2px_4px_4px_black]",children:"Main Menu"}),(0,Du.jsx)("div",{className:"flex flex-col items-center space-y-2 sm:space-y-3 md:space-y-4",children:g.map(((e,t)=>(0,Du.jsx)("button",{onClick:e.onClick,className:`\n                           text-white\n                           p-2\n                           rounded\n                           w-full\n                           max-w-xs\n                           transition\n                           duration-200\n                           ${e.className}\n                           ${t===c?"scale-105 ring-2 ring-white":"hover:scale-105"}\n                       `,children:e.label},t)))})]})})},Lu=t=>{let{color:n="currentColor",direction:r="left",distance:i="md",duration:s=.4,easing:a="cubic-bezier(0, 0, 0, 1)",hideOutline:o=!0,label:l,lines:c=3,onToggle:u,render:d,rounded:h=!1,size:m=32,toggle:p,toggled:f,disabled:g=!1,animateOnMount:v=!1}=t;const[y,w]=(0,e.useState)(!1),[b,_]=(0,e.useState)(!1);(0,e.useEffect)((()=>{_(!0)}),[]);const I=Math.max(12,Math.min(48,m)),E=Math.round((48-I)/2),N=I/12,S=Math.round(N),x=I/(c*(("lg"===i?.25:"sm"===i?.75:.5)+(3===c?1:1.25))),C=Math.round(x),T=S*c+C*(c-1),k=Math.round((48-T)/2),O=parseFloat((I/(3===c?"lg"===i?4.0425:"sm"===i?5.1625:4.6325:"lg"===i?6.7875:"sm"===i?8.4875:7.6675)-(N-S+(x-C))/(3===c?1:2)/(4/3)).toFixed(2)),R=Math.max(0,s),A={cursor:g?"not-allowed":"pointer",height:"48px",position:"relative",transition:`${R}s ${a}`,userSelect:"none",width:"48px"},D={background:n,height:`${S}px`,left:`${E}px`,position:"absolute"};o&&(A.outline="none"),h&&(D.borderRadius="9em");const P=p||w,U=(()=>{const e=void 0!==f?f:y;return v&&!b?!e:e})();return d({barHeight:S,barStyles:D,burgerStyles:A,easing:a,handler:()=>{P(!U),"function"===typeof u&&u(!U)},isLeft:"left"===r,isToggled:U,label:l,margin:C,move:O,time:R,topOffset:k,width:I})};function Mu(){return Mu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mu.apply(this,arguments)}const ju=t=>e.createElement(Lu,Mu({},t,{lines:2,render:n=>e.createElement("div",{className:"hamburger-react","aria-label":n.label,"aria-expanded":n.isToggled,onClick:t.disabled?void 0:n.handler,onKeyUp:t.disabled?void 0:e=>"Enter"===e.key&&n.handler(),role:"button",style:n.burgerStyles,tabIndex:0},e.createElement("div",{style:{...n.barStyles,width:`${n.width}px`,top:`${n.topOffset}px`,transition:`${n.time}s ${n.easing}`,transform:""+(n.isToggled?`rotate(${45*(n.isLeft?-1:1)}deg) translate(${n.move*(n.isLeft?-1:1)}px, ${n.move}px)`:"none")}}),e.createElement("div",{style:{...n.barStyles,width:`${n.width}px`,top:`${n.topOffset+n.barHeight+n.margin}px`,transition:`${n.time}s ${n.easing}`,transform:""+(n.isToggled?`rotate(${45*(n.isLeft?1:-1)}deg) translate(${n.move*(n.isLeft?-1:1)}px, ${-1*n.move}px)`:"none")}}))}));pt("firebase","11.3.0","app");const zu="firebasestorage.googleapis.com",Vu="storageBucket";class Bu extends O{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(qu(e),`Firebase Storage: ${t} (${qu(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bu.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hu,Wu;function qu(e){return"storage/"+e}function $u(){return new Bu(Hu.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Yu(){return new Bu(Hu.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gu(){return new Bu(Hu.CANCELED,"User canceled the upload/download.")}function Ku(e){return new Bu(Hu.INVALID_ARGUMENT,e)}function Qu(){return new Bu(Hu.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Hu||(Hu={}));class Xu{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Xu.makeFromUrl(e,t)}catch(i){return new Xu(e,"")}if(""===n.path)return n;throw r=e,new Bu(Hu.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===zu?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Xu(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Bu(Hu.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ju{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Zu(e,t,n,r){if(r<t)throw Ku(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Ku(`Invalid value for '${e}'. Expected ${n} or less.`)}function ed(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function td(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Wu||(Wu={}));class nd{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new rd(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Wu.NO_ERROR,i=n.getStatus();if(!t||td(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Wu.ABORT;return void e(!1,new rd(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new rd(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=$u();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Qu():Gu())}else{r(Yu())}};this.canceled_?t(0,new rd(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(m,l())}),t)}function h(){s&&clearTimeout(s)}function m(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function f(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,f(!0)}),n),f}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class rd{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function id(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class sd{constructor(e,t){this._service=e,this._location=t instanceof Xu?t:Xu.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new sd(e,t)}get root(){const e=new Xu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return id(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Xu(this._location.bucket,e);return new sd(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Bu(Hu.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ad(e,t){const n=null===t||void 0===t?void 0:t[Vu];return null==n?null:Xu.makeFromBucketSpec(n,e)}class od{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=zu,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Xu.makeFromBucketSpec(r,this._host):ad(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Xu.makeFromBucketSpec(this._url,e):this._bucket=ad(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zu("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zu("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sd(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ju(Qu());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=ed(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new nd(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const ld="@firebase/storage",cd="0.13.6",ud="storage";function dd(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new od(r,i,s,n,dt)}at(new X(ud,dd,"PUBLIC").setMultipleInstances(!0)),pt(ld,cd,""),pt(ld,cd,"esm2017");const hd=ht({apiKey:"AIzaSyBKrZLW2HLEdlJez2pqb6_DFhK_Cpwuwzs",authDomain:"gamified-bbf08.firebaseapp.com",databaseURL:"https://gamified-bbf08-default-rtdb.firebaseio.com",projectId:"gamified-bbf08",storageBucket:"gamified-bbf08.firebasestorage.app",messagingSenderId:"779702715439",appId:"1:779702715439:web:5292a9036047815fe632da",measurementId:"G-PYNNKYCNGZ"}),md=Ou(hd),pd=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt(),t=arguments.length>1?arguments[1]:void 0;e=Q(e);const n=ot(e,ud).getImmediate({identifier:t}),r=_("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:S(i,e.app.options.projectId))}(e,t,n,r)}(n,...r)}(hd),ro(hd),{biology:["The human body contains enough carbon to make around 900 pencils!","A single human brain generates more electrical impulses in a day than all the telephones in the world combined!","The DNA in all living things on Earth is related!","Your body has over 37 trillion cells working together!","Butterflies taste with their feet!","Your heart beats about 100,000 times every day!","Humans share 50% of their DNA with bananas!","The human eye can distinguish about 10 million different colors!","Octopuses have three hearts!","A snail can sleep for three years at a time!","The average person produces enough saliva in their lifetime to fill two swimming pools!","Jellyfish have survived for over 650 million years without brains!","Hummingbirds are the only birds that can fly backwards!","A giraffe's tongue is about 50 centimeters long!","Sloths take two weeks to digest their food!","Honeybees can recognize human faces!","The human skeleton renews itself completely every 10 years!","Cats can't taste sweetness!","A cockroach can live for a week without its head!","The blue whale's heart is so big that a human could swim through its arteries!","Penguins have knees!","A chameleon's tongue is twice the length of its body!","Elephants are the only mammals that can't jump!","Polar bears have black skin under their white fur!","The human body contains enough iron to make a 3-inch nail!","Starfish don't have brains!","A human's small intestine is about 20 feet long!","Dolphins sleep with one half of their brain at a time!","The average person has 67 different species of bacteria in their belly button!","Koalas have fingerprints almost identical to humans!"],physics:["Light travels at 299,792,458 meters per second!","A teaspoonful of neutron star would weigh about 6 billion tons!","Time passes faster at your head than at your feet!","Atoms are 99.99999999% empty space!","The universe is expanding faster than the speed of light!","One day on Venus is longer than its year!","Sound travels about 4.3 times faster in water than in air!","The coldest possible temperature is -273.15\xb0C, known as absolute zero!","Lightning strikes the Earth about 100 times every second!","The Sun loses 4 million tons of mass every second!","A day on Mars is only 40 minutes longer than a day on Earth!","The Great Red Spot on Jupiter has been storming for at least 400 years!","The speed of light in glass is slower than in a vacuum!","The average cloud weighs about 1.1 million pounds!","Black holes can 'sing' - they emit sound waves!","The human body emits light that's 1,000 times weaker than what our eyes can see!","Gravity bends light!","Time stops at the edge of a black hole!","The Sun is so large that about 1.3 million Earths could fit inside it!","The fastest wind speed ever recorded was 253 miles per hour!","The temperature at the Sun's core is about 15 million degrees Celsius!","Astronauts grow taller in space!","A single bolt of lightning contains enough energy to toast 100,000 slices of bread!","The Earth's core is as hot as the surface of the Sun!","The International Space Station travels at 17,500 miles per hour!","A neutron star can spin at a rate of 600 rotations per second!","The universe is mostly made of dark energy and dark matter!","Radio waves travel at the speed of light!","The largest known star, UY Scuti, is 1,700 times larger than our Sun!","The Earth's magnetic field is weakening by about 5% every century!"],chemistry:["Gold is edible!","One bucket of water contains more atoms than there are buckets of water in the Atlantic Ocean!","Diamonds and pencils are made of the same material - carbon!","The only letter not in the periodic table is the letter J!","Water expands when it freezes, unlike most other substances!","Glass is actually a liquid that flows very, very slowly!","Helium is the only element discovered in space before Earth!","Every atom in your body is billions of years old!","The human body contains enough phosphorus to make 2,200 match heads!","Coca-Cola was originally green!","The rarest naturally occurring element is astatine!","A pure copper penny would turn green in just 20 minutes!","The only two liquid elements at room temperature are mercury and bromine!","Salt is the only rock humans eat!","Bananas are slightly radioactive!","The first man-made plastic was created from peanuts!","Hydrogen is the most abundant element in the universe!","The average human body contains enough sulfur to kill all fleas on a dog!","Oxygen makes up about 65% of the mass of the human body!","Lightning creates ozone, which makes the air smell clean after a thunderstorm!","The noble gases were once called inert gases because they didn't react with anything!","The hardest natural substance is diamond, but it can be shattered by a hammer!","The fastest chemical reaction takes place in less than a trillionth of a second!","The human body contains enough carbon to make 900 pencils!","The first artificial element was technetium!","A rubber band is made of polymers that can stretch up to 500% their original length!","The average pencil can draw a line 35 miles long!","Gallium melts in your hand because its melting point is just 85.6\xb0F!","The only letter that doesn't appear in the periodic table is 'J'!","A teaspoon of honey represents the life work of 12 bees!"]}),fd=t=>{let{onLoadingComplete:n}=t;const[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{const e=Object.keys(pd),t=e[Math.floor(Math.random()*e.length)],r=pd[t],s=r[Math.floor(Math.random()*r.length)];a(t),i(s);const o=navigator.connection?navigator.connection.downlink:10,c=setTimeout((()=>{l(!1),n&&n()}),o<1?5e3:3e3);return()=>clearTimeout(c)}),[n]),o?(0,Du.jsx)("div",{className:"fun-fact-container",style:{userSelect:"none"},children:(0,Du.jsxs)("div",{className:"fun-fact-content",children:[(0,Du.jsx)("div",{className:"loading-spinner"}),(0,Du.jsx)("h3",{children:"Did you know?"}),(0,Du.jsx)("p",{className:"fact-text",children:r}),(0,Du.jsxs)("p",{className:"category-text",children:["Category: ",s.charAt(0).toUpperCase()+s.slice(1)]})]})}):null},gd=()=>{const[t,n]=(0,e.useState)(!1);return{showFunFact:t,showFunFactWithDelay:()=>(n(!0),new Promise((e=>{setTimeout((()=>{n(!1),e()}),3e3)})))}};var vd=n(5881),yd=n(2949);const wd=t=>{var n,r;let{onClose:i,onSave:s,onReset:a,musicVolume:o,soundEffectsVolume:l,backgroundVolume:c}=t;const[u,d]=(0,e.useState)((()=>{const e=localStorage.getItem("musicVolume");return e?parseInt(e):o||50})),[h,m]=(0,e.useState)((()=>{const e=localStorage.getItem("soundEffectsVolume");return e?parseInt(e):l||50})),[p,f]=(0,e.useState)((()=>{const e=localStorage.getItem("backgroundVolume");return e?parseInt(e):c||50})),[g,v]=(0,e.useState)(""),[y,w]=(0,e.useState)(-1),[b,_]=(0,e.useState)(!1),{showFunFact:I,showFunFactWithDelay:E}=gd();null===(n=md.currentUser)||void 0===n||null===(r=n.providerData[0])||void 0===r||r.providerId;(0,e.useEffect)((()=>{E(),void 0!==o&&d(o),void 0!==l&&m(l),void 0!==c&&f(c)}),[o,l,c]);const N=(e,t)=>{const n=document.querySelectorAll("audio");n&&0!==n.length&&n.forEach((n=>{const r=n.src.toLowerCase();("music"===e&&r.includes("bg1.mp3")||"background"===e&&(r.includes("bossfight.wav")||r.includes("fightsound.wav")||r.includes("settings.wav")||r.includes("scoreboard.wav")))&&(n.volume=t/100)}))},S=e=>{const t=Math.max(0,Math.min(100,e));d(t),N("music",t),v(""),localStorage.setItem("musicVolume",t.toString()),s(t,h,p)},x=e=>{const t=Math.max(0,Math.min(100,e));m(t),v(""),localStorage.setItem("soundEffectsVolume",t.toString()),s(u,t,p)},C=e=>{const t=Math.max(0,Math.min(100,e));f(t),N("background",t),v(""),localStorage.setItem("backgroundVolume",t.toString()),s(u,h,t)},T=async()=>{await E(),console.log("Saving volumes in GameSettings:",u,h,p),s(u,h,p),v("Settings saved!"),setTimeout((()=>v("")),2e3)},k=()=>{a(),v("Settings reset!"),setTimeout((()=>v("")),2e3)},O=e=>{if(e.stopPropagation(),b)"Escape"===e.key&&_(!1);else switch(e.key){case"ArrowLeft":-1===y?S(u-5):w((e=>e<=0?2:e-1));break;case"ArrowRight":-1===y?S(u+5):w((e=>e>=2?0:e+1));break;case"ArrowUp":case"ArrowDown":w((e=>-1===e?0:-1));break;case"Enter":0===y?T():1===y?k():2===y&&i();break;case"Shift":k();break;case"Escape":i()}};(0,e.useEffect)((()=>(window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)})),[y,u,h,p]);const R=[{label:"Save",onClick:T,className:"bg-blue-500 hover:bg-blue-700"},{label:"Reset",onClick:k,className:"bg-red-500 hover:bg-red-700"},{label:"Back",onClick:i,className:"bg-gray-600 hover:bg-gray-700"}];return(0,Du.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",style:{userSelect:"none"},children:[I&&(0,Du.jsx)(fd,{}),(0,Du.jsxs)("div",{className:"bg-gray-800 text-white p-8 rounded w-[450px]",children:[(0,Du.jsx)("h2",{className:"text-4xl mb-8 text-center",children:"Settings"}),(0,Du.jsxs)("div",{className:"mb-6",children:[(0,Du.jsx)("label",{htmlFor:"musicVolume",className:"block mb-4 text-center",children:"Music Volume"}),(0,Du.jsx)("div",{className:"text-xs text-center text-gray-400 mb-2",children:"(Controls BG1.mp3)"}),(0,Du.jsxs)("div",{className:"p-2 rounded "+(-1===y?"ring-2 ring-white":""),children:[(0,Du.jsx)("input",{type:"range",id:"musicVolume",min:"0",max:"100",value:u,onChange:e=>S(Number(e.target.value)),onMouseUp:e=>S(Number(e.target.value)),className:"w-full"}),(0,Du.jsxs)("div",{className:"text-center mt-2",children:[u,"%"]})]})]}),(0,Du.jsxs)("div",{className:"mb-6",children:[(0,Du.jsx)("label",{htmlFor:"backgroundVolume",className:"block mb-4 text-center",children:"Background Volume"}),(0,Du.jsx)("div",{className:"text-xs text-center text-gray-400 mb-2",children:"(Controls bossfight.wav, fightsound.wav, settings.wav, scoreboard.wav)"}),(0,Du.jsxs)("div",{className:"p-2 rounded "+(-1===y?"ring-2 ring-white":""),children:[(0,Du.jsx)("input",{type:"range",id:"backgroundVolume",min:"0",max:"100",value:p,onChange:e=>C(Number(e.target.value)),onMouseUp:e=>C(Number(e.target.value)),className:"w-full"}),(0,Du.jsxs)("div",{className:"text-center mt-2",children:[p,"%"]}),(0,Du.jsx)("button",{onClick:()=>{try{const e=new Audio(yd);e.volume=p/100,e.play()}catch(Ht){console.error("Error playing test sound:",Ht)}},className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Test Background Sound"})]})]}),(0,Du.jsxs)("div",{className:"mb-6",children:[(0,Du.jsx)("label",{htmlFor:"soundEffectsVolume",className:"block mb-4 text-center",children:"Sound Effects Volume"}),(0,Du.jsx)("div",{className:"text-xs text-center text-gray-400 mb-2",children:"(Controls hint.wav, hit.wav, lose.wav, win.wav, scramble.wav)"}),(0,Du.jsxs)("div",{className:"p-2 rounded "+(-1===y?"ring-2 ring-white":""),children:[(0,Du.jsx)("input",{type:"range",id:"soundEffectsVolume",min:"0",max:"100",value:h,onChange:e=>x(Number(e.target.value)),onMouseUp:e=>x(Number(e.target.value)),className:"w-full"}),(0,Du.jsxs)("div",{className:"text-center mt-2",children:[h,"%"]}),(0,Du.jsx)("button",{onClick:()=>{try{const e=new Audio(vd);e.volume=h/100,e.play()}catch(Ht){console.error("Error playing test sound:",Ht)}},className:"mt-2 text-xs text-blue-400 hover:text-blue-300",children:"Test Sound Effect"})]})]}),(0,Du.jsx)("div",{className:"mb-6 text-center",children:(0,Du.jsx)("button",{onClick:()=>_(!0),className:"text-blue-500 hover:text-blue-600 text-sm",children:"Keyboard Navigation Guide"})}),(0,Du.jsx)("div",{className:"flex justify-center space-x-4",children:R.map(((e,t)=>(0,Du.jsx)("button",{onClick:e.onClick,className:`${e.className} text-white px-6 py-2 rounded transition-all duration-200 ${y===t?"ring-2 ring-white scale-105":""}`,children:e.label},e.label)))}),g&&(0,Du.jsx)("div",{className:"mt-4 text-center text-green-500",children:g})]}),b&&(0,Du.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-30",children:(0,Du.jsxs)("div",{className:"bg-gray-800 text-white p-8 rounded-lg w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,Du.jsx)("h3",{className:"text-2xl mb-6 text-center",children:"Keyboard Navigation Guide"}),(0,Du.jsxs)("div",{className:"space-y-6",children:[(0,Du.jsxs)("div",{children:[(0,Du.jsx)("h4",{className:"text-xl mb-2 text-blue-400",children:"Main Menu"}),(0,Du.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,Du.jsx)("li",{children:"\u2191/\u2193 - Navigate between menu options"}),(0,Du.jsx)("li",{children:"Enter - Select menu option"})]})]}),(0,Du.jsxs)("div",{children:[(0,Du.jsx)("h4",{className:"text-xl mb-2 text-blue-400",children:"Game Page"}),(0,Du.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,Du.jsx)("li",{children:"\u2191/\u2193/\u2190/\u2192 - Select Level"}),(0,Du.jsx)("li",{children:"\u2190/\u2192 - Navigate the selected letters"}),(0,Du.jsx)("li",{children:"Enter - Submit word/Attack"}),(0,Du.jsx)("li",{children:"Backspace - Remove selected letter"}),(0,Du.jsx)("li",{children:"H - Request a hint (if available)"}),(0,Du.jsx)("li",{children:"Ctrl - Scramble the letters"}),(0,Du.jsx)("li",{children:"Escape - Open Tabbar"})]})]}),(0,Du.jsxs)("div",{children:[(0,Du.jsx)("h4",{className:"text-xl mb-2 text-blue-400",children:"Mini Game"}),(0,Du.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,Du.jsx)("li",{children:"\u2190/\u2192 - Navigate the selected letters"}),(0,Du.jsx)("li",{children:"Enter - Submit word/Attack"}),(0,Du.jsx)("li",{children:"Backspace - Remove selected letter"}),(0,Du.jsx)("li",{children:"Escape - Open Tabbar"})]})]}),(0,Du.jsxs)("div",{children:[(0,Du.jsx)("h4",{className:"text-xl mb-2 text-blue-400",children:"Settings"}),(0,Du.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,Du.jsx)("li",{children:"\u2191/\u2193 - Toggle between volume sliders and buttons"}),(0,Du.jsx)("li",{children:"\u2190/\u2192 - Adjust volume or navigate between buttons"}),(0,Du.jsx)("li",{children:"Enter - Click selected button"}),(0,Du.jsx)("li",{children:"Escape - Close settings"})]})]}),(0,Du.jsxs)("div",{children:[(0,Du.jsx)("h4",{className:"text-xl mb-2 text-blue-400",children:"Profile"}),(0,Du.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,Du.jsx)("li",{children:"\u2191/\u2193 - Navigate between fields"}),(0,Du.jsx)("li",{children:"Enter - Select avatar or save changes"}),(0,Du.jsx)("li",{children:"Escape - Close profile"})]})]}),(0,Du.jsxs)("div",{children:[(0,Du.jsx)("h4",{className:"text-xl mb-2 text-blue-400",children:"Avatar Selection"}),(0,Du.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,Du.jsx)("li",{children:"\u2190/\u2192 - Browse through avatars"}),(0,Du.jsx)("li",{children:"Enter - Select current avatar"}),(0,Du.jsx)("li",{children:"Escape - Close avatar selection"})]})]}),(0,Du.jsxs)("div",{children:[(0,Du.jsx)("h4",{className:"text-xl mb-2 text-blue-400",children:"Important Notes"}),(0,Du.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,Du.jsx)("li",{className:"text-gray-300",children:"When a popup or modal is open, keyboard navigation only works for that specific window. The background elements won't respond to keyboard input until the popup is closed."}),(0,Du.jsx)("li",{className:"text-gray-300",children:"In both Game Page and Mini Game, you can use keyboard navigation to select letters and form words. The controls are consistent between both modes for ease of use."})]})]})]}),(0,Du.jsx)("div",{className:"mt-8 text-center",children:(0,Du.jsx)("button",{onClick:()=>_(!1),className:"bg-blue-500 hover:bg-blue-700 text-white px-6 py-2 rounded",children:"Close Guide"})})]})})]})};var bd=n(3528),_d=n(7274),Id=n(6350),Ed=n(2610),Nd=n(7635),Sd=n(1639);const xd=t=>{let{onClose:n,onSelect:r,selectedAvatar:i}=t;const s=[{src:bd,name:"Alien"},{src:_d,name:"Astronaut"},{src:Ed,name:"Rabbit"},{src:Id,name:"Geisha"},{src:Nd,name:"Ninja"},{src:Sd,name:"Sushi Cat"}],[a,o]=(0,e.useState)(0),l=s.length,c=()=>{o((e=>(e+1)%l))},u=()=>{o((e=>(e-1+l)%l))},d=()=>{const e=1*a;return s.slice(e,e+1)},h=e=>{r(e),n()},m=e=>{switch(e.stopPropagation(),e.key){case"ArrowLeft":u();break;case"ArrowRight":c();break;case"Enter":{const e=d()[0];h(e.src);break}case"Escape":n()}};return(0,e.useEffect)((()=>(window.addEventListener("keydown",m),()=>{window.removeEventListener("keydown",m)})),[a]),(0,Du.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-30",onClick:n,children:(0,Du.jsxs)("div",{className:"bg-gray-800 text-white p-10 rounded-lg w-[600px]",onClick:e=>e.stopPropagation(),children:[(0,Du.jsx)("h2",{className:"text-3xl mb-8 text-center",children:"Select Avatar"}),(0,Du.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Du.jsx)("button",{onClick:u,className:"bg-gray-700 hover:bg-gray-600 text-white rounded-full p-4 focus:outline-none transform transition hover:scale-110",children:(0,Du.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Du.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Du.jsx)("div",{className:"flex justify-center mx-4",children:d().map(((e,t)=>(0,Du.jsxs)("div",{className:"cursor-pointer rounded-lg p-3 transform transition hover:scale-105 ring-4 "+(i===e.src?"ring-blue-500":"ring-gray-600 hover:ring-gray-500"),onClick:()=>h(e.src),children:[(0,Du.jsx)("img",{src:e.src,alt:e.name,className:"w-64 h-64 object-cover rounded-lg"}),(0,Du.jsx)("p",{className:"text-center mt-3 text-2xl text-gray-300",children:e.name})]},t)))}),(0,Du.jsx)("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-white rounded-full p-4 focus:outline-none transform transition hover:scale-110",children:(0,Du.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Du.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,Du.jsx)("div",{className:"text-center mt-8",children:(0,Du.jsx)("button",{className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-3 px-8 rounded-lg text-lg",onClick:n,children:"Cancel"})}),(0,Du.jsx)("div",{className:"flex justify-center mt-4 space-x-2",children:[...Array(l)].map(((e,t)=>(0,Du.jsx)("div",{className:"w-2 h-2 rounded-full "+(a===t?"bg-blue-500":"bg-gray-600")},t)))})]})})},Cd=t=>{var n,r;let{onClose:i}=t;(0,e.useEffect)((()=>{var e,t;"password"!==(null===(e=md.currentUser)||void 0===e||null===(t=e.providerData[0])||void 0===t?void 0:t.providerId)&&i()}),[i]);const[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(""),[m,p]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1);return"password"!==(null===(n=md.currentUser)||void 0===n||null===(r=n.providerData[0])||void 0===r?void 0:r.providerId)?null:(0,Du.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Du.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg w-96 relative",onClick:e=>e.stopPropagation(),children:[(0,Du.jsx)("button",{onClick:i,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:"\u2715"}),(0,Du.jsx)("h2",{className:"text-2xl text-white mb-6 text-center",children:"Change Password"}),m?(0,Du.jsxs)("div",{className:"text-center",children:[(0,Du.jsx)("p",{className:"text-green-400 mb-4",children:"Password has been successfully changed!"}),(0,Du.jsx)("button",{onClick:i,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"Close"})]}):(0,Du.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),g(!0),o!==c)return h("New passwords do not match"),void g(!1);if(o.length<6)return h("New password must be at least 6 characters long"),void g(!1);try{const e=$l.credential(md.currentUser.email,s);await lc(md.currentUser,e),await function(e,t){return hc(Q(e),null,t)}(md.currentUser,o),p(!0)}catch(d){"auth/wrong-password"===d.code?h("Current password is incorrect"):h("Failed to change password. Please try again.")}finally{g(!1)}},children:[(0,Du.jsxs)("div",{className:"mb-4",children:[(0,Du.jsx)("label",{className:"block text-white mb-2",children:"Current Password"}),(0,Du.jsx)("input",{type:"password",value:s,onChange:e=>a(e.target.value),className:"w-full p-2 rounded bg-gray-700 text-white",required:!0})]}),(0,Du.jsxs)("div",{className:"mb-4",children:[(0,Du.jsx)("label",{className:"block text-white mb-2",children:"New Password"}),(0,Du.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),className:"w-full p-2 rounded bg-gray-700 text-white",required:!0,minLength:"6"})]}),(0,Du.jsxs)("div",{className:"mb-4",children:[(0,Du.jsx)("label",{className:"block text-white mb-2",children:"Confirm New Password"}),(0,Du.jsx)("input",{type:"password",value:c,onChange:e=>u(e.target.value),className:"w-full p-2 rounded bg-gray-700 text-white",required:!0,minLength:"6"})]}),d&&(0,Du.jsx)("p",{className:"text-red-500 mb-4",children:d}),(0,Du.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 disabled:opacity-50",children:f?"Changing Password...":"Change Password"})]})]})})},Td=t=>{var n,r;let{onClose:i,profileData:s,setProfileData:a}=t;const[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(!0),[m,p]=(0,e.useState)(!1),[f,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(0),{showFunFact:w,showFunFactWithDelay:b}=gd();(0,e.useEffect)((()=>{(async()=>{if(md.currentUser)try{const e=ro(),t=Va(e,`users/${md.currentUser.uid}/profile`),n=await Wa(t);if(n.exists()){const e=n.val();a((t=>({...t,username:e.username,age:e.age,gender:e.gender,selectedAvatar:e.selectedAvatar||bd,previousUsername:e.username}))),e.selectedAvatar||await Ha(t,{...e,selectedAvatar:bd})}}catch(e){console.error("Error loading profile:",e),u("Failed to load profile data")}finally{h(!1)}else h(!1)})(),b()}),[a]);const _=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n}))),u(null)},I=async()=>{if(md.currentUser)if(s.username)try{l(!0),await b();const e=ro(),t=md.currentUser.uid;if(!await(async e=>{const t=Va(ro(),`usernames/${e}`),n=await Wa(t);return!n.exists()||n.val()===md.currentUser.uid})(s.username))return u("Username is already taken. Please choose another one."),void l(!1);s.previousUsername&&s.previousUsername!==s.username&&await Ha(Va(e,`usernames/${s.previousUsername}`),null),await Ha(Va(e,`usernames/${s.username}`),t),await Ha(Va(e,`users/${t}/profile`),{username:s.username,age:s.age?Number(s.age):null,gender:s.gender||null,selectedAvatar:s.selectedAvatar||bd,updatedAt:(new Date).toISOString()}),a((e=>({...e,previousUsername:s.username}))),u(null),i()}catch(e){console.error("Error saving profile:",e),u("Failed to save profile data")}finally{l(!1)}else u("Username is required");else u("You must be logged in to save profile data")},E=e=>{var t,n;if(e.stopPropagation(),f)return void("Escape"===e.key&&g(!1));const r="password"===(null===(t=md.currentUser)||void 0===t||null===(n=t.providerData[0])||void 0===n?void 0:n.providerId);switch(e.key){case"ArrowUp":y((e=>e>0?e-1:r?6:5));break;case"ArrowDown":y((e=>e<(r?6:5)?e+1:0));break;case"Enter":0===v?p(!0):4===v&&!o&&s.username?I():5===v?i():6===v&&r&&g(!0);break;case"Escape":i()}};return(0,e.useEffect)((()=>(window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)})),[v,o,s]),d?(0,Du.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-20",children:(0,Du.jsx)("div",{className:"bg-gray-800 text-white p-8 rounded",children:(0,Du.jsx)("p",{children:"Loading profile..."})})}):(0,Du.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-20",style:{userSelect:"none"},onClick:i,children:[w&&(0,Du.jsx)(fd,{}),(0,Du.jsxs)("div",{className:"bg-gray-800 text-white p-8 rounded w-[450px]",onClick:e=>e.stopPropagation(),children:[(0,Du.jsx)("h1",{className:"text-4xl mb-8 text-center",children:"Profile"}),(0,Du.jsxs)("div",{className:"mb-6 text-center",children:[(0,Du.jsx)("label",{className:"block mb-4",children:"Avatar"}),(0,Du.jsx)("div",{className:"w-32 h-32 mx-auto mb-2 cursor-pointer rounded-lg overflow-hidden transition-all duration-200\n                            "+(0===v?"ring-4 ring-blue-500 scale-105":"border-2 border-gray-600 hover:border-gray-500"),onClick:()=>p(!0),children:(0,Du.jsx)("img",{src:s.selectedAvatar||bd,alt:"Selected Avatar",className:"w-full h-full object-cover"})}),(0,Du.jsx)("button",{className:"text-sm "+(0===v?"text-blue-300":"text-blue-400 hover:text-blue-300"),onClick:()=>p(!0),children:"Change Avatar"})]}),(0,Du.jsxs)("div",{className:"mb-4 text-center",children:[(0,Du.jsx)("label",{className:"block mb-2",children:"Username"}),(0,Du.jsx)("input",{type:"text",name:"username",value:s.username||"",onChange:_,className:"w-80 mx-auto p-2 text-black rounded transition-all duration-200\n                            "+(1===v?"ring-4 ring-blue-500":""),placeholder:"Enter Username",required:!0})]}),(0,Du.jsxs)("div",{className:"mb-4 text-center",children:[(0,Du.jsx)("label",{className:"block mb-2",children:"Age"}),(0,Du.jsx)("input",{type:"number",name:"age",value:s.age||"",onChange:_,className:"w-80 mx-auto p-2 text-black rounded transition-all duration-200\n                            "+(2===v?"ring-4 ring-blue-500":""),placeholder:"Enter Age",min:"1"})]}),(0,Du.jsxs)("div",{className:"mb-4 text-center",children:[(0,Du.jsx)("label",{className:"block mb-2",children:"Gender"}),(0,Du.jsxs)("select",{name:"gender",value:s.gender||"",onChange:e=>{a((t=>({...t,gender:e.target.value}))),u(null)},className:"w-80 mx-auto p-2 text-black rounded transition-all duration-200\n                            "+(3===v?"ring-4 ring-blue-500":""),children:[(0,Du.jsx)("option",{value:"",children:"Select Gender"}),(0,Du.jsx)("option",{value:"male",children:"Male"}),(0,Du.jsx)("option",{value:"female",children:"Female"}),(0,Du.jsx)("option",{value:"other",children:"Other"})]})]}),"password"===(null===(n=md.currentUser)||void 0===n||null===(r=n.providerData[0])||void 0===r?void 0:r.providerId)&&(0,Du.jsx)("div",{className:"mb-6 text-center",children:(0,Du.jsx)("button",{type:"button",onClick:()=>g(!0),className:"text-blue-500 hover:text-blue-600 text-sm  transition-all duration-200\n                                "+(6===v?"scale-105 underline":""),children:"Change Password"})}),c&&(0,Du.jsx)("p",{className:"text-red-500 text-center mb-4",children:c}),(0,Du.jsxs)("div",{className:"flex space-x-4 mb-4 justify-center",children:[(0,Du.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded disabled:opacity-50 transition-all duration-200\n                            "+(4===v?"ring-4 ring-white scale-105":""),onClick:I,disabled:o||!s.username,children:o?"Saving...":"Save"}),(0,Du.jsx)("button",{className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition-all duration-200\n                            "+(5===v?"ring-4 ring-white scale-105":""),onClick:i,children:"Back"})]})]}),m&&(0,Du.jsx)(xd,{onClose:()=>p(!1),onSelect:e=>{a((t=>({...t,selectedAvatar:e})))},selectedAvatar:s.selectedAvatar}),f&&(0,Du.jsx)(Cd,{onClose:()=>g(!1)})]})};var kd=n(2202);const Od=t=>{let{onMainMenu:n}=t;const[r,i]=(0,e.useState)(0),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(!0),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)(!1),[m,p]=(0,e.useState)([]),[f,g]=(0,e.useState)(!1),[v,y]=(0,e.useState)(null),{showFunFact:w,showFunFactWithDelay:b}=gd();(0,e.useEffect)((()=>{b();const e=ro();md.currentUser&&y(md.currentUser.uid);const t=Ga(Ja(Va(e,"users"),Xa("longestWord/timestamp")),(e=>{const t=e.val(),n=[];Object.entries(t).forEach((e=>{let[t,r]=e;var i;r.longestWord&&n.push({name:(null===(i=r.profile)||void 0===i?void 0:i.username)||"Anonymous",word:r.longestWord.word,timestamp:new Date(r.longestWord.timestamp).toLocaleDateString(),userId:t})})),n.sort(((e,t)=>t.word.length-e.word.length)),u(n)})),n=Ga(Ja(Va(e,"gameBeatScores"),Xa("time")),(e=>{const t=e.val(),n=[];Object.entries(t).forEach((e=>{let[t,r]=e;n.push({name:r.username||"Anonymous",time:r.time,timestamp:new Date(r.timestamp).toLocaleDateString(),userId:t})})),p(n)}));return()=>{t(),n()}}),[]);const _=(0,e.useCallback)((e=>{if(!e)return[];const t=[];return Object.entries(e).forEach((e=>{let[n,r]=e;if(r.miniGameScores){const e=Object.entries(r.miniGameScores).reduce(((e,t)=>{let[n,r]=t;return!e||r.score>e.score?{score:r.score,timestamp:n}:e}),null);var i;if(e)t.push({name:(null===(i=r.profile)||void 0===i?void 0:i.username)||"Anonymous",score:e.score,timestamp:new Date(parseInt(e.timestamp)).toLocaleDateString(),userId:n})}})),t.sort(((e,t)=>t.score-e.score)),t.map(((e,t)=>({...e,rank:t+1,isNew:e.timestamp===(new Date).toLocaleDateString()})))}),[]);(0,e.useEffect)((()=>{l(!0);const e=Ga(Va(ro(),"users"),(e=>{const t=e.val(),n=_(t);a(n),l(!1)}));return()=>e()}),[_]);const I=5*r,E=I+5,N=s.slice(I,E),S=Math.ceil(s.length/5),x=()=>{E<s.length&&i(r+1)},C=()=>{r>0&&i(r-1)},T=e=>{switch(e.key){case"ArrowLeft":C();break;case"ArrowRight":x();break;case"Escape":n()}};return(0,e.useEffect)((()=>(window.addEventListener("keydown",T),()=>{window.removeEventListener("keydown",T)})),[r,s]),(0,Du.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",style:{userSelect:"none"},children:[w&&(0,Du.jsx)(fd,{}),(0,Du.jsxs)("div",{className:"bg-gray-900 p-8 max-w-7xl w-full mx-5 relative border-4 border-gray-700",style:{backgroundImage:`url(${kd})`,backgroundSize:"cover",backgroundPosition:"center",imageRendering:"pixelated",boxShadow:"0 0 0 4px #000, 0 0 0 8px #333"},children:[(0,Du.jsx)("button",{onClick:n,className:"absolute top-4 left-4 bg-blue-500 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"<"}),(0,Du.jsx)("h2",{className:"text-4xl font-bold text-white text-center mb-8",style:{letterSpacing:"-1px"},children:"SCOREBOARD"}),(0,Du.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[(0,Du.jsx)("button",{onClick:()=>{h(!1),g(!1)},className:"px-4 py-2 left-2 rounded-lg text-lg font-bold "+(d||f?"bg-gray-300":"bg-blue-600 text-white"),children:"Main Scoreboard"}),(0,Du.jsx)("button",{onClick:()=>{h(!0),g(!1)},className:"px-4 py-2 rounded-lg text-lg font-bold "+(d?"bg-blue-600 text-white":"bg-gray-300"),children:"Longest Word Scoreboard"})]}),!d&&!f&&(0,Du.jsxs)("div",{className:"bg-black bg-opacity-90 p-6 mb-4 border-4 border-gray-800",children:[(0,Du.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6 text-white font-bold text-xl border-b-2 border-white pb-4",children:[(0,Du.jsx)("div",{className:"text-center",children:"Rank"}),(0,Du.jsx)("div",{className:"text-center",children:"Player"}),(0,Du.jsx)("div",{className:"text-center",children:"Score"}),(0,Du.jsx)("div",{className:"text-center",children:"Date"})]}),o?(0,Du.jsx)("div",{className:"text-white text-center py-4",children:"Loading scores..."}):N.map((e=>(0,Du.jsxs)("div",{className:`grid grid-cols-4 gap-4 p-4 mb-3 transform transition-all duration-500 ${e.isNew?"scale-100":""} ${e.userId===v?"scale-100 ring-2 ring-yellow-400":""}`,style:{fontSize:e.userId===v?"16px":"14px",background:1===e.rank?"#854d0e ":2===e.rank?"#4b5563":3===e.rank?"#78350f":"#1f2937",border:"2px solid",borderColor:1===e.rank?"#eab308":2===e.rank?"#9ca3af":3===e.rank?"#b45309":"#4b5563",boxShadow:e.rank<=3?"0 0 6px #FFF":"none",color:1===e.rank?"#fef08a":2===e.rank?"#e5e7eb":3===e.rank?"#fcd34d":"#9ca3af"},children:[(0,Du.jsx)("div",{className:"text-center font-bold",children:e.rank}),(0,Du.jsx)("div",{className:"text-center",children:e.name}),(0,Du.jsx)("div",{className:"text-center",children:e.score}),(0,Du.jsx)("div",{className:"text-center",children:e.timestamp})]},`${e.userId}-${e.score}`)))]}),d&&(0,Du.jsxs)("div",{className:"bg-black bg-opacity-90 p-6 mb-4 border-4 border-gray-800",children:[(0,Du.jsx)("h2",{className:"text-4xl text-white text-center mb-8",children:"Longest Word Spelled"}),(0,Du.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8 text-center text-white font-bold text-xl border-b-2 border-white pb-4",children:[(0,Du.jsx)("div",{children:"Player"}),(0,Du.jsx)("div",{children:"Longest Word"}),(0,Du.jsx)("div",{children:"Date"})]}),o?(0,Du.jsx)("div",{className:"text-white text-center py-4",children:"Loading longest words..."}):c.map(((e,t)=>(0,Du.jsxs)("div",{className:"grid grid-cols-3 gap-4 p-4 mb-3 transform transition-all duration-500 "+(e.userId===v?"scale-100 ring-2 ring-yellow-400":""),style:{fontSize:e.userId===v?"16px":"14px",background:0===t?"#854d0e":1===t?"#4b5563":2===t?"#78350f":t%2===0?"#1f2937":"#374151",border:"2px solid",borderColor:0===t?"#eab308":1===t?"#9ca3af":2===t?"#b45309":"#4b5563",boxShadow:t<=2?"0 0 6px #FFF":"none",color:0===t?"#fef08a":1===t?"#e5e7eb":2===t?"#fcd34d":"#9ca3af"},children:[(0,Du.jsx)("div",{className:"text-center",children:e.name}),(0,Du.jsx)("div",{className:"text-center font-bold",children:e.word}),(0,Du.jsx)("div",{className:"text-center",children:e.timestamp})]},e.userId)))]}),!d&&!f&&(0,Du.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,Du.jsx)("button",{onClick:C,disabled:0===r,className:"bg-blue-800 text-white px-4 py-2 border-b-4 border-blue-900  "+(0===r?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"),children:"< PREV"}),(0,Du.jsxs)("span",{className:"text-white flex items-center",children:["Page ",r+1," of ",S]}),(0,Du.jsx)("button",{onClick:x,disabled:E>=s.length,className:"bg-blue-500 text-white px-4 py-2 rounded "+(E>=s.length?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"),children:"NEXT >"})]})]})]})},Rd=t=>{let{isOpen:n,toggleSlidebar:r,onMainMenu:i,setSettingsOpen:s,setProfileOpen:a,onLogout:o}=t;const[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(0),h=[{label:"Main Menu",onClick:i},{label:"Settings",onClick:()=>{s(!0)}},{label:"Profile",onClick:()=>{a(!0)}},{label:"Scoreboard",onClick:()=>c(!0)},{label:"Logout",onClick:o}],m=e=>{if(n)switch(e.key){case"ArrowUp":d((e=>e<=0?h.length-1:e-1));break;case"ArrowDown":d((e=>e>=h.length-1?0:e+1));break;case"Enter":h[u].onClick();break;case"Escape":r()}};return(0,e.useEffect)((()=>(window.addEventListener("keydown",m),()=>{window.removeEventListener("keydown",m)})),[u,n]),(0,e.useEffect)((()=>{d(0)}),[n]),(0,Du.jsxs)(Du.Fragment,{children:[(0,Du.jsx)("div",{className:`slidebar fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 \n        ${n?"opacity-100 visible":"opacity-0 invisible"} \n        transition-all duration-300 ease-in-out`,children:(0,Du.jsxs)("div",{className:`w-full max-w-md mx-4 sm:w-96 h-auto max-h-[90vh] bg-gray-900 text-white rounded-xl shadow-2xl \n        transform ${n?"translate-y-0 scale-100":"translate-y-10 scale-95"}\n        transition-transform duration-300 ease-in-out overflow-hidden relative`,children:[(0,Du.jsx)("div",{className:"absolute top-4 right-4 text-2xl sm:text-3xl cursor-pointer z-10",onClick:r,children:(0,Du.jsx)(ju,{toggled:n,toggle:r})}),(0,Du.jsx)("h1",{className:"text-center text-2xl sm:text-3xl font-bold mt-6 sm:mt-10 mb-4 sm:mb-6 px-4",children:"Science Quest"}),(0,Du.jsx)("ul",{className:"list-none px-4 sm:px-6 mb-6 sm:mb-10 max-h-[60vh] overflow-y-auto",children:h.map(((e,t)=>(0,Du.jsx)("li",{className:"p-3 sm:p-4 border-b border-gray-700 transition duration-300 rounded-md\n                        "+(t===u?"bg-gray-700 ring-2 ring-white":"hover:bg-gray-700"),children:(0,Du.jsx)("button",{className:"text-white text-base sm:text-lg block w-full text-left",onClick:e.onClick,children:e.label})},t)))})]})}),l&&(0,Du.jsx)(Od,{onMainMenu:()=>c(!1)})]})},Ad={ACCELERATION:{DEFINITION:"The rate of change of velocity with respect to time. FORMULA: a = \u0394v/\u0394t",SOURCE:"https://www.britannica.com/science/acceleration"},VELOCITY:{DEFINITION:"The rate of change of position in a specific direction. FORMULA: v = \u0394x/\u0394t",SOURCE:"https://www.britannica.com/science/velocity"},FORCE:{DEFINITION:"A push or pull that can change an object's motion or shape. FORMULA: F = ma",SOURCE:"https://www.britannica.com/science/force-physics"},MOMENTUM:{DEFINITION:"The quantity of motion of a moving body, equal to the product of mass and velocity. FORMULA: p = mv",SOURCE:"https://www.britannica.com/science/momentum"},INERTIA:{DEFINITION:"The resistance of a physical object to any change in its velocity, including changes in speed or direction",SOURCE:"https://www.britannica.com/science/inertia"},GRAVITY:{DEFINITION:"The universal force of attraction between all masses. FORMULA: F = G(m\u2081m\u2082)/r\xb2",SOURCE:"https://www.nasa.gov/universe/gravity"},FRICTION:{DEFINITION:"The force resisting relative motion between surfaces in contact. FORMULA: f = \u03bcN",SOURCE:"https://www.britannica.com/science/friction"},ACID:{DEFINITION:"Substance that produces H+ ions in solution",SOURCE:"https://www.britannica.com/science/acid"},AMPLITUDE:{DEFINITION:"Maximum displacement from equilibrium position",SOURCE:"https://www.britannica.com/science/amplitude"},ANTIMATTER:{DEFINITION:"Matter with opposite properties of normal matter",SOURCE:"https://www.britannica.com/science/antimatter"},ASTEROID:{DEFINITION:"Rocky object orbiting the Sun",SOURCE:"https://www.britannica.com/science/asteroid"},ATMOSPHERE:{DEFINITION:"Gaseous layer surrounding Earth",SOURCE:"https://www.britannica.com/science/atmosphere"},BASE:{DEFINITION:"Substance that produces OH- ions in solution",SOURCE:"https://www.britannica.com/science/base-chemistry"},BIOSPHERE:{DEFINITION:"All life on Earth",SOURCE:"https://www.britannica.com/science/biosphere"},BLACKHOLE:{DEFINITION:"Region where gravity prevents light escape",SOURCE:"https://www.britannica.com/science/black-hole"},BOND:{DEFINITION:"Force holding atoms together in molecules",SOURCE:"https://www.britannica.com/science/chemical-bond"},CARNOT:{DEFINITION:"Ideal heat engine cycle efficiency. FORMULA: \u03b7 = 1 - Tc/Th",SOURCE:"https://www.britannica.com/science/Carnot-cycle"},CATALYST:{DEFINITION:"Substance that speeds up a reaction without being consumed",SOURCE:"https://www.britannica.com/science/catalyst"},CELL:{DEFINITION:"Basic unit of life",SOURCE:"https://www.britannica.com/science/cell-biology"},CENTRIPETAL:{DEFINITION:"Force directing motion in circular path. FORMULA: F = mv\xb2/r",SOURCE:"https://www.britannica.com/science/centripetal-force"},CHROMOSOME:{DEFINITION:"Structure containing DNA",SOURCE:"https://www.britannica.com/science/chromosome"},CLIMATE:{DEFINITION:"Long-term weather patterns",SOURCE:"https://www.britannica.com/science/climate"},COMET:{DEFINITION:"Icy body that produces gas tail near Sun",SOURCE:"https://www.britannica.com/science/comet"},COMPOUND:{DEFINITION:"Substance made of different elements chemically combined",SOURCE:"https://www.britannica.com/science/chemical-compound"},CONDUCTION:{DEFINITION:"Heat transfer through direct contact",SOURCE:"https://www.britannica.com/science/conduction-heat-transfer"},CONVECTION:{DEFINITION:"The transfer of heat through a fluid (liquid or gas) by the movement of warmer and cooler fluid regions",SOURCE:"https://www.britannica.com/science/convection"},DENSITY:{DEFINITION:"The mass of a substance per unit volume. FORMULA: \u03c1 = m/V",SOURCE:"https://www.britannica.com/science/density"},DIFFRACTION:{DEFINITION:"The bending of waves around obstacles or through openings, characteristic of all wave phenomena",SOURCE:"https://www.britannica.com/science/diffraction"},DNA:{DEFINITION:"A self-replicating material present in nearly all living organisms as the main constituent of chromosomes, carrying genetic information",SOURCE:"https://www.genome.gov/genetics-glossary/Deoxyribonucleic-Acid"},DOPPLER:{DEFINITION:"The change in frequency or wavelength of a wave for an observer moving relative to its SOURCE",SOURCE:"https://www.britannica.com/science/Doppler-effect"},ELECTRON:{DEFINITION:"A stable subatomic particle with a negative electric charge, found in all atoms around the nucleus",SOURCE:"https://www.britannica.com/science/electron"},ELASTICITY:{DEFINITION:"The ability of a material to return to its original shape and size after being stretched or compressed",SOURCE:"https://www.britannica.com/science/elasticity-physics"},ELEMENT:{DEFINITION:"A pure substance consisting of atoms with the same number of protons in their atomic nuclei",SOURCE:"https://www.britannica.com/science/chemical-element"},ENERGY:{DEFINITION:"The capacity to do work or cause physical change, existing in various forms that can be converted but not created or destroyed",SOURCE:"https://www.britannica.com/science/energy"},ENTANGLEMENT:{DEFINITION:"A quantum phenomenon where particles become correlated in such a way that the quantum state of each particle cannot be described independently",SOURCE:"https://www.nature.com/subjects/quantum-entanglement"},ENTROPY:{DEFINITION:"A measure of the disorder or randomness in a closed system. FORMULA: \u0394S = Q/T",SOURCE:"https://www.britannica.com/science/entropy-physics"},ENZMYE:"Protein that catalyzes biological reactions",EROSION:{DEFINITION:"The gradual destruction and removal of rock or soil by natural processes such as wind, water, or ice",SOURCE:"https://www.nationalgeographic.org/encyclopedia/erosion"},FREQUENCY:{DEFINITION:"The number of occurrences of a repeating event per unit time. FORMULA: f = 1/T",SOURCE:"https://www.britannica.com/science/frequency-physics"},GALAXY:{DEFINITION:"A massive system of stars, gas, dust, and dark matter held together by gravity",SOURCE:"https://www.nasa.gov/universe/galaxies"},GENE:{DEFINITION:"A sequence of DNA that codes for a specific protein or functional RNA molecule",SOURCE:"https://www.genome.gov/genetics-glossary/Gene"},HEAT:{DEFINITION:"The transfer of thermal energy between objects due to temperature differences",SOURCE:"https://www.britannica.com/science/heat"},HEATCAPACITY:{DEFINITION:"Heat needed to raise temperature by one degree",SOURCE:"https://www.britannica.com/science/heat-capacity"},HYDROSPHERE:{DEFINITION:"All water on Earth",SOURCE:"https://www.britannica.com/science/hydrosphere"},INTERFERENCE:{DEFINITION:"Combination of waves to form resultant wave",SOURCE:"https://www.britannica.com/science/interference-physics"},LATENT:{DEFINITION:"Heat absorbed/released during phase change",SOURCE:"https://www.britannica.com/science/latent-heat"},LIGHT:{DEFINITION:"Electromagnetic radiation visible to human eye",SOURCE:"https://www.britannica.com/science/light"},LITHOSPHERE:{DEFINITION:"Rigid outer part of Earth",SOURCE:"https://www.britannica.com/science/lithosphere"},MEMBRANE:{DEFINITION:"Barrier around cells and organelles",SOURCE:"https://www.britannica.com/science/membrane-biology"},METEOR:{DEFINITION:"Space rock burning in Earth's atmosphere",SOURCE:"https://www.britannica.com/science/meteor-astronomy"},MINERAL:{DEFINITION:"Naturally occurring inorganic solid",SOURCE:"https://www.britannica.com/science/mineral"},MITOSIS:{DEFINITION:"Cell division for growth and repair",SOURCE:"https://www.britannica.com/science/mitosis"},MOLECULE:{DEFINITION:"Group of atoms bonded together",SOURCE:"https://www.britannica.com/science/molecule"},NEBULA:{DEFINITION:"Cloud of gas and dust where stars form",SOURCE:"https://www.britannica.com/science/nebula"},NEUTRON:{DEFINITION:"Neutral particle in atomic nuclei",SOURCE:"https://www.britannica.com/science/neutron"},OPTICS:{DEFINITION:"Study of light behavior and properties",SOURCE:"https://www.britannica.com/science/optics"},PARTICLEPHYSICS:{DEFINITION:"Study of fundamental particles and interactions",SOURCE:"https://www.britannica.com/science/particle-physics"},PLANCK:{DEFINITION:"Quantum of action in physics. FORMULA: E = hf",SOURCE:"https://www.britannica.com/biography/Max-Planck"},PLANET:{DEFINITION:"Celestial body orbiting a star",SOURCE:"https://www.britannica.com/science/planet"},POLARIZATION:{DEFINITION:"Restriction of wave oscillation to one plane",SOURCE:"https://www.britannica.com/science/polarization-physics"},PRESSURE:{DEFINITION:"Force applied per unit area. FORMULA: P = F/A",SOURCE:"https://www.britannica.com/science/pressure-physics"},PROTEIN:{DEFINITION:"Large molecules essential for life processes",SOURCE:"https://www.britannica.com/science/protein"},PROTON:{DEFINITION:"Positively charged particle in atomic nuclei",SOURCE:"https://www.britannica.com/science/proton"},PULSAR:{DEFINITION:"Rotating neutron star emitting radiation",SOURCE:"https://www.britannica.com/science/pulsar"},QUANTUM:{DEFINITION:"Smallest possible discrete unit of any physical property",SOURCE:"https://www.britannica.com/science/quantum-mechanics"},QUASAR:{DEFINITION:"Very bright galactic nucleus",SOURCE:"https://www.britannica.com/science/quasar"},RADIATION:{DEFINITION:"Heat transfer through electromagnetic waves",SOURCE:"https://www.britannica.com/science/radiation"},REACTION:{DEFINITION:"Process where substances change into new substances",SOURCE:"https://www.britannica.com/science/chemical-reaction"},REDSHIFT:{DEFINITION:"Wavelength increase from moving objects",SOURCE:"https://www.britannica.com/science/redshift"},REFLECTION:{DEFINITION:"Bouncing back of waves from a surface",SOURCE:"https://www.britannica.com/science/reflection-physics"},REFRACTION:{DEFINITION:"Bending of waves passing between media",SOURCE:"https://www.britannica.com/science/refraction"},RELATIVITY:{DEFINITION:"Einstein's theory relating space, time, mass, and energy",SOURCE:"https://www.britannica.com/science/relativity"},RNA:{DEFINITION:"Molecule involved in protein synthesis",SOURCE:"https://www.britannica.com/science/RNA"},SOLUTION:{DEFINITION:"Homogeneous mixture of substances",SOURCE:"https://www.britannica.com/science/solution-chemistry"},SUPERPOSITION:{DEFINITION:"Quantum state existing in multiple states simultaneously",SOURCE:"https://www.britannica.com/science/quantum-superposition"},SUPERNOVA:{DEFINITION:"Explosive death of massive star",SOURCE:"https://www.britannica.com/science/supernova"},TEMPERATURE:{DEFINITION:"Measure of average kinetic energy of particles",SOURCE:"https://www.britannica.com/science/temperature-physics"},THERMODYNAMICS:{DEFINITION:"Study of heat, energy, and their relationships",SOURCE:"https://www.britannica.com/science/thermodynamics"},TORQUE:{DEFINITION:"Rotational force. FORMULA: \u03c4 = r \xd7 F",SOURCE:"https://www.britannica.com/science/torque"},UNCERTAINTY:{DEFINITION:"Heisenberg's principle of position-momentum uncertainty",SOURCE:"https://www.britannica.com/science/uncertainty-principle"},WAVES:{DEFINITION:"A disturbance that transfers energy through matter or space",SOURCE:"https://www.britannica.com/science/wave-physics"},WAVELENGTH:{DEFINITION:"Distance between wave peaks. FORMULA: \u03bb = v/f",SOURCE:"https://www.britannica.com/science/wavelength"},WEATHER:{DEFINITION:"Short-term atmospheric conditions",SOURCE:"https://www.britannica.com/science/weather-meteorology"},WORK:{DEFINITION:"The transfer of energy when a force moves an object. FORMULA: W = Fd",SOURCE:"https://www.britannica.com/science/work-physics"},AEROBIC:{DEFINITION:"Depending on oxygen for survival or function.",SOURCE:"https://www.britannica.com/science/aerobic"},AGGLUTINATION:{DEFINITION:"The clumping of particles, such as blood cells or bacteria, in response to an antibody-antigen reaction.",SOURCE:"https://www.britannica.com/science/agglutination"},ALBINO:{DEFINITION:"A person with a congenital absence of pigmentation in the skin, eyes, and hair.",SOURCE:"https://www.britannica.com/science/albinism"},ALLELE:{DEFINITION:"One of two or more alternative forms of a gene that occupy the same position on homologous chromosomes.",SOURCE:"https://www.britannica.com/science/allele"},ANAEROBIC:{DEFINITION:"Requiring the absence of or not dependent on oxygen for survival or function.",SOURCE:"https://www.britannica.com/science/anaerobic"},ANTERIOR:{DEFINITION:"Located near or toward the head of an organism.",SOURCE:"https://www.britannica.com/science/anatomy"},ASEXUAL:{DEFINITION:"A form of reproduction that does not involve the fusion of male and female gametes.",SOURCE:"https://www.britannica.com/science/asexual-reproduction"},ASSIMILATION:{DEFINITION:"The process of converting digested food into protoplasm in an organism.",SOURCE:"https://www.britannica.com/science/assimilation"},BACTERIA:{DEFINITION:"Single-celled microorganisms that lack a nucleus and can be found in various environments.",SOURCE:"https://www.britannica.com/science/bacteria"},BINARYFISSION:{DEFINITION:"A form of asexual reproduction in which a single cell divides into two identical daughter cells.",SOURCE:"https://www.britannica.com/science/binary-fission"},BIOMASS:{DEFINITION:"The total mass of living organisms in a given area or ecosystem.",SOURCE:"https://www.britannica.com/science/biomass"},BLOOD:{DEFINITION:"A fluid that circulates through the body, supplying oxygen and nutrients while removing waste products.",SOURCE:"https://www.britannica.com/science/blood-biochemistry"},BLOODVESSEL:{DEFINITION:"A tubular structure that carries blood throughout the body (artery, vein, or capillary).",SOURCE:"https://www.britannica.com/science/blood-vessel"},BONE:{DEFINITION:"A rigid structure that makes up the skeleton of most vertebrates.",SOURCE:"https://www.britannica.com/science/bone-anatomy"},CELL:{DEFINITION:"The basic structural and functional unit of life in all living organisms.",SOURCE:"https://www.britannica.com/science/cell-biology"},CHROMOSOME:{DEFINITION:"A thread-like structure of DNA that contains genetic information.",SOURCE:"https://www.britannica.com/science/chromosome"},CIRCULATION:{DEFINITION:"The movement of blood through the body to supply oxygen and nutrients to tissues.",SOURCE:"https://www.britannica.com/science/circulation"},CIRCULATORYSYSTEM:{DEFINITION:"The system responsible for transporting blood and lymph throughout the body.",SOURCE:"https://www.britannica.com/science/circulatory-system"},CLONE:{DEFINITION:"A genetically identical copy of an organism, produced asexually.",SOURCE:"https://www.britannica.com/science/cloning"},CODOMINANT:{DEFINITION:"A genetic condition in which both alleles in a heterozygous organism are fully expressed in the phenotype.",SOURCE:"https://www.britannica.com/science/codominance"},DIGESTION:{DEFINITION:"The process of breaking down food into simpler molecules for absorption.",SOURCE:"https://www.britannica.com/science/digestion"},DNA:{DEFINITION:"The molecule that carries genetic information in living organisms.",SOURCE:"https://www.britannica.com/science/DNA"},EVOLUTION:{DEFINITION:"The process by which species gradually change over generations through natural selection.",SOURCE:"https://www.britannica.com/science/evolution-scientific-theory"},FERMENTATION:{DEFINITION:"A chemical process in which microorganisms break down substances, often producing energy without oxygen.",SOURCE:"https://www.britannica.com/science/fermentation"},FOSSIL:{DEFINITION:"The preserved remains or traces of ancient organisms.",SOURCE:"https://www.britannica.com/science/fossil"},GENETICS:{DEFINITION:"The study of heredity and the variation of inherited characteristics.",SOURCE:"https://www.britannica.com/science/genetics"},IMMUNESYSTEM:{DEFINITION:"The body's defense system against infections and diseases.",SOURCE:"https://www.britannica.com/science/immune-system"},METABOLISM:{DEFINITION:"The set of chemical reactions that occur within an organism to maintain life.",SOURCE:"https://www.britannica.com/science/metabolism"},MITOSIS:{DEFINITION:"A type of cell division that results in two identical daughter cells.",SOURCE:"https://www.britannica.com/science/mitosis"},PHOTOSYNTHESIS:{DEFINITION:"The process by which plants convert sunlight into energy.",SOURCE:"https://www.britannica.com/science/photosynthesis"},PROTEIN:{DEFINITION:"A macromolecule made of amino acids essential for growth and repair in organisms.",SOURCE:"https://www.britannica.com/science/protein"},RESPIRATION:{DEFINITION:"The process of breaking down glucose to release energy.",SOURCE:"https://www.britannica.com/science/cellular-respiration"},VACCINE:{DEFINITION:"A substance used to stimulate the immune system and provide immunity to diseases.",SOURCE:"https://www.britannica.com/science/vaccine"},VIRUS:{DEFINITION:"A microscopic infectious agent that replicates only inside a living host cell.",SOURCE:"https://www.britannica.com/science/virus"},VITAMINS:{DEFINITION:"Organic compounds essential for normal growth and metabolism.",SOURCE:"https://www.britannica.com/science/vitamin"},WBC:{DEFINITION:"White Blood Cell (WBC) is a type of blood cell that helps fight infections and diseases.",SOURCE:"https://www.britannica.com/science/white-blood-cell"},WATERCYCLE:{DEFINITION:"The continuous movement of water through the environment, including evaporation, condensation, and precipitation.",SOURCE:"https://www.britannica.com/science/hydrologic-cycle"},XYLEM:{DEFINITION:"A tissue in plants that transports water and nutrients from the roots to the leaves.",SOURCE:"https://www.britannica.com/science/xylem"},YEAST:{DEFINITION:"A type of fungus used in fermentation and baking.",SOURCE:"https://www.britannica.com/science/yeast-fungus"},YOLK:{DEFINITION:"The nutrient-rich part of an egg that provides food for a developing embryo.",SOURCE:"https://www.britannica.com/science/yolk-biology"},ZYGOTE:{DEFINITION:"A fertilized egg cell that will develop into an embryo.",SOURCE:"https://www.britannica.com/science/zygote"},ZOOPLANKTON:{DEFINITION:"Microscopic aquatic animals that drift in water and serve as food for larger organisms.",SOURCE:"https://www.britannica.com/science/zooplankton"},ALCOHOL:{DEFINITION:"A flammable liquid (C\u2082H\u2085OH) made by fermenting sugars, used in drinks, solvents, and chemical production.",SOURCE:"https://www.britannica.com/science/alcohol"},ALKALI:{DEFINITION:"A base that dissolves in water.",SOURCE:"https://www.britannica.com/science/alkali"},ALKANE:{DEFINITION:"A hydrocarbon with only single bonds, following the formula C\u2099H\u2082\u2099\u208a\u2082.",SOURCE:"https://www.merriam-webster.com/dictionary/alkane"},ALLOTROPE:{DEFINITION:"Different physical forms of the same element (e.g., diamond and graphite for carbon).",SOURCE:"https://www.britannica.com/science/allotrope"},ALLOY:{DEFINITION:"A mixture of metals (or metals with nonmetals) with different properties than pure metals (e.g., steel, brass).",SOURCE:"https://www.britannica.com/technology/alloy"},ANALYSIS:{DEFINITION:"Breaking a substance into its components to identify and measure them.",SOURCE:"https://www.britannica.com/science/analysis-mathematics"},ANION:{DEFINITION:"A negatively charged ion; an ion that is attracted to the anode during electrolysis.",SOURCE:"https://www.britannica.com/science/anion"},ANODE:{DEFINITION:"The positive electrode in an electrolytic cell.",SOURCE:"https://www.britannica.com/technology/anode"},ATOMICMASS:{DEFINITION:"The mass of an isotope of an element in atomic mass units.",SOURCE:"https://www.britannica.com/science/atomic-mass"},ATOMICNUMBER:{DEFINITION:"The number of protons in the nucleus of an atom of an element.",SOURCE:"https://www.britannica.com/science/atomic-mass"},CARBOHYDRATE:{DEFINITION:"A large group of organic compounds, including sugars and polysaccharides, that serve as an important SOURCE of food and energy for animals.",SOURCE:"https://www.britannica.com/science/carbohydrate"},CATHODE:{DEFINITION:"The negative electrode in an electrolytic cell.",SOURCE:"https://www.britannica.com/science/carbohydrate"},CHAIN:{DEFINITION:"Two or more atoms or groups bonded together in a sequence.",SOURCE:"https://www.britannica.com/science/chain-chemistry"},CHEMICALEQUATION:{DEFINITION:"A representation of a chemical reaction using symbols of the elements to indicate the amount of substance involved.",SOURCE:"https://www.britannica.com/science/chemical-equation"},CHAINREACTION:{DEFINITION:"A process in which a neutron colliding with an atomic nucleus causes fission, leading to a self-sustaining series of reactions.",SOURCE:"https://www.britannica.com/science/chain-reaction"},CHROMATOGRAPHY:{DEFINITION:"A technique for separating and analyzing the components of a mixture based on differential adsorption.",SOURCE:"https://www.britannica.com/science/chromatography"},COMBUSTION:{DEFINITION:"A chemical process in which a substance reacts with oxygen to produce heat and light.",SOURCE:"https://www.britannica.com/science/combustion"},CONCENTRATED:{DEFINITION:"Having had water removed to increase concentration.",SOURCE:"https://www.britannica.com/dictionary/concentrated"},CONDENSATION:{DEFINITION:"A reaction in which two organic molecules combine to form a larger molecule along with a simple byproduct such as water.",SOURCE:"https://www.britannica.com/dictionary/CONDENSATION"},CORROSION:{DEFINITION:"A process in which a solid, especially a metal, is eaten away and changed by a chemical action, as in the oxidation of iron.",SOURCE:"https://www.britannica.com/science/corrosion"},CRYSTAL:{DEFINITION:"A solid substance with a regular shape in which atoms, ions, or molecules are arranged in a definite pattern.",SOURCE:"https://www.britannica.com/science/crystal"},CRYSTALLIZATION:{DEFINITION:"The process by which crystals are formed from a liquid or a solution.",SOURCE:"https://www.britannica.com/science/crystallization"},DIFFUSION:{DEFINITION:"The movement of particles from an area of higher concentration to an area of lower concentration.",SOURCE:"https://www.britannica.com/science/diffusion"},DILUTE:{DEFINITION:"A solution that has a low concentration of solute or has been reduced in concentration.",SOURCE:"https://www.britannica.com/dictionary/dilutev"},DISTILLATION:{DEFINITION:"The process of evaporating or boiling a liquid and condensing its vapor to separate components.",SOURCE:"https://www.britannica.com/dictionary/DISTILLATION"},ELECTRODE:{DEFINITION:"An element in a semiconducting device that emits, collects, or controls the movement of electrons.",SOURCE:"https://www.britannica.com/dictionary/ELECTRODE"},ELECTROLYSIS:{DEFINITION:"The conduction of electricity by a solution or melt, inducing chemical changes.",SOURCE:"https://www.britannica.com/dictionary/ELECTROLYSIS"},ELECTROVALENCY:{DEFINITION:"The valency of a substance in forming ions, equal to the number of electrons gained or lost.",SOURCE:"https://www.merriam-webster.com/dictionary/electrovalency"},EMULSION:{DEFINITION:"A light-sensitive coating on a base, such as paper or film, containing fine grains of silver bromide suspended in gelatin.",SOURCE:"https://www.britannica.com/dictionary/EMULSION"},ESTERS:{DEFINITION:"A compound produced by the reaction between acids and alcohols with the elimination of water, often having a fragrant odor.",SOURCE:"https://www.merriam-webster.com/dictionary/esters"},ETHER:{DEFINITION:"A colorless volatile highly flammable liquid with a characteristic sweetish odor, used as a solvent and anesthetic.",SOURCE:"https://www.britannica.com/dictionary/ETHER"},EVAPORATION:{DEFINITION:"The change of a liquid to a vapor, caused by an increase in temperature or a decrease in pressure.",SOURCE:"https://www.britannica.com/dictionary/EVAPORATION"},FAT:{DEFINITION:"A class of naturally occurring soft greasy solids that serve as an energy reserve in living organisms.",SOURCE:"https://www.britannica.com/dictionary/FAT"},FERMENTATION:{DEFINITION:"A chemical reaction in which a ferment causes an organic molecule to split into simpler substances, often producing alcohol.",SOURCE:"https://www.britannica.com/dictionary/FERMENTATION"},FISSION:{DEFINITION:"The act or process of splitting or breaking into parts, such as nuclear fission.",SOURCE:"https://www.britannica.com/dictionary/FERMENTATION"},GAS:{DEFINITION:"A substance that expands indefinitely to fill any container, with particles in rapid motion.",SOURCE:"https://www.britannica.com/dictionary/GAS"},HYDROCARBON:{DEFINITION:"An organic compound containing only carbon and hydrogen.",SOURCE:"https://www.britannica.com/dictionary/HYDROCARBON"},ION:{DEFINITION:"An electrically charged atom or group of atoms formed by the loss or gain of electrons.",SOURCE:"https://www.britannica.com/dictionary/ION"},OPXIDIZE:{DEFINITION:"A process in which a substance combines with oxygen, often producing energy.",SOURCE:"https://www.britannica.com/dictionary/OXIDATION"},PERIODICTABLE:{DEFINITION:"A table of elements arranged in order of increasing atomic number, highlighting their chemical properties.",SOURCE:"https://www.britannica.com/dictionary/-PERIODIC-TABLE"},PH:{DEFINITION:"A measure of the acidity or alkalinity of a solution, where 7 is neutral, lower values are acidic, and higher values are alkaline.",SOURCE:"https://www.britannica.com/dictionary/PH"},POLYMER:{DEFINITION:"A large molecule composed of repeating structural units.",SOURCE:"https://www.britannica.com/dictionary/PH"},RADIOACTIVITY:{DEFINITION:"The spontaneous emission of radiation from atomic nuclei.",SOURCE:"https://www.britannica.com/dictionary/RADIOACTIVITY"},SATURATED:{DEFINITION:"Containing the maximum amount of solute that can be dissolved at a given temperature and pressure.",SOURCE:"https://www.britannica.com/dictionary/SATURATED"},SOLVENT:{DEFINITION:"A liquid capable of dissolving another substance.",SOURCE:"https://www.britannica.com/dictionary/SOLVENT"},VALENCE:{DEFINITION:"The ability of an atom to combine with other atoms, determined by the number of electrons it can lose, gain, or share.",SOURCE:"https://www.britannica.com/dictionary/VALENCY"},HYDROGEN:{DEFINITION:"is the most prevalent element in the cosmos and the third most plentiful element on the surface of the earth.",SOURCE:"https://www.vedantu.com/jee-main/chemistry-hydrogen"},HELIUM:{DEFINITION:"is a noble gas, the second most abundant element in the universe, and is commonly used in balloons, cryogenics, and as a protective gas in welding.",SOURCE:"https://www.vedantu.com/chemistry/helium"},LITHIUM:{DEFINITION:"is the lightest metal and an alkali metal, widely used in rechargeable batteries and mood-stabilizing medications.",SOURCE:"https://www.vedantu.com/chemistry/lithium"},BERYLLIUM:{DEFINITION:"is a lightweight, strong, steel-gray metal used in aerospace materials, X-ray windows, and alloys.",SOURCE:"https://www.vedantu.com/chemistry/beryllium"},BORON:{DEFINITION:"is a metalloid used in fiberglass, detergents, and as a semiconductor in electronic devices.",SOURCE:"https://www.vedantu.com/chemistry/boron"},CARBON:{DEFINITION:"is a nonmetal essential to life, found in all known life forms and used industrially in steel production and as graphite and diamond.",SOURCE:"https://www.vedantu.com/chemistry/carbon"},NITROGEN:{DEFINITION:"is a colorless, odorless gas that makes up around 78% of Earth\u2019s atmosphere, crucial for biological molecules like DNA and proteins.",SOURCE:"https://www.vedantu.com/chemistry/nitrogen-gas"},OXYGEN:{DEFINITION:"is a colorless gas essential for respiration in living organisms and supports combustion.",SOURCE:"https://www.vedantu.com/chemistry/oxygen"},FLUORINE:{DEFINITION:"is a pale yellow, highly reactive gas used in toothpaste (as fluoride) and in the production of Teflon.",SOURCE:"https://www.vedantu.com/chemistry/fluorine"},NEON:{DEFINITION:"is a noble gas used primarily in advertising signs and high-voltage indicators due to its distinct reddish-orange glow.",SOURCE:"https://www.vedantu.com/chemistry/neon"},SODIUM:{DEFINITION:"is a soft, highly reactive metal used in table salt (sodium chloride) and in street lighting.",SOURCE:"https://www.vedantu.com/chemistry/sodium"},MAGNESIUM:{DEFINITION:"is a lightweight metal used in alloys, fireworks, and as an essential mineral in the human body.",SOURCE:"https://www.vedantu.com/chemistry/magnesium"},ALUMINUM:{DEFINITION:"is a lightweight, corrosion-resistant metal used in cans, aircraft, and construction materials.",SOURCE:"https://www.vedantu.com/chemistry/aluminium"},SILICON:{DEFINITION:"is a metalloid used widely in electronics as the primary material for semiconductors.",SOURCE:"https://www.vedantu.com/chemistry/silicon"},PHOSPHORUS:{DEFINITION:"is a reactive nonmetal used in fertilizers, detergents, and matches, essential to DNA and energy transfer in cells.",SOURCE:"https://www.vedantu.com/chemistry/phosphorus"},SULFUR:{DEFINITION:"is a yellow nonmetal used in sulfuric acid production, fertilizers, and vulcanization of rubber.",SOURCE:"https://www.vedantu.com/chemistry/sulfur"},CHLORINE:{DEFINITION:"is a greenish-yellow gas used in disinfectants, water treatment, and the production of plastics like PVC.",SOURCE:"https://www.vedantu.com/chemistry/chlorine"},ARGON:{DEFINITION:"is an inert noble gas used in welding, incandescent light bulbs, and to protect reactive materials.",SOURCE:"https://www.vedantu.com/chemistry/argon"},POTASSIUM:{DEFINITION:"is a soft, reactive metal essential for plant growth and human health, used in fertilizers and salts.",SOURCE:"https://www.vedantu.com/chemistry/potassium"},CALCIUM:{DEFINITION:"is a silvery-white metal vital for bones and teeth, and used in cement, steelmaking, and as a reducing agent.",SOURCE:"https://www.vedantu.com/chemistry/calcium"},SCANDIUM:{DEFINITION:"is a silvery-white transition metal often classified as a rare-earth element and used in aerospace alloys and metal halide lamps.",SOURCE:"https://www.vedantu.com/chemistry/scandium"},TITANIUM:{DEFINITION:"is a strong, lightweight metal known for its corrosion resistance, commonly used in aerospace, medical implants, and pigments.",SOURCE:"https://www.vedantu.com/chemistry/titanium"},VANADIUM:{DEFINITION:"is a transition metal used to produce high-strength steel alloys and as a catalyst in chemical reactions.",SOURCE:"https://www.vedantu.com/chemistry/vanadium"},CHROMIUM:{DEFINITION:"is a hard, lustrous metal known for its corrosion resistance, used in stainless steel and chrome plating.",SOURCE:"https://www.vedantu.com/chemistry/chromium"},MANGANESE:{DEFINITION:"is a gray-white metal used to improve the strength and hardness of steel and in batteries and fertilizers.",SOURCE:"https://www.vedantu.com/chemistry/manganese"},IRON:{DEFINITION:"is a versatile metal used widely in construction, manufacturing, and biological processes such as oxygen transport in hemoglobin.",SOURCE:"https://www.vedantu.com/chemistry/iron"},COBALT:{DEFINITION:"is a magnetic metal used in alloys, batteries, and pigments such as cobalt blue in glass and ceramics.",SOURCE:"https://www.vedantu.com/chemistry/cobalt-chemical-element"},NICKEL:{DEFINITION:"is a silvery-white metal known for its corrosion resistance and use in stainless steel, coins, and rechargeable batteries.",SOURCE:"https://www.vedantu.com/chemistry/nickel"},COPPER:{DEFINITION:"is a reddish-brown metal known for its excellent electrical and thermal conductivity, used in wiring, plumbing, and coinage.",SOURCE:"https://www.vedantu.com/chemistry/copper"},ZINC:{DEFINITION:"is a bluish-silver metal used in galvanization to protect steel from corrosion and as an essential trace element in biology.",SOURCE:"https://www.vedantu.com/chemistry/zinc"},GALLIUM:{DEFINITION:"is a soft metal with a low melting point, used in semiconductors, LEDs, and solar panels.",SOURCE:"https://www.vedantu.com/chemistry/gallium"},GERMANIUM:{DEFINITION:"is a lustrous metalloid used as a semiconductor in transistors, fiber optics, and infrared optics.",SOURCE:"https://www.vedantu.com/chemistry/germanium"},ARSENIC:{DEFINITION:"is a toxic metalloid used historically in pesticides, wood preservatives, and semiconductors.",SOURCE:"https://www.vedantu.com/chemistry/arsenic"},SELENIUM:{DEFINITION:"is a nonmetal used in glassmaking, electronics, and as an essential micronutrient with antioxidant properties.",SOURCE:"https://www.vedantu.com/chemistry/selenium"},BROMINE:{DEFINITION:"is a reddish-brown liquid halogen used in flame retardants, pharmaceuticals, and water treatment.",SOURCE:"https://www.vedantu.com/chemistry/bromine"},KRYPTON:{DEFINITION:"is a colorless, odorless noble gas used in lighting products, such as high-performance light bulbs and flash photography.",SOURCE:"https://www.vedantu.com/chemistry/krypton"},RUBIDIUM:{DEFINITION:"is a soft, silvery metal that is highly reactive and used in research, electronics, and specialty glasses.",SOURCE:"https://www.vedantu.com/chemistry/rubidium"},STRONTIUM:{DEFINITION:"is a soft, silver-yellow metal used in fireworks to create red flames and in producing ferrite magnets.",SOURCE:"https://www.vedantu.com/chemistry/strontium"},YTTRIUM:{DEFINITION:"is a silvery metal used in phosphors for LEDs and CRT displays, as well as in superconductors.",SOURCE:"https://www.vedantu.com/chemistry/yttrium"},ZIRCONIUM:{DEFINITION:"is a corrosion-resistant metal used in nuclear reactors, surgical instruments, and ceramics.",SOURCE:"https://www.vedantu.com/chemistry/zirconium"},NIOBIUM:{DEFINITION:"is a transition metal used in steel alloys to improve strength, and in superconducting materials.",SOURCE:"https://www.vedantu.com/chemistry/niobium"},MOLYBDENUM:{DEFINITION:"is a hard, silvery metal used to strengthen steel and in catalysts and lubricants.",SOURCE:"https://www.vedantu.com/chemistry/molybdenum"},TECHNETIUM:{DEFINITION:"is the first artificially produced element, used mainly in medical imaging as a radioactive tracer.",SOURCE:"https://www.vedantu.com/chemistry/technetium"},RUTHENIUM:{DEFINITION:"is a rare, hard metal used in electronics, as a catalyst, and to harden platinum and palladium alloys.",SOURCE:"https://www.vedantu.com/chemistry/ruthenium"},RHODIUM:{DEFINITION:"is a rare, reflective metal used in catalytic converters, jewelry, and as an alloying agent.",SOURCE:"https://www.vedantu.com/chemistry/rhodium"},PALLADIUM:{DEFINITION:"is a silvery-white metal used in catalytic converters, electronics, dentistry, and jewelry.",SOURCE:"https://www.vedantu.com/chemistry/palladium"},SILVER:{DEFINITION:"is a shiny metal known for its conductivity and use in jewelry, electronics, and photography.",SOURCE:"https://www.vedantu.com/chemistry/silver"},CADMIUM:{DEFINITION:"is a soft, bluish-white metal used in batteries, pigments, and as a neutron absorber in nuclear reactors.",SOURCE:"https://www.vedantu.com/chemistry/cadmium"},INDIUM:{DEFINITION:"is a soft metal used in touchscreens, LCDs, and solders due to its low melting point.",SOURCE:"https://www.vedantu.com/chemistry/indium"},TIN:{DEFINITION:"is a malleable metal used to coat other metals to prevent corrosion, and in alloys like bronze and solder.",SOURCE:"https://www.vedantu.com/chemistry/tin"},ANTIMONY:{DEFINITION:"is a brittle metalloid used in flame retardants, lead-acid batteries, and alloys.",SOURCE:"https://www.vedantu.com/chemistry/antimony"},TELLURIUM:{DEFINITION:"is a brittle metalloid used in alloys, semiconductors, and thermoelectric devices.",SOURCE:"https://www.vedantu.com/chemistry/tellurium"},IODINE:{DEFINITION:"is a dark purple solid halogen essential for thyroid health and used as a disinfectant and in pharmaceuticals.",SOURCE:"https://www.vedantu.com/chemistry/iodine"},XENON:{DEFINITION:"is a colorless, dense noble gas used in lighting, anesthesia, and ion propulsion systems for spacecraft.",SOURCE:"https://www.vedantu.com/chemistry/xenon"},CESIUM:{DEFINITION:"is a soft, gold-colored metal known for its use in atomic clocks and as a propellant in ion engines.",SOURCE:"https://www.vedantu.com/chemistry/cesium"},BARIUM:{DEFINITION:"is a soft, silvery alkaline earth metal used in medical imaging and fireworks.",SOURCE:"https://www.vedantu.com/chemistry/barium"},LANTHANUM:{DEFINITION:"is a soft, malleable rare-earth metal used in camera lenses, carbon arc lamps, and batteries.",SOURCE:"https://www.vedantu.com/chemistry/lanthanum"},CERIUM:{DEFINITION:"is a reactive rare-earth metal used in catalysts, alloys, and flints for lighters.",SOURCE:"https://www.vedantu.com/chemistry/cerium"},PRASEODYMIUM:{DEFINITION:"is a rare-earth metal used to create strong alloys and in aircraft engines and permanent magnets.",SOURCE:"https://www.vedantu.com/chemistry/praseodymium"},NEODYMIUM:{DEFINITION:"is a rare-earth metal used in strong permanent magnets, lasers, and glass coloring.",SOURCE:"https://www.vedantu.com/chemistry/neodymium"},PROMETHIUM:{DEFINITION:"is a radioactive rare-earth metal used in luminous paint, nuclear batteries, and research.",SOURCE:"https://www.vedantu.com/chemistry/promethium"},SAMARIUM:{DEFINITION:"is a rare-earth metal used in magnets, nuclear reactors, and as a neutron absorber.",SOURCE:"https://www.vedantu.com/chemistry/samarium"},EUROPIUM:{DEFINITION:"is a soft rare-earth metal used in phosphorescent materials for TV screens and fluorescent lamps.",SOURCE:"https://www.vedantu.com/chemistry/europium"},GADOLINIUM:{DEFINITION:"is a rare-earth metal used in MRI contrast agents, nuclear reactors, and phosphors.",SOURCE:"https://www.vedantu.com/chemistry/gadolinium"},TERBIUM:{DEFINITION:"is a rare-earth metal used in solid-state devices, lasers, and green phosphors in displays.",SOURCE:"https://www.vedantu.com/chemistry/terbium"},DYSPROSIUM:{DEFINITION:"is a rare-earth metal used in magnets, nuclear reactors, and data storage devices.",SOURCE:"https://www.vedantu.com/chemistry/dysprosium"},HOLMIUM:{DEFINITION:"is a rare-earth metal used in lasers, nuclear reactors, and to color glass and cubic zirconia.",SOURCE:"https://www.vedantu.com/chemistry/holmium"},ERBIUM:{DEFINITION:"is a rare-earth metal used in fiber-optic communication systems, lasers, and glass tinting.",SOURCE:"https://www.vedantu.com/chemistry/erbium"},THULIUM:{DEFINITION:"is a rare-earth metal used in lasers, portable X-ray machines, and electronic devices.",SOURCE:"https://www.vedantu.com/chemistry/thulium"},YTTERBIUM:{DEFINITION:"is a rare-earth metal used in lasers, atomic clocks, and as a dopant in stainless steel.",SOURCE:"https://www.vedantu.com/chemistry/ytterbium"},LUTETIUM:{DEFINITION:"is a rare-earth metal used in PET scan detectors, catalysts, and in cancer therapy.",SOURCE:"https://www.vedantu.com/chemistry/lutetium"},HAFNIUM:{DEFINITION:"is a corrosion-resistant metal used in nuclear control rods and high-temperature alloys.",SOURCE:"https://www.vedantu.com/chemistry/hafnium"},TANTALUM:{DEFINITION:"is a hard, blue-gray metal used in electronics, medical implants, and aerospace components.",SOURCE:"https://www.vedantu.com/chemistry/tantalum"},TUNGSTEN:{DEFINITION:"is a dense metal with the highest melting point, used in light bulb filaments and cutting tools.",SOURCE:"https://www.vedantu.com/chemistry/tungsten"},RHENIUM:{DEFINITION:"is a dense metal used in high-temperature superalloys, catalysts, and electrical contacts.",SOURCE:"https://www.vedantu.com/chemistry/rhenium"},OSMIUM:{DEFINITION:"is a hard, brittle metal with high density, used in fountain pen tips, electrical contacts, and alloys.",SOURCE:"https://www.vedantu.com/chemistry/osmium"},IRIDIUM:{DEFINITION:"is a corrosion-resistant metal used in spark plugs, crucibles, and deep-sea cables.",SOURCE:"https://www.vedantu.com/chemistry/iridium"},PLATINUM:{DEFINITION:"is a precious metal used in catalytic converters, jewelry, and laboratory equipment.",SOURCE:"https://www.vedantu.com/chemistry/platinum"},GOLD:{DEFINITION:"is a highly valued metal used in jewelry, electronics, and as a monetary standard.",SOURCE:"https://www.vedantu.com/chemistry/gold"},MERCURY:{DEFINITION:"is a liquid metal used in thermometers, barometers, and fluorescent lamps.",SOURCE:"https://www.vedantu.com/chemistry/mercury"},THALLIUM:{DEFINITION:"is a soft, toxic metal used in electronics, optics, and historically in rat poison.",SOURCE:"https://www.vedantu.com/chemistry/thallium"},LEAD:{DEFINITION:"is a heavy metal used in batteries, shielding against radiation, and historically in pipes and paints.",SOURCE:"https://www.vedantu.com/chemistry/pb"},BISMUTH:{DEFINITION:"is a brittle metal used in cosmetics, medicines, and as a replacement for lead in alloys.",SOURCE:"https://www.vedantu.com/chemistry/bismuth"},POLONIUM:{DEFINITION:"is a radioactive metalloid used in anti-static devices and as a heat SOURCE in space equipment.",SOURCE:"https://www.vedantu.com/chemistry/polonium"},ASTATINE:{DEFINITION:"is a rare, radioactive halogen with applications in cancer treatment research.",SOURCE:"https://www.vedantu.com/chemistry/astatine"},RADON:{DEFINITION:"is a radioactive noble gas that occurs naturally and is considered a health hazard in buildings.",SOURCE:"https://www.vedantu.com/chemistry/radon"},FRANCIUM:{DEFINITION:"is a highly radioactive alkali metal that occurs in trace amounts and is studied for research purposes.",SOURCE:"https://www.vedantu.com/chemistry/francium"},RADIUM:{DEFINITION:"is a radioactive metal historically used in luminous paints and now in cancer treatments.",SOURCE:"https://www.vedantu.com/chemistry/radium"},ACTINIUM:{DEFINITION:"is a radioactive element used as a neutron SOURCE and in radiation therapy.",SOURCE:"https://www.vedantu.com/chemistry/actinium"},THORIUM:{DEFINITION:"is a radioactive metal used in nuclear reactors and in producing high-quality lenses and heat-resistant ceramics.",SOURCE:"https://www.vedantu.com/chemistry/thorium"},PROTACTINIUM:{DEFINITION:"is a rare, radioactive metal used in scientific research and as a precursor in nuclear fuel.",SOURCE:"https://www.vedantu.com/chemistry/protactinium"},URANIUM:{DEFINITION:"is a heavy radioactive metal used as fuel in nuclear power plants and in military applications.",SOURCE:"https://www.vedantu.com/chemistry/uranium"},NEPTUNIUM:{DEFINITION:"is a radioactive actinide metal used in research and considered as a potential nuclear fuel.",SOURCE:"https://www.vedantu.com/chemistry/neptunium"},PLUTONIUM:{DEFINITION:"is a highly radioactive metal used in nuclear weapons and as a fuel in nuclear reactors.",SOURCE:"https://www.vedantu.com/chemistry/plutonium"},AMERICIUM:{DEFINITION:"is a synthetic radioactive metal used in smoke detectors and as a neutron SOURCE.",SOURCE:"https://www.vedantu.com/chemistry/americium"},CURIUM:{DEFINITION:"is a radioactive metal used in research and as a power SOURCE in space missions.",SOURCE:"https://www.vedantu.com/chemistry/curium"},BERKELIUM:{DEFINITION:"is a synthetic radioactive metal used in scientific research.",SOURCE:"https://www.vedantu.com/chemistry/berkelium"},CALIFORNIUM:{DEFINITION:"is a radioactive metal used in neutron moisture gauges and as a neutron SOURCE in research.",SOURCE:"https://www.vedantu.com/chemistry/californium"},EINSTEINIUM:{DEFINITION:"is a synthetic radioactive metal used for basic scientific research.",SOURCE:"https://www.vedantu.com/chemistry/einsteinium"},FERMIUM:{DEFINITION:"is a synthetic radioactive metal produced in nuclear reactors and used in research.",SOURCE:"https://www.vedantu.com/chemistry/fermium"},MENDELEVIUM:{DEFINITION:"is a synthetic element produced in particle accelerators and used in research.",SOURCE:"https://www.vedantu.com/chemistry/mendelevium"},NOBELIUM:{DEFINITION:"is a synthetic radioactive element used exclusively in scientific research.",SOURCE:"https://www.vedantu.com/chemistry/nobelium"},LAWRENCIUM:{DEFINITION:"is a synthetic element used in research to study the properties of heavy elements.",SOURCE:"https://www.vedantu.com/chemistry/lawrencium"},RUTHERFORDIUM:{DEFINITION:"is a synthetic element with limited applications, studied for its chemical properties.",SOURCE:"https://www.vedantu.com/chemistry/rutherfordium"},DUBNIUM:{DEFINITION:"is a synthetic radioactive element used only in scientific research.",SOURCE:"https://www.vedantu.com/chemistry/dubnium"},SEABORGIUM:{DEFINITION:"is a synthetic element studied for research on heavy elements.",SOURCE:"https://www.vedantu.com/chemistry/seaborgium"},BOHRIUM:{DEFINITION:"is a synthetic element produced in particle accelerators, used for scientific research.",SOURCE:"https://www.vedantu.com/chemistry/bohrium"},HASSIUM:{DEFINITION:"is a synthetic radioactive element used in research into the properties of heavy nuclei.",SOURCE:"https://www.vedantu.com/chemistry/hassium"},MEITNERIUM:{DEFINITION:"is a synthetic element with no practical applications outside of scientific research.",SOURCE:"https://www.vedantu.com/chemistry/meitnerium"},DARMSTADTIUM:{DEFINITION:"is a synthetic element created in labs and used for experimental research.",SOURCE:"https://www.vedantu.com/chemistry/darmstadtium"},ROENTGENIUM:{DEFINITION:"is a synthetic, highly radioactive element used in atomic research.",SOURCE:"https://www.vedantu.com/chemistry/roentgenium"},COPERNICIUM:{DEFINITION:"is a synthetic element studied to understand superheavy atoms.",SOURCE:"https://www.vedantu.com/chemistry/copernicium"},NIHONIUM:{DEFINITION:"is a synthetic element used in research, named after Japan.",SOURCE:"https://www.vedantu.com/chemistry/nihonium"},FLEROVIUM:{DEFINITION:"is a synthetic element studied for its properties as a superheavy metal.",SOURCE:"https://www.vedantu.com/chemistry/flerovium"},MOSCOVIUM:{DEFINITION:"is a synthetic element created in laboratories for research purposes.",SOURCE:"https://www.vedantu.com/chemistry/moscovium"},LIVERMORIUM:{DEFINITION:"is a synthetic radioactive element used in scientific research.",SOURCE:"https://www.vedantu.com/chemistry/livermorium"},TENNESSINE:{DEFINITION:"is a synthetic halogen used in research on superheavy elements.",SOURCE:"https://www.vedantu.com/chemistry/tennessine"},OGANESSON:{DEFINITION:"is a synthetic noble gas used in research on the limits of the periodic table.",SOURCE:"https://www.vedantu.com/chemistry/oganesson"},OXIDIZE:{DEFINITION:"To react with oxygen and rust. It means to cause an atom or group of atoms to lose electrons during a chemical reaction.",SOURCE:"https://dictionary.cambridge.org/us/dictionary/english/oxidize"},IODIZE:{DEFINITION:"To undergo or cause to undergo oxidation.",SOURCE:"https://www.dictionary.com/browse/oxidize"},ATOMIC:{DEFINITION:"using the energy that is created when an atom is divided.",SOURCE:"https://www.merriam-webster.com/dictionary/atomic"},NITRICACID:{DEFINITION:"To react with nitrogen and rust. It means to cause an atom or group of atoms to lose electrons during a chemical reaction.",SOURCE:"https://dictionary.cambridge.org/us/dictionary/english/nitric-acid"},NITRIC:{DEFINITION:"containing nitrogen, usually in the pentavalent state. of or relating to niter.",SOURCE:"https://www.dictionary.com/browse/nitric"},ADIABATIC:{DEFINITION:"A process in which no heat is exchanged with the surroundings.",SOURCE:"https://www.britannica.com/science/adiabatic-process"},ANGSTROM:{DEFINITION:"A unit of length equal to 10\u207b\xb9\u2070 meters, used to measure wavelengths.",SOURCE:"https://www.britannica.com/science/angstrom"},BARYON:{DEFINITION:"A class of subatomic particles made up of three quarks, including protons and neutrons.",SOURCE:"https://www.britannica.com/science/baryon"},ENTROPY:{DEFINITION:"A measure of disorder in a system. FORMULA: \u0394S = Q/T",SOURCE:"https://www.britannica.com/science/entropy-physics"},ISOTOPE:{DEFINITION:"Atoms of the same element with different numbers of neutrons.",SOURCE:"https://www.britannica.com/science/isotope"},QUARK:{DEFINITION:"A fundamental constituent of matter that combines to form protons and neutrons.",SOURCE:"https://www.britannica.com/science/quark"},SUPERCONDUCTOR:{DEFINITION:"A material that exhibits zero electrical resistance below a certain temperature.",SOURCE:"https://www.britannica.com/science/superconductivity"},AVOGADRO:{DEFINITION:"The number of particles in one mole of a substance (6.022\xd710\xb2\xb3).",SOURCE:"https://www.britannica.com/science/Avogadros-number"},CATALYSIS:{DEFINITION:"The process by which a catalyst increases the rate of a chemical reaction.",SOURCE:"https://www.britannica.com/science/catalysis"},COLLOID:{DEFINITION:"A mixture where microscopic particles are suspended in a liquid, solid, or gas.",SOURCE:"https://www.britannica.com/science/colloid"},POLYMERIZATION:{DEFINITION:"The process of forming large molecules from small repeating units.",SOURCE:"https://www.britannica.com/science/polymerization"},STOICHIOMETRY:{DEFINITION:"The calculation of reactants and products in chemical reactions.",SOURCE:"https://www.britannica.com/science/stoichiometry"},AUTOTROPH:{DEFINITION:"An organism that produces its own food using light or chemical energy.",SOURCE:"https://www.britannica.com/science/autotroph"},HOMEOSTASIS:{DEFINITION:"The ability of an organism to maintain stable internal conditions.",SOURCE:"https://www.britannica.com/science/homeostasis"},OSMOSIS:{DEFINITION:"The diffusion of water across a semipermeable membrane.",SOURCE:"https://www.britannica.com/science/osmosis"},MUTATION:{DEFINITION:"A change in the DNA sequence of an organism, leading to genetic variation.",SOURCE:"https://www.britannica.com/science/mutation"},TAXONOMY:{DEFINITION:"The science of classifying and naming organisms.",SOURCE:"https://www.britannica.com/science/taxonomy-biology"},GEOLOGY:{DEFINITION:"The study of the Earth's physical structure and substance.",SOURCE:"https://www.britannica.com/science/geology"},MAGNETOSPHERE:{DEFINITION:"The region surrounding a planet dominated by its magnetic field.",SOURCE:"https://www.britannica.com/science/magnetosphere"},PERMAFROST:{DEFINITION:"Ground that remains completely frozen for at least two consecutive years.",SOURCE:"https://www.britannica.com/science/permafrost"},TSUNAMI:{DEFINITION:"A large sea wave caused by an underwater earthquake or volcanic eruption.",SOURCE:"https://www.britannica.com/science/tsunami"},EXOPLANET:{DEFINITION:"A planet that orbits a star outside our solar system.",SOURCE:"https://www.britannica.com/science/exoplanet"},PARSEC:{DEFINITION:"A unit of astronomical distance equivalent to 3.26 light-years.",SOURCE:"https://www.britannica.com/science/parsec"},NEBULA:{DEFINITION:"A cloud of gas and dust in space, where stars are formed.",SOURCE:"https://www.britannica.com/science/nebula"},WHITE_DWARF:{DEFINITION:"A small, dense star that is the leftover core of a low-mass star.",SOURCE:"https://www.britannica.com/science/white-dwarf"},ATOM:{DEFINITION:"The smallest unit into which matter can be divided without the release of electrically charged particles. ",SOURCE:"https://www.britannica.com/science/atom"},ABSORBANCE:{DEFINITION:"A measure of the amount of light absorbed by a solution at a particular wavelength.",SOURCE:"https://www.britannica.com/science/absorption-spectroscopy"},ABSORPTION:{DEFINITION:"The process by which one substance takes in or assimilates another, such as a liquid being absorbed by a solid or light being absorbed by a material.",SOURCE:"https://www.britannica.com/science/absorption"},ABSORPTIVITY:{DEFINITION:"A property that quantifies how much light is absorbed by a material at a specific wavelength.",SOURCE:"https://www.britannica.com/science/absorptivity"},ACCURACY:{DEFINITION:"The degree to which a measurement or calculation conforms to the correct value or standard.",SOURCE:"https://www.britannica.com/science/measurement#ref532904"},ACTINIDES:{DEFINITION:"A series of 15 metallic elements from actinium to lawrencium (atomic numbers 89-103), known for their radioactive properties.",SOURCE:"https://www.britannica.com/science/actinide-series"},ACTINIUM:{DEFINITION:"A radioactive chemical element (Ac) with atomic number 89, part of the actinide series, used in radiation therapy.",SOURCE:"https://www.britannica.com/science/actinium"},ADSORPTION:{DEFINITION:"The process in which molecules or particles adhere to a surface rather than being absorbed into it.",SOURCE:"https://www.britannica.com/science/adsorption"},ADULTERANT:{DEFINITION:"A substance added to a product that makes it impure or inferior.",SOURCE:"https://www.merriam-webster.com/dictionary/adulterant"},ETHER:{DEFINITION:"A historical concept of a medium once thought to fill all space and transmit light waves.",SOURCE:"https://www.britannica.com/science/ether-theoretical-substance"},AIR:{DEFINITION:"The mixture of gases surrounding Earth, primarily composed of nitrogen (78%) and oxygen (21%), along with trace amounts of other gases.",SOURCE:"https://www.britannica.com/science/air"},ALCHEMY:{DEFINITION:"A medieval and early modern practice that combined elements of chemistry, philosophy, and mysticism, aiming to transform base metals into gold and discover the elixir of life.",SOURCE:"https://www.britannica.com/topic/alchemy"},ALCOHOL:{DEFINITION:"An organic compound characterized by one or more hydroxyl (-OH) functional groups attached to a carbon atom.",SOURCE:"https://www.britannica.com/science/alcohol"},ALKALINE:{DEFINITION:"A term used to describe a substance with a pH greater than 7, often associated with bases that neutralize acids.",SOURCE:"https://www.britannica.com/science/alkali"},ALKALINITY:{DEFINITION:"The capacity of a solution to neutralize acids, typically measured by the concentration of bicarbonates, carbonates, and hydroxides.",SOURCE:"https://www.britannica.com/science/alkalinity"},ALKENE:{DEFINITION:"An unsaturated hydrocarbon containing at least one carbon-carbon double bond, with the general formula C\u2099H\u2082\u2099.",SOURCE:"https://www.collinsdictionary.com/us/dictionary/english/alkene"},ALKOXIDE:{DEFINITION:"A basic salt derived from an alcohol by replacing the hydroxyl hydrogen with a metal.",SOURCE:"https://www.merriam-webster.com/dictionary/alkoxide"},ALKOXYGROUP:{DEFINITION:"An alkoxy group is a functional group in organic chemistry consisting of an alkyl group (a carbon chain) bonded to an oxygen atom, represented as R\u2013O.",SOURCE:"https://en.wikipedia.org/wiki/Alkoxy_group"},ALLOTROPE:{DEFINITION:"One of two or more distinct forms of the same chemical element in the same physical state, exhibiting different physical properties and structures.",SOURCE:"https://www.britannica.com/science/allotropy"},ALLOY:{DEFINITION:"A metallic substance composed of two or more elements, either as a compound or a solution.",SOURCE:"https://www.britannica.com/technology/alloy"},ALPHADECAY:{DEFINITION:"A type of radioactive decay in which an unstable atomic nucleus emits an alpha particle, consisting of two protons and two neutrons, resulting in a new element with a lower atomic number.",SOURCE:"https://www.britannica.com/science/alpha-decay"},ALUMINUM:{DEFINITION:"A lightweight, silvery white metal that is highly reactive chemically and the most abundant metallic element in Earth's crust.",SOURCE:"https://www.britannica.com/summary/aluminum"},ALUMINIUM:{DEFINITION:"A lightweight, silvery white metal that is highly reactive chemically and the most abundant metallic element in Earth's crust.",SOURCE:"https://www.britannica.com/summary/aluminum"},AMALGAM:{DEFINITION:"An alloy of mercury with another metal, often used in dental fillings.",SOURCE:"https://www.britannica.com/technology/amalgam"},AMERICIUM:{DEFINITION:"A synthetic radioactive metallic element with atomic number 95, produced by bombarding plutonium with high-energy neutrons.",SOURCE:"https://www.merriam-webster.com/dictionary/americium"},AMIDE:{DEFINITION:"An organic compound derived from ammonia or an amine by replacement of hydrogen with an acyl group.",SOURCE:"https://www.merriam-webster.com/dictionary/amide"},AMINE:{DEFINITION:"An organic compound derived from ammonia by replacement of one or more hydrogen atoms with hydrocarbon groups.",SOURCE:"https://www.merriam-webster.com/dictionary/amine"},AMINOACID:{DEFINITION:"An organic molecule consisting of a basic amino group (\u2212NH\u2082), an acidic carboxyl group (\u2212COOH), and a unique side chain, serving as the building blocks of proteins.",SOURCE:"https://www.britannica.com/science/amino-acid"},AMORPHOUS:{DEFINITION:"Lacking a definite form; having no specific shape; formless.",SOURCE:"https://www.merriam-webster.com/dictionary/amorphous"},AMPHIPROTIC:{DEFINITION:"A substance capable of acting as both an acid and a base by either donating or accepting a proton.",SOURCE:"https://www.britannica.com/science/amphoterism"},AMPHOTERIC:{DEFINITION:"Capable of reacting chemically either as an acid or as a base.",SOURCE:"https://www.merriam-webster.com/dictionary/amphoteric"},AMU:{DEFINITION:"A unit of mass for expressing masses of atoms, molecules, or nuclear particles equal to 1/12 the mass of a single atom of the most abundant carbon isotope ^12C.",SOURCE:"https://www.merriam-webster.com/dictionary/atomic%20mass%20unit"},ANION:{DEFINITION:"An ion with a negative charge.",SOURCE:"https://www.merriam-webster.com/dictionary/anion"},ANODE:{DEFINITION:"The electrode of an electrochemical cell at which oxidation occurs; in an electrolytic cell, it is the positive terminal, while in a galvanic cell, it is the negative terminal.",SOURCE:"https://www.merriam-webster.com/dictionary/anode"},ANTIMONY:{DEFINITION:"A lustrous, silvery, bluish-white metalloid that is very brittle and has a flaky texture, occurring chiefly as the gray sulfide mineral stibnite.",SOURCE:"https://www.britannica.com/science/antimony"},AQUEOUS:{DEFINITION:"Relating to, resembling, or dissolved in water; often used to describe a solution where water is the solvent.",SOURCE:"https://www.merriam-webster.com/dictionary/aqueous"},ARGON:{DEFINITION:"A colorless, odorless, inert gaseous element found in the air and used especially in welding, lasers, and electric bulbs.",SOURCE:"https://www.merriam-webster.com/dictionary/argon"},ARYL:{DEFINITION:"A functional group derived from an aromatic ring, such as phenyl or naphthyl, often represented as 'Ar' in chemical structures.",SOURCE:"https://www.britannica.com/science/aromatic-ring"},ASTATINE:{DEFINITION:"Astatine (At) is a highly unstable, rare, radioactive element that is the heaviest of the halogen elements. Its most stable isotope has a half-life of 8.3 hours.",SOURCE:"https://www.dictionary.com/browse/astatine"},ATP:{DEFINITION:"A phosphorylated nucleotide composed of adenosine and three phosphate groups that supplies energy for many biochemical cellular processes by undergoing enzymatic hydrolysis.",SOURCE:"https://www.merriam-webster.com/dictionary/ATP"},AUSTENITE:{DEFINITION:"A solid solution of carbon and other elements in gamma-phase iron (\u03b3-Fe), characterized by a face-centered cubic crystal structure, stable at high temperatures.",SOURCE:"https://www.britannica.com/technology/austenite"},AZEOTROPE:{DEFINITION:"A liquid mixture that maintains a constant boiling point and composition during distillation, as the vapor has the same composition as the liquid mixture.",SOURCE:"https://www.britannica.com/science/azeotrope"},BARIUM:{DEFINITION:"A soft, silvery-white metallic element of the alkaline earth metal group with atomic number 56, used in drilling fluids, vacuum tubes, and as a contrast agent in medical imaging.",SOURCE:"https://www.merriam-webster.com/dictionary/barium"},BAROMETER:{DEFINITION:"An instrument that measures atmospheric pressure, used especially in forecasting the weather and determining altitude.",SOURCE:"https://www.merriam-webster.com/dictionary/barometer"},BASE:{DEFINITION:"In chemistry, a base is any substance that in water solution is slippery to the touch, tastes bitter, changes the color of indicators (e.g., turns red litmus paper blue), reacts with acids to form salts, and promotes certain chemical reactions (base catalysis).",SOURCE:"https://www.britannica.com/science/base-chemical-compound"},BASEMETAL:{DEFINITION:"A common and inexpensive metal, such as lead, tin, or copper, that reacts easily with other chemicals and is not a precious metal.",SOURCE:"https://dictionary.cambridge.org/us/dictionary/english/base-metal"},BASIC:{DEFINITION:"Relating to, or having the properties of a base; in chemistry, a substance that in aqueous solution is slippery to the touch, tastes bitter, changes the color of indicators (e.g., turns red litmus paper blue), reacts with acids to form salts, and promotes certain chemical reactions (base catalysis).",SOURCE:"https://www.britannica.com/science/base-chemical-compound"},BASICSOLUTION:{DEFINITION:"A solution with a pH greater than 7, indicating the presence of more hydroxide ions (OH\u207b) than hydrogen ions (H\u207a); also known as an alkaline solution.",SOURCE:"https://www.britannica.com/science/acid-base-reaction"},BEERSLAW:{DEFINITION:"A principle in spectroscopy stating that the absorptive capacity of a dissolved substance is directly proportional to its concentration in a solution.",SOURCE:"https://www.britannica.com/science/Beers-law"},BERKELIUM:{DEFINITION:"A synthetic, radioactive metallic element with the symbol Bk and atomic number 97; it is part of the actinoid series and does not occur naturally.",SOURCE:"https://www.britannica.com/science/berkelium"},BERYLLIUM:{DEFINITION:"A steel-gray, light, strong but brittle alkaline earth metal with atomic number 4, used chiefly as a hardening agent in alloys.",SOURCE:"https://www.merriam-webster.com/dictionary/beryllium"},BETADECAY:{DEFINITION:"A type of radioactive decay in which an unstable atomic nucleus transforms into a more stable one by emitting a beta particle (an electron or positron) and a neutrino or antineutrino.",SOURCE:"https://www.britannica.com/science/beta-decay"},BETAPARTICLE:{DEFINITION:"A high-speed electron or positron emitted from the nucleus of a radioactive atom during beta decay.",SOURCE:"https://www.nrc.gov/reading-rm/basic-ref/glossary/beta-particle.html"},BINARY_ACID:{DEFINITION:"A binary acid is a molecular compound in which hydrogen is bonded to one other nonmetallic element, forming an acid that releases hydrogen ions (H\u207a) when dissolved in water.",SOURCE:"https://www.britannica.com/science/binary-acid"},BIOCHEMISTRY:{DEFINITION:"The study of the chemical substances and processes that occur in living organisms.",SOURCE:"https://www.britannica.com/science/biochemistry"},BISMUTH:{DEFINITION:"A brittle, silvery-white metallic element with a pinkish tinge, known for its low thermal conductivity and diamagnetic properties.",SOURCE:"https://www.britannica.com/science/bismuth"},BITUMEN:{DEFINITION:"A black, sticky substance derived from petroleum, often used in road construction, roofing, and waterproofing.",SOURCE:"https://www.britannica.com/science/bitumen"},BLACKLIGHT:{DEFINITION:"A type of ultraviolet light that is emitted from a lamp or light source, commonly used for detecting fluorescent materials or in certain types of lighting.",SOURCE:"https://www.merriam-webster.com/dictionary/black%20light#:~:text=Kids%20Definition-,black%20light,invisible%20ultraviolet%20or%20infrared%20light"},BOHRIUM:{DEFINITION:"A synthetic element produced in particle accelerators, studied for its properties in atomic research.",SOURCE:"https://www.vedantu.com/chemistry/bohrium"},BOILING:{DEFINITION:"The rapid vaporization of a liquid when it is heated to its boiling point, where the liquid turns to gas and forms bubbles.",SOURCE:"https://www.britannica.com/science/boiling"},BOND:{DEFINITION:"Force holding atoms together in molecules",SOURCE:"https://www.britannica.com/science/chemical-bond"},BOND_ANGLE:{DEFINITION:"The angle formed between two bonds that share a common atom, typically measured in degrees.",SOURCE:"https://www.britannica.com/science/bond-angle"},BOND_ENERGY:{DEFINITION:"The amount of energy required to break one mole of bonds in a molecule in its gaseous state.",SOURCE:"https://www.britannica.com/science/bond-energy"},BOYLES_LAW:{DEFINITION:"The pressure of a gas is inversely proportional to its volume at a constant temperature. FORMULA: P\u2081V\u2081 = P\u2082V\u2082.",SOURCE:"https://www.britannica.com/science/Boyles-law"},BRASS:{DEFINITION:"An alloy of copper and zinc, used for its strength, corrosion resistance, and acoustic properties.",SOURCE:"https://www.britannica.com/technology/brass"},BRONZE:{DEFINITION:"An alloy consisting primarily of copper, usually with tin as the main additive, known for its strength and resistance to corrosion.",SOURCE:"https://www.britannica.com/technology/bronze"},BROMINE:{DEFINITION:"A reddish-brown liquid halogen used in flame retardants, pharmaceuticals, and water treatment.",SOURCE:"https://www.vedantu.com/chemistry/bromine"},BUFFER:{DEFINITION:"A solution that resists changes in its pH when small amounts of an acid or base are added.",SOURCE:"https://www.britannica.com/science/buffer-solution"},FIRE:{DEFINITION:"Rapid burning of combustible material with the evolution of heat and usually accompanied by flame.",SOURCE:"https://www.britannica.com/science/fire-combustion"}};var Dd=n(150),Pd=(n(5160),n(1479)),Ud=n(3171),Fd=n(2635),Ld=n(827);n(6482);const Md=JSON.parse('{"K":[{"id":"map1","name":"Biology World","theme":"Biology","background":"Bio_World.gif","enemies":[{"id":"bio_t1","name":"Microbe","health":1,"attacks":[{"name":"Infection","damage":0.5}],"stats":{"weakness":"Soap","strength":"Dirty Places"},"image":"microbe.gif","dialog":"OH NO! THE MICROBES, Microbes are tiny living organisms, such as bacteria, viruses, fungi, and protozoa, that are too small to be seen with the naked eye. They exist everywhere, play essential roles in ecosystems, and can be beneficial (like in digestion) or harmful (causing diseases). "},{"id":"bio_t2","name":"Toxic Crawler","health":2,"attacks":[{"name":"Poison Spray","damage":0.7}],"stats":{"weakness":"Antidotes","strength":"Polluted Areas"},"image":"toxin.gif","dialog":"TOXIC CRAWLER! after we defeat MICROBES there is more dangerous Enemy, but did you know that Toxic refers to something harmful or poisonous to living organisms, potentially causing damage, illness, or death when absorbed, inhaled, or ingested. So stay out of it\'s Poison Spray."},{"id":"bio_boss","name":"Mutant DNA","health":5,"attacks":[{"name":"Gene Splice","damage":0.5}],"stats":{"weakness":"Electric Fields","strength":"Absorbing Traits"},"image":"mutant_dna.gif","dialog":"PHEW! we manage to survive againts that TOXIC CRAWLERS......!!!!!! OH NO! What happen to you? Mr.DNA? (Mutant DNA refers to DNA that has undergone a change or mutation in its sequence, altering its normal genetic information. This can occur naturally or be induced, potentially affecting how genes function and leading to variations, diseases, or adaptations.)"}],"next_map_id":"map2"},{"id":"map2","name":"Physics Realm","theme":"Physics","background":"physics_world.gif","backgroundSettings":{"scale":"fit","position":"center"},"enemies":[{"id":"phy_t1","name":"Quark","health":2,"attacks":[{"name":"Quantum Jitter","damage":0.8}],"stats":{"weakness":"Mathematical Terms","strength":"Common Words"},"image":"quark.gif"},{"id":"phy_t2","name":"Graviton","health":5,"attacks":[{"name":"Gravity Slam","damage":1.8}],"stats":{"weakness":"Philosophical Words","strength":"Scientific Terms"},"image":"graviton.gif"},{"id":"phy_boss","name":"Black Hole","health":12,"attacks":[{"name":"Event Horizon","damage":4}],"stats":{"weakness":"Simple Words","strength":"Complex Words"},"image":"black_hole.gif"}],"next_map_id":"map3"},{"id":"map3","name":"Chemistry Domain","theme":"Chemistry","background":"chemistry_world.gif","enemies":[{"id":"chem_t1","name":"Atom","health":3,"attacks":[{"name":"Electron Zap","damage":1}],"stats":{"weakness":"Chemical Names","strength":"Everyday Words"},"image":"atom.gif"},{"id":"chem_t2","name":"Molecule","health":6,"attacks":[{"name":"Bond Break","damage":2}],"stats":{"weakness":"Organic Chemistry Words","strength":"Non-Chemical Terms"},"image":"molecule.gif"},{"id":"chem_boss","name":"Reaction Master","health":15,"attacks":[{"name":"Catalyst Burst","damage":5}],"stats":{"weakness":"Physics Terms","strength":"Chemical Terms"},"image":"reaction_master.gif"}],"next_map_id":null}]}');var jd=n(2076),zd=n(1777),Vd=n(3445),Bd=n(8831),Hd=n(529);const Wd=t=>{var r;let{onMainMenu:i,profileData:s,setProfileData:a,onLogout:o,musicVolume:l,setMusicVolume:c,soundEffectsVolume:u,backgroundVolume:d,level:h,reload:m,bossFight:p,setBossFight:f,fightSoundPlaying:g,setFightSoundPlaying:v}=t;const[y,w]=(0,e.useState)(!1),[b,_]=(0,e.useState)([]),[I,E]=(0,e.useState)([]),[N,S]=(0,e.useState)(null),[x,C]=(0,e.useState)({text:"Definition shows here when you enter right",source:""}),[T,k]=(0,e.useState)([]),[O,R]=(0,e.useState)(!1),[A,D]=(0,e.useState)(!1),[P,U]=(0,e.useState)(!1),[F,L]=(0,e.useState)(4),[M,j]=(0,e.useState)(!1),[z,V]=(0,e.useState)(!1),[B,H]=(0,e.useState)(!1),[W,q]=(0,e.useState)(!1),[$,Y]=(0,e.useState)(!1),[G,K]=(0,e.useState)(""),[Q,X]=(0,e.useState)([]),[J,Z]=(0,e.useState)(0),[ee,te]=(0,e.useState)(!0),[ne,re]=(0,e.useState)(0),[ie,se]=(0,e.useState)(""),[ae,oe]=(0,e.useState)(2),[le,ce]=(0,e.useState)([]),[ue,de]=(0,e.useState)(null===s||void 0===s?void 0:s.selectedAvatar),[he,me]=(0,e.useState)(-1),[pe,fe]=(0,e.useState)("Bio_World.gif"),[ge,ve]=(0,e.useState)(!1),{showFunFact:ye,showFunFactWithDelay:we}=gd();(0,e.useEffect)((()=>{(async()=>{if(md.currentUser){const e=Va(ro(),`users/${md.currentUser.uid}/health`);try{(await Wa(e)).exists(),L(4)}catch(Ht){console.error("Error loading player health:",Ht),L(4)}}})()}),[]);const[be,_e]=(0,e.useState)([]);(0,e.useEffect)((()=>{const e=[];Md.K.forEach((t=>{t.enemies.forEach((t=>{e.push(t)}))})),_e(e),console.log("Enemy progression loaded:",e.map((e=>e.id)))}),[]);(0,e.useEffect)((()=>{if(md.currentUser){const e=Ga(Va(ro(),`users/${md.currentUser.uid}/profile`),(e=>{if(e.exists()){const t=e.val();t.selectedAvatar&&de(t.selectedAvatar)}}));return()=>e()}}),[]);const[Ie,Ee]=(0,e.useState)(null===h||void 0===h?void 0:h.enemy),[Ne,Se]=(0,e.useState)((null===h||void 0===h||null===(r=h.enemy)||void 0===r?void 0:r.health)||0),xe=b.length>0&&Ad[b.join("").toUpperCase()],[Ce,Te]=(0,e.useState)(!1),[ke,Oe]=(0,e.useState)(!1),[Re,Ae]=(0,e.useState)(!1),[De,Pe]=(0,e.useState)({poison:0,bleed:0,exhaust:0,burn:0,blind:0}),[Ue,Fe]=(0,e.useState)(Array(20).fill(null));(0,e.useEffect)((()=>{console.log("Current word count:",b.length)}),[b]),(0,e.useEffect)((()=>{if(xe){const e=b.join("").toUpperCase(),t=Ad[e];C({text:t.definition,source:t.source})}}),[b,xe]);const Le={poison:"text-green-500 bg-green-100 shadow-[0_0_10px_#22c55e]",bleed:"text-red-500 bg-red-100 shadow-[0_0_10px_#ef4444]",exhaust:"text-yellow-500 bg-yellow-100 shadow-[0_0_10px_#eab308]",burn:"text-orange-500 bg-orange-100 shadow-[0_0_10px_#f97316]",blind:"text-gray-100 bg-gray-900 shadow-[0_0_10px_#111827]"},Me=()=>{const e=new Audio(vd);e.volume=u/100,e.play()},je=()=>{const e=new Audio(jd);e.volume=u/100,e.play()},ze=()=>{const e=new Audio(zd);e.volume=u/100,e.play()},Ve=()=>{const e=new Audio(Bd);e.volume=u/100,e.play()};(0,e.useEffect)((()=>{if(null!==h&&void 0!==h&&h.enemy){Ee(h.enemy),Se(h.enemy.health);const e=h.enemy.id.includes("_boss");if(f(e),e||v(!0),1===h.levelNumber)te(!0),re(0),Y(!0);else{const e=[`Ah, a new challenger approaches! I am ${h.enemy.name}, master of ${h.enemy.stats.strength}!`,h.enemy.dialog,"Prepare yourself for a battle of scientific wit!"];X(e),Z(0),Y(!0)}oe(3),ce([]),se(""),_([]),k([]),E(ct()),Te(!1)}}),[h]),(0,e.useEffect)((()=>{Ie&&(K(Ie.dialog),Y(!0))}),[Ie]),(0,e.useEffect)((()=>{const e=setInterval((()=>{Pe((e=>{const t={...e};return t.poison>0&&(Se((e=>Math.max(0,e-.5))),t.poison--),t.burn>0&&(Se((e=>Math.max(0,e-.1))),t.burn--),t.exhaust>0&&t.exhaust--,t.blind>0&&t.blind--,t}))}),1e3);return()=>clearInterval(e)}),[]),(0,e.useEffect)((()=>{if(!z){const e=setInterval((()=>{H(!0),setTimeout((()=>{H(!1)}),2e3)}),1e4);return()=>clearInterval(e)}}),[z]);const Be=async e=>{if(console.log("Game over with victory:",e),e){if(je(),console.log("Victory! Updating user progress for enemy:",null===Ie||void 0===Ie?void 0:Ie.id),md.currentUser?(await et(Ie),L((e=>{const t=Math.min(e+1,4);return Ha(Va(ro(),`users/${md.currentUser.uid}/health`),t),t}))):console.log("No user logged in, skipping progress update"),oe(3),ce([]),se(""),0===be.length||rt>=be.length-1){if(console.log("Game fully cleared! Stopping Timer."),md.currentUser){const e=Va(ro(),`gameBeatScores/${md.currentUser.uid}`);await Ha(e,{username:(null===s||void 0===s?void 0:s.username)||"Anonymous",timestamp:Date.now()})}ve(!0)}else console.log("Enemy defeated! Moving to the next one..."),it((e=>e+1));Oe(!0)}else ze(),Ae(!0),oe(2),ce([]),se("")};(0,e.useEffect)((()=>{Ne<=0&&Ie&&(console.log("Enemy hearts reached zero, triggering defeat:",Ie.id),Be(!0))}),[Ne,Ie]),(0,e.useEffect)((()=>{Ie&&Se(Ie.health)}),[Ie]);const He=(e,t)=>{if(e){_([...b,e]);const n=[...I];n[t]="",E(n),k([...T,t])}},We=(e,t)=>{const n=[...b];n.splice(t,1),_(n);const r=T[t];if(void 0!==r){const n=[...I];n[r]=e,E(n);const i=[...T];i.splice(t,1),k(i)}Te(!1)},qe=()=>{if(ae<=0)return void se("No hints remaining for this level!");const e=I.join(""),t=Object.keys(Ad).filter((t=>t.split("").every((n=>e.split("").filter((e=>e===n)).length>=t.split("").filter((e=>e===n)).length))));if(t.length>0){const e=t.sort(((e,t)=>e.length-t.length))[0],n=[],r=e.split(""),i=[...I];r.forEach((e=>{const t=i.findIndex((t=>t===e));-1!==t&&(n.push(t),i[t]="")})),ce(n),oe((e=>e-1)),se("Hints remaining: "+(ae-1)),(()=>{const e=new Audio(Vd);e.volume=u/100,e.play()})(),setTimeout((()=>{ce([])}),3e3)}else se("No possible words found. Try scrambling!")},$e=()=>{y||(De.blind>0&&Math.random()<.75?C((e=>`${e.text}\n\nEnemy attack missed due to blind effect!`)):(w(!0),Me(),setTimeout((()=>{let e=1;De.exhaust>0&&(e*=.5),L((t=>{const n=Math.max(0,t-e);return 0===n&&(ze(),Ae(!0)),n})),w(!1)}),500)))},Ye=()=>{V(!0),Me(),setTimeout((()=>{V(!1)}),500);const e=b.join("").toUpperCase();if(Ad[e]){let t=.2*e.length,n=!1;b.forEach(((e,r)=>{const i=T[r],s=Ue[i];if(s){n=!0,Pe((e=>{const n={...e};switch(s){case"poison":n.poison+=3;break;case"bleed":n.bleed+=1,t*=1+.2*n.bleed;break;case"exhaust":n.exhaust+=2;break;case"burn":n.burn+=5;break;case"blind":n.blind+=2}return n}));const e=[...Ue];e[i]=null,Fe(e)}}));const r=Math.max(0,Ne-Math.ceil(t));Se(r);let i=`You dealt ${Math.ceil(t)} damage with "${e}"!`;n&&(i+=" Status effect applied!"),C({text:`${e} Definition: ${Ad[e].DEFINITION}`,source:Ad[e].SOURCE}),r<=0?console.log("Enemy defeated! Hearts:",r):console.log("Enemy damaged but not defeated. Hearts remaining:",r)}else C({text:`"${e}" is not a valid science term. Please try again or form a valid word.`,source:""});_([]);const t=[...I];T.forEach((e=>{t[e]=""}));const n=ct(t,Ue);E(n),k([])},Ge=()=>{ee?ne<Ke.length-1?re((e=>e+1)):(te(!1),Y(!0),Z(0)):J<Q.length-1?Z((e=>e+1)):(Y(!1),Z(0))};(0,e.useEffect)((()=>{if(document.querySelectorAll(".tutorial-highlight").forEach((e=>{e.classList.remove("tutorial-highlight")})),ee&&Ke[ne].highlight){const e=Ke[ne].highlight,t=document.querySelector(`.${e}`)||document.getElementById(e);t&&t.classList.add("tutorial-highlight")}}),[ne,ee]);const Ke=[{message:"Welcome to Science Quest! I'm Professor Nova, and I'll be your guide in this adventure of scientific discovery!",highlight:null},{message:"Your mission is to defeat enemies by forming scientific words(BIOLOGY, CHEMISTRY, PHYSICS). The longer and more complex the word, the more damage you'll deal!",highlight:"word-box"},{message:"Click/Type on letters to form words. Each correct scientific term will launch an attack!",highlight:"letter-grid"},{message:"Some letters have special effects! Hover over them to see what they do.",highlight:null},{message:"Use HINTS when you're stuck, but use them wisely - you only have 3 per level!",highlight:"hint-box "},{message:"If you can't find any words, use SCRAMBLE to get new letters.",highlight:"scramble-button"},{message:"Ready to begin your scientific journey? Let's go!",highlight:null}],Qe=()=>R(!O),Xe=(0,e.useCallback)((e=>{!O||e.target.closest(".slidebar")||e.target.closest(".slidebar-icon")||R(!1)}),[O]);(0,e.useEffect)((()=>(document.addEventListener("click",Xe),()=>{document.removeEventListener("click",Xe)})),[Xe]);const Je=async()=>{if(Ae(!1),md.currentUser){const e=Va(ro(),`users/${md.currentUser.uid}/health`);await Ha(e,4),L(4),Se(Ie.health)}else L(4),Se(Ie.health)};(0,e.useEffect)((()=>{if(null!==h&&void 0!==h&&h.enemy){if(Ee(h.enemy),Se(h.enemy.health),1===h.levelNumber)Je(),te(!1),re(0),Y(!1);else{const e=[`Ah, a new challenger approaches! I am ${h.enemy.name}, master of ${h.enemy.stats.strength}!`,h.enemy.dialog,"Prepare yourself for a battle of scientific wit!"];X(e),Z(0),Y(!0)}oe(3),ce([]),se(""),_([]),k([]),E(ct()),Te(!1)}}),[h]);const Ze={poison:"Poison: Deals damage over time for 3 turns",bleed:"Bleed: Increases damage taken by 20% per stack",exhaust:"Exhaust: Reduces damage dealt by 50% for 2 turns",burn:"Burn: Deals fire damage for 5 seconds",blind:"Blind: 75% chance to miss attacks for 2 turns"};(0,e.useEffect)((()=>{(async()=>{if(!md.currentUser)return;const e=Va(ro(),`users/${md.currentUser.uid}`);try{const r=await Wa(e);if(r.exists()){const e=r.val();S(e),e.currentMap&&nt(e.currentMap),void 0!==e.currentEnemyIndex&&it(e.currentEnemyIndex)}else{var t,n;const r={unlockedMaps:["map1"],defeatedEnemies:[],unlockedEnemies:[(null===(t=Md.K[0])||void 0===t||null===(n=t.enemies[0])||void 0===n?void 0:n.id)||"bio_t1"],currentMap:"map1",currentEnemyIndex:0,experience:0,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()};try{await Ha(e,r),S(r)}catch(Ht){console.error("Error creating user data:",Ht),S(r)}}}catch(Ht){var r,i;console.error("Firebase permission error:",Ht);const t=(null===(r=Md.K[0])||void 0===r||null===(i=r.enemies[0])||void 0===i?void 0:i.id)||"bio_t1";S({unlockedMaps:["map1"],defeatedEnemies:[],unlockedEnemies:[t],currentMap:"map1",currentEnemyIndex:0,experience:0})}})()}),[]);const et=async e=>{if(!md.currentUser)return void console.log("No user logged in, can't update progress");console.log("Updating user progress for defeated enemy:",e);const t=e.name.toLowerCase().replace(" ","_"),n=Va(ro(),`users/${md.currentUser.uid}`);try{const r=await Wa(n);if(r.exists()){const i=r.val();console.log("Current user data:",i),i.unlockedEnemies||(i.unlockedEnemies=["microbe"]),i.unlockedWorlds||(i.unlockedWorlds=["map1"]),i.defeatedEnemies||(i.defeatedEnemies=[]),i.defeatedEnemies.includes(t)||i.defeatedEnemies.push(t);const s=[];for(const e of Md.K)for(const t of e.enemies)s.push({id:t.id,name:t.name.toLowerCase().replace(" ","_"),mapId:e.id});console.log("All enemies in progression:",s);const a=be.findIndex((e=>e.id===(null===Ie||void 0===Ie?void 0:Ie.id)));if(console.log("Current enemy index in progression:",a),-1!==a&&a<s.length-1){const t=s[a+1];console.log("Next enemy to unlock:",t),i.unlockedEnemies.includes(t.name)||(i.unlockedEnemies.push(t.name),console.log(`Added ${t.name} to unlocked enemies`)),e.mapId!==t.mapId&&(i.unlockedWorlds.includes(t.mapId)||(i.unlockedWorlds.push(t.mapId),console.log(`Unlocked new world: ${t.mapId}`)))}else console.log("No next enemy found or current enemy is the last one");i.lastUpdated=(new Date).toISOString(),console.log("Updating Firebase with new user data:",i),await Ha(n,i);const o=await Wa(n);o.exists()&&console.log("Verified updated user data:",o.val())}}catch(Ht){console.error("Error updating user progress:",Ht)}},[tt,nt]=(0,e.useState)("map"),[rt,it]=(0,e.useState)(0),st=()=>{console.log("Resetting game state for new enemy");const e=ct(I,Ue);if(_([]),k([]),E(e),Pe({poison:0,bleed:0,exhaust:0,burn:0,blind:0}),Ie){Se(Ie.health||3);const e=Ie.dialog||`${Ie.name} appears!`;X([e]),Z(0),K(e),Y(!0)}},at=e=>{if(!e)return"Bio_World.gif";const t=Md.K.find((t=>t.enemies.some((t=>t.id===e.id))));return(null===t||void 0===t?void 0:t.background)||"Bio_World.gif"};(0,e.useEffect)((()=>{if(Ie){const e=at(Ie);fe(e)}}),[Ie]),(0,e.useEffect)((()=>{if(null!==h&&void 0!==h&&h.enemy){const e=at(h.enemy);fe(e)}}),[h]);const ot=new Set,lt=500;function ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=Object.keys(Ad).sort(((e,t)=>t.length-e.length));let n=t.filter((e=>!ot.has(e)));if(0===n.length){const e=Array.from(ot);ot.clear(),e.slice(0,Math.floor(lt/2)).forEach((e=>ot.add(e))),n=t}let r=n.find((e=>e.length>=5))||n[Math.floor(Math.random()*n.length)];ot.add(r);const i=Array.from(new Set(r.split(""))),s=[...e];let a=[];for(let c=0;c<20;c++)s[c]||a.push(c);for(let c=a.length-1;c>0;c--){const e=Math.floor(Math.random()*(c+1));[a[c],a[e]]=[a[e],a[c]]}for(let c=0;c<i.length&&c<a.length;c++)s[a[c]]=i[c];const o="AEIOU",l="BCDFGHJKLMNPQRSTVWXYZ";for(let c=i.length;c<a.length;c++)s[a[c]]=Math.random()<.4?o.charAt(Math.floor(5*Math.random())):l.charAt(Math.floor(21*Math.random()));return s}const ut=(0,e.useCallback)((e=>{if("Escape"===e.key)return void R((e=>!e));if(O||A||P||$||ee)return;const t=e.key.toUpperCase();if(/^[A-Z]$/.test(t)){const e=I.findIndex(((e,n)=>e===t&&!T.includes(n)));-1!==e&&He(t,e)}else if("Backspace"===e.key&&b.length>0)if(he>=0)We(b[he],he),me(Math.min(he,b.length-2));else{const e=b.length-1;We(b[e],e)}else"Enter"===e.key&&xe?Ye():"Shift"===e.key?qe():"Control"!==e.key||e.repeat?"ArrowLeft"===e.key?me((e=>e<=0?b.length-1:e-1)):"ArrowRight"===e.key&&me((e=>e>=b.length-1?0:e+1)):(()=>{if(window.controlCooldownActive)return;window.controlCooldownActive=!0,setTimeout((()=>{window.controlCooldownActive=!1}),1e3);const e=ct();$e(),_([]),k([]),E(e),Te(!1),ce([]),Ve()})()}),[O,A,P,$,ee,I,T,b,xe,he]);(0,e.useEffect)((()=>(window.addEventListener("keydown",ut),()=>{window.removeEventListener("keydown",ut)})),[ut]);return(0,Du.jsxs)("div",{className:"game-container relative min-h-screen w-full flex flex-col items-center justify-between p-1 sm:p-1 md:p-1 lg:p-1",style:{backgroundImage:`url(${n(290)("./"+pe)})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#000",userSelect:"none"},children:[(0,Du.jsx)("style",{children:"\n        @keyframes shoot {\n            0% {\n                transform: translateX(0) translateY(-50%);\n                opacity: 0.7;\n            }\n            50% {\n                transform: translateX(calc(25vw)) translateY(-50%);\n                opacity: 1;\n            }\n            100% {\n                transform: translateX(calc(50vw)) translateY(-50%);\n                opacity: 0;\n            }\n        }\n        @keyframes enemyShoot {\n            0% {\n                transform: translateX(-10vw) translateY(-50%) rotate(180deg);\n                opacity: 0.7;\n            }\n            50% {\n                transform: translateX(calc(20vw)) translateY(-50%) rotate(180deg);\n                opacity: 1;\n            }\n            100% {\n                transform: translateX(calc(50vw)) translateY(-50%) rotate(180deg);\n                opacity: 0;\n            }\n        }\n        "}),(0,Du.jsxs)("div",{className:"w-full flex flex-wrap justify-between items-center mb-2 sm:mb-4",children:[(0,Du.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 w-full sm:w-auto",children:[(0,Du.jsx)("div",{className:"transition-all  duration-300 hover:scale-110  hover:rotate-90 focus:outline-none focus:ring-4 focus:ring slidebar-icon  text-xl sm:text-2xl cursor-pointer",onClick:Qe,children:(0,Du.jsx)(ju,{toggled:O,toggle:Qe})}),(0,Du.jsxs)("div",{className:"player-info flex items-center bg-white/70 p-1 sm:p-2 border border-indigo-200 rounded-lg shadow-inner",children:[(0,Du.jsx)("img",{src:ue,alt:"Player Avatar",className:"w-8 h-8  sm:w-10 sm:h-10  rounded-full object-cover  mr-2 ring-2 ring-indigo-300"}),(0,Du.jsx)("div",{className:"hearts flex items-center",children:[...Array(F)].map(((e,t)=>(0,Du.jsx)("img",{src:Dd,alt:"Heart",className:"w-4 h-4 sm:w-6 sm:h-6 ml-1"},t)))})]})]}),(0,Du.jsx)("div",{className:"player-info flex items-center mt-2 sm:mt-0",children:(0,Du.jsx)("div",{className:"hearts flex items-center",children:[...Array(Ne)].map(((e,t)=>(0,Du.jsx)("img",{src:Dd,alt:"Heart",className:"w-8 h-8 sm:w-12 sm:h-12 ml-2 sm:ml-6"},t)))})})]}),(0,Du.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between w-full max-w-7xl gap-2 sm:gap-4 mb-2 sm:mb-4",children:[(0,Du.jsx)("div",{className:"  character-container  relative  w-full  md:w-1/3  flex  justify-center  items-center",children:(0,Du.jsx)("div",{className:`character \n                                    character-responsive\n                                    bg-contain \n                                    bg-center \n                                    bg-no-repeat \n                                    transition-all \n                                    duration-300 \n                                    ${z?"transform scale-110 translate-x-24 md:translate-x-32 lg:translate-x-40":""}\n                                    ${B?"transform scale-105":""}`,style:{backgroundImage:`url(${z?Fd:B?Ld:Ud})`}})}),(0,Du.jsx)("div",{className:"word-box  flex  flex-wrap  justify-center  gap-1  md:gap-1.5  w-full  md:w-1/3",children:b.map(((e,t)=>{const n=Ue[T[t]];return(0,Du.jsxs)("div",{className:` \n                    relative \n                    w-7 h-7 \n                    sm:w-8 sm:h-8 \n                    md:w-10 md:h-10 \n                    border-2 \n                    flex \n                    items-center \n                    justify-center \n                    text-sm \n                    sm:text-base \n                    md:text-lg \n                    font-bold \n                    rounded-lg \n                    cursor-pointer \n                    transition-all \n                    duration-200\n                    touch-target\n                    ${t===he?"border-teal-500 bg-blue-100 scale-105":"border-gray-700"}\n                    ${le.includes(t)?"bg-green-300 scale-105 shadow-md":"bg-blue-50 hover:bg-blue-100"}\n                    ${n?Le[n]:""}\n                `,onClick:()=>We(e,t),children:[e,n&&(0,Du.jsx)("div",{className:"absolute opacity-0 hover:opacity-100 bg-gray-800 text-white text-xs rounded py-1 px-2 w-32 -top-8 left-1/2 transform -translate-x-1/2 pointer-events-none transition-opacity duration-200 z-10",children:Ze[n]})]},t)}))}),(0,Du.jsx)("div",{className:"enemy-container relative w-full md:w-1/3 flex justify-center items-center",children:(0,Du.jsx)("div",{className:"enemy w-40 h-40 md:w-72 md:h-72 lg:w-96 lg:h-96 bg-contain bg-center bg-no-repeat",style:{backgroundImage:null!==Ie&&void 0!==Ie&&Ie.image?`url(${n(290)(`./${Ie.image}`)})`:"none",transform:"scaleX(-1)"},children:y&&(0,Du.jsx)("img",{src:Pd,alt:"enemy-laser",className:"absolute top-1/2 right-full transform -translate-y-1/2",style:{animation:"enemyShoot 1s linear forwards",height:"8rem",width:"auto"}})})})]}),(0,Du.jsxs)("div",{className:"game-content  w-full  max-w-6xl  grid  grid-cols-1  md:grid-cols-3  gap-3  sm:gap-2 p-3  sm:p-2 rounded-xl  bg-opacity-90  mb-3  sm:mb-2 ",children:[(0,Du.jsxs)("div",{className:"description-box  bg-gradient-to-b  from-blue-100  to-blue-200  border-2  border-gray-700  p-2  md:p-4  mt-5 rounded-xl  mb-4 md:mb-3  h-40  md:h-48  overflow-y-auto  shadow-md",children:[(0,Du.jsx)("div",{className:"text-gray-800 leading-relaxed text-sm md:text-base",children:x.text||"Discover a scientific term to reveal its definition."}),x.source&&(0,Du.jsxs)("a",{href:x.source,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-700 hover:text-blue-900 font-medium text-xs md:text-sm mt-2 group",children:["Learn more ",(0,Du.jsx)("span",{className:"ml-1 group-hover:ml-2 transition-all duration-300",children:"\u2192"})]})]}),(0,Du.jsx)("div",{className:"letter-grid grid grid-cols-4 gap-1 md:gap-1.5 bg-blue-50 border-2 border-gray-700 p-2 rounded-lg place-items-center",children:I.map(((e,t)=>(0,Du.jsxs)("div",{className:`relative grid-letter w-8 h-8 md:w-10 md:h-10 border-2 border-gray-700 flex items-center justify-center text-base md:text-lg font-bold cursor-pointer transition-all duration-300 rounded-lg\n                                ${le.includes(t)?"bg-green-300 scale-105":"hover:bg-blue-100"}\n                                ${Ue[t]?Le[Ue[t]]:"bg-blue-50"}`,onClick:()=>He(e,t),children:[e,Ue[t]&&(0,Du.jsx)("div",{className:"absolute opacity-0 hover:opacity-100 bg-gray-800 text-white text-xs rounded py-1 px-2 w-32 -top-8 left-1/2 transform -translate-x-1/2 pointer-events-none transition-opacity duration-200 z-10",children:Ze[Ue[t]]})]},t)))}),(0,Du.jsx)("div",{className:"flex flex-col space-y-1.5",children:(0,Du.jsxs)("div",{className:"action-buttons mt-2 md:mt-8 flex flex-col space-y-1 md:space-y-2",children:[(0,Du.jsx)("button",{className:"\n                bg-gradient-to-r \n                from-teal-500 to-teal-600 text-white \n                border-2 border-gray-700 py-1.5 md:py-2 text-center\n                font-bold text-sm md:text-base rounded-lg transition-all\n                "+(xe?"hover:from-teal-600 hover:to-teal-700 hover:shadow-lg transform hover:-translate-y-0.5":"opacity-50 cursor-not-allowed"),onClick:Ye,disabled:!xe,children:"ANALYZE"}),(0,Du.jsx)("div",{className:"hint-box bg-blue-50 border-2 border-gray-700 py-1.5 md:py-2 px-2 md:px-3 text-center rounded-lg shadow-inner",children:(0,Du.jsx)("p",{className:"text-xs md:text-sm truncate font-medium",children:ie||`Lab assistance: ${ae}`})}),(0,Du.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Du.jsx)("button",{className:"bg-gradient-to-r from-indigo-500 \n                to-indigo-600 text-white border-2 border-gray-700 py-1.5 md:py-2 text-xs md:text-sm font-bold \n                rounded-lg transition-all "+(ae>0?"hover:from-indigo-600 hover:to-indigo-700 hover:shadow-md transform hover:-translate-y-0.5":"opacity-50 cursor-not-allowed"),onClick:qe,disabled:ae<=0,children:"HINT"}),(0,Du.jsx)("button",{className:"scramble-button bg-blue-50 text-gray-800 border-2 border-gray-700 py-1.5 md:py-2 text-xs md:text-sm font-bold rounded-lg transition-all "+(W?"opacity-50 cursor-not-allowed":"hover:bg-blue-100 hover:shadow-md transform hover:-translate-y-0.5"),onClick:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(W&&!e)return void C({text:"Recombine is on cooldown! Wait a moment.",source:""});e||(q(!0),setTimeout((()=>{q(!1)}),1e3)),$e();const t=ct();_([]),k([]),E(t),Te(!1),ce([]),Ve()},disabled:W,children:"RECOMBINE"})]})]})})]}),A&&(0,Du.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:(0,Du.jsxs)("div",{className:"bg-[#f4d9a3] border-4 border-black p-6 rounded-lg text-center max-w-md w-full relative",children:[(0,Du.jsx)("button",{onClick:()=>D(!1),className:"absolute top-2 right-2 text-2xl hover:text-gray-700",children:"\xd7"}),(0,Du.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Game Settings"}),(0,Du.jsx)(wd,{onClose:()=>D(!1),onSave:(e,t,n)=>{c(e),console.log("Settings saved with volumes:",e,t,n)},onReset:()=>{c(50)},musicVolume:l,soundEffectsVolume:u,backgroundVolume:d})]})}),P&&(0,Du.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:(0,Du.jsxs)("div",{className:"bg-[#f4d9a3] border-4 border-black p-6 rounded-lg text-center max-w-md w-full relative",children:[(0,Du.jsx)("button",{onClick:()=>U(!1),className:"absolute top-2 right-2 text-2xl hover:text-gray-700",children:"\xd7"}),(0,Du.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Profile"}),(0,Du.jsx)(Td,{onClose:()=>U(!1),profileData:s,setProfileData:a})]})}),ge&&(0,Du.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",children:(0,Du.jsxs)("div",{className:"bg-gray-900 p-8 text-center text-white border-4 border-gray-700",children:[(0,Du.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"\ud83c\udfc6 Game Completed! \ud83c\udfc6"}),(0,Du.jsx)("p",{className:"text-lg mb-4",children:"You completed the game"}),(0,Du.jsx)("button",{onClick:i,className:"bg-green-500 px-6 py-3 rounded-lg text-lg font-bold hover:bg-green-600",children:"Return to Main Menu"})]})}),ke&&(0,Du.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Du.jsxs)("div",{className:"bg-[#f4d9a3] border-4 border-black p-6 rounded-lg text-center max-w-sm w-full",children:[(0,Du.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Victory!"}),(0,Du.jsxs)("p",{className:"text-xl mb-6",children:["You defeated ",null===Ie||void 0===Ie?void 0:Ie.name,"!"]}),(0,Du.jsxs)("div",{className:"space-y-3",children:[(0,Du.jsx)("button",{className:"w-full bg-green-500 text-white px-6 py-3 rounded-lg text-lg font-bold hover:bg-green-600 transition-colors",onClick:()=>{console.log("handleNextLevel called"),Oe(!1);const e=be.findIndex((e=>e.id===(null===Ie||void 0===Ie?void 0:Ie.id)));if(console.log("Current enemy index:",e),-1!==e&&e<be.length-1){const t=be[e+1];console.log("Moving to next enemy:",t.id);const n=Ie.mapId,r=t.mapId;n!==r?(console.log("Map transition needed from",n,"to",r),console.log("Forcing reload of user progress before returning to main menu"),m(),setTimeout((()=>{i()}),500)):(console.log("Staying on same map, changing enemy"),Ee(t),st())}else console.log("No more enemies, returning to main menu"),m(),setTimeout((()=>{i()}),500)},children:"Next Level"}),(0,Du.jsx)("button",{className:"w-full bg-blue-500 text-white px-6 py-3 rounded-lg text-lg font-bold hover:bg-blue-600 transition-colors",onClick:()=>{Oe(!1),i()},children:"Back to Main Menu"})]})]})}),Re&&(0,Du.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Du.jsxs)("div",{className:"bg-[#f4d9a3] border-4 border-black p-6 rounded-lg text-center max-w-sm w-full",children:[(0,Du.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Defeat!"}),(0,Du.jsx)("p",{className:"text-xl mb-6",children:"You have been defeated!"}),(0,Du.jsxs)("div",{className:"space-y-3",children:[(0,Du.jsx)("button",{className:"w-full bg-green-500 text-white px-6 py-3 rounded-lg text-lg font-bold hover:bg-green-600 transition-colors",onClick:()=>{Je(),Se(Ie.health),oe(3),ce([]),se(""),Ae(!1)},children:"Try Again"}),(0,Du.jsx)("button",{className:"w-full bg-blue-500 text-white px-6 py-3 rounded-lg text-lg font-bold hover:bg-blue-600 transition-colors",onClick:()=>{Ae(!1),i()},children:"Back to Main Menu"})]})]})}),$&&(0,Du.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Du.jsx)("div",{className:"bg-[#f4d9a3] border-4 border-black p-6 rounded-lg text-center max-w-md w-full",children:ee?(0,Du.jsxs)(Du.Fragment,{children:[(0,Du.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Tutorial"}),(0,Du.jsx)("p",{className:"text-lg mb-4",children:Ke[ne].message}),ne<Ke.length-1?(0,Du.jsx)("button",{className:"bg-blue-500 text-white px-6 py-2 rounded-lg text-lg font-bold hover:bg-blue-600 transition-colors",onClick:Ge,children:"Next"}):(0,Du.jsx)("button",{className:"bg-green-500 text-white px-6 py-2 rounded-lg text-lg font-bold hover:bg-green-600 transition-colors",onClick:Ge,children:"Start Game"})]}):(0,Du.jsxs)(Du.Fragment,{children:[(null===Ie||void 0===Ie?void 0:Ie.image)&&(0,Du.jsx)("img",{src:n(290)(`./${Ie.image}`),alt:Ie.name,className:"w-32 h-32 object-contain mx-auto mb-4"}),(0,Du.jsx)("p",{className:"text-lg mb-4",children:Q[J]}),(0,Du.jsx)("button",{className:"bg-blue-500 text-white px-6 py-2 rounded-lg text-lg font-bold hover:bg-blue-600 transition-colors",onClick:Ge,children:J<Q.length-1?"Next":"Begin Battle"})]})})}),ye&&(0,Du.jsx)(fd,{}),(0,Du.jsx)(Rd,{isOpen:O,toggleSlidebar:Qe,onMainMenu:()=>{f(!1),v(!1),i()},setSettingsOpen:D,setProfileOpen:U,onLogout:o})]})},qd=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},$d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Yd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gd=(0,e.forwardRef)(((t,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...u}=t;return(0,e.createElement)("svg",{ref:n,...Yd,width:i,height:i,stroke:r,strokeWidth:a?24*Number(s)/Number(i):s,className:$d("lucide",o),...u},[...c.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...Array.isArray(l)?l:[l]])})),Kd=(t,n)=>{const r=(0,e.forwardRef)(((r,i)=>{let{className:s,...a}=r;return(0,e.createElement)(Gd,{ref:i,iconNode:n,className:$d(`lucide-${o=qd(t),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,s),...a});var o}));return r.displayName=qd(t),r},Qd=Kd("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Xd=Kd("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var Jd=n(586),Zd=n(7855),eh=n(8918),th=n(5118),nh=n(8445),rh=n(8216),ih=n(183),sh=n(1305),ah=n(449),oh=n(2724),lh=n(9423),ch=n(1711);n(1807),n(4184);const uh={"Bio_World.gif":Jd,"physics_world.gif":Zd,"chemistry_world.gif":eh,"microbe.gif":th,"toxin.gif":nh,"mutant_dna.gif":rh,"quark.gif":ih,"graviton.gif":sh,"black_hole.gif":ah,"atom.gif":oh,"molecule.gif":lh,"reaction_master.gif":ch},dh=e=>uh[e]||"",hh=t=>{let{onLevelSelect:n,setTimerRunning:r,onMainMenu:i,maps:s,startingMapIndex:a}=t;const[o,l]=(0,e.useState)(a||0),[c,u]=(0,e.useState)(Md.K[o||0]),[d,h]=(0,e.useState)(null),[m,p]=(0,e.useState)([]),[f,g]=(0,e.useState)(-1),[v,y]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=[];Md.K.forEach((t=>{t.enemies.forEach((t=>{e.push(t.id)}))})),p(e),console.log("Enemy progression loaded:",e)}),[]),(0,e.useEffect)((()=>{const e=md.currentUser;if(e){console.log("Setting up Firebase realtime listener for user:",e.uid);const t=Ga(Va(ro(),`users/${e.uid}`),(e=>{if(e.exists()){const t=e.val();console.log("Received real-time update from Firebase:",t),h(t)}else console.log("No user data exists in Firebase")}),(e=>{console.error("Firebase realtime listener error:",e)}));return()=>{console.log("Unsubscribing from Firebase realtime listener"),t()}}console.log("No user logged in, can't set up Firebase listener")}),[]),(0,e.useEffect)((()=>{const e=md.currentUser;if(e){Ga(Va(ro(),`users/${e.uid}`),(e=>{if(e.exists()){const t=e.val();console.log("Reloaded user progress:",t),h(t)}else console.log("No user data exists in Firebase")}))}}),[]);const w=e=>{const t=`map${e+1}`;return null!==d&&void 0!==d&&d.unlockedWorlds?!d.unlockedWorlds.includes(t):0!==e},b=e=>{if(console.log("Checking if enemy is locked:",e),console.log("User progress:",d),0===o&&"microbe"===e.toLowerCase())return console.log("First enemy in first map is always unlocked"),!1;if(!d||!d.unlockedEnemies)return console.log("No user progress or unlockedEnemies found, enemy is locked"),!0;const t=e.toLowerCase().replace(" ","_"),n=d.unlockedEnemies.includes(t);return console.log(`Enemy ${t} is ${n?"unlocked":"locked"}`),console.log("Unlocked enemies:",d.unlockedEnemies),!n},_=e=>{w(e)||v||e===o||(y(!0),l(e),u(Md.K[e]),g(-1),setTimeout((()=>{y(!1)}),500))},I=()=>{o>0&&!v&&!w(o-1)&&_(o-1)},E=()=>{o<Md.K.length-1&&!v&&!w(o+1)&&_(o+1)},N=e=>{if(console.log("Enemy selected:",e.name),b(e.name))return void console.log("Enemy is locked, cannot select");console.log("Enemy is unlocked, proceeding with selection");const t=Md.K[o];n({selectedMap:t,enemy:e})},S=e=>{if(e.preventDefault(),-1===f)switch(e.key){case"ArrowLeft":I();break;case"ArrowRight":E();break;case"ArrowDown":case"Enter":c.enemies.length>0&&g(0);break;case"Escape":i()}else switch(e.key){case"ArrowUp":g(f>0?f-1:-1);break;case"ArrowDown":f<c.enemies.length-1&&g(f+1);break;case"Enter":const e=c.enemies[f];b(e.name)||N(e);break;case"Escape":g(-1)}};return(0,e.useEffect)((()=>(window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)})),[o,f,c,v]),(0,Du.jsxs)("div",{className:"text-center bg-[url(/src/assets/Animated.gif)] bg-auto md:bg-contain p-3 min-h-screen flex flex-col items-center justify-center",style:{userSelect:"none"},children:[(0,Du.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-6 text-white drop-shadow-[4px_4px_0px_black]",children:"Select Your Level"}),(0,Du.jsxs)("div",{className:"relative  overflow-hidden max-w-6xl mb- 8",children:[(0,Du.jsx)("div",{className:"overflow-hidden rounded-2xl shadow-2xl",children:(0,Du.jsx)("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${100*o}%)`},children:Md.K.map(((e,t)=>{const n=w(t);return(0,Du.jsxs)("div",{className:"min-w-full relative h-64 sm:h-80 md:h-96",children:[(0,Du.jsx)("img",{src:dh(e.background),alt:e.name,className:"w-full h-full object-cover transition-all duration-300 "}),(0,Du.jsxs)("div",{className:"absolute inset-0  flex flex-col items-center justify-center ",children:[(0,Du.jsx)("div",{className:"flex justify-center items-center w-full px-4",children:(0,Du.jsxs)("div",{className:"w-full max-w-md p-4 sm:p-6 ",children:[(0,Du.jsx)("h2",{className:"text-2xl sm:text-3xl text-white font-semibold mb-2",children:c.name}),(0,Du.jsxs)("p",{className:"mb-4 text-white text-sm sm:text-base",children:["Theme: ",c.theme]}),(0,Du.jsx)("div",{className:"mt-4 sm:mt-6 grid grid-cols-1 gap-2 sm:gap-4",children:c.enemies.map(((e,t)=>{const n=b(e.name),r=t===f;return(0,Du.jsxs)("div",{className:"relative group",children:[(0,Du.jsxs)("button",{onClick:()=>{n||N(e)},title:n?"This level is locked! Complete previous levels to unlock.":`Fight ${e.name}`,className:`px-3 py-2 sm:px-4 sm:py-2 w-full ${n?"bg-gray-700 text-gray-300 cursor-not-allowed opacity-50 hover:bg-gray-600":r?"bg-blue-600 text-white ring-2 ring-white scale-105":"bg-blue-500 text-white hover:bg-blue-600"} rounded shadow flex items-center justify-between transition-all duration-200 text-sm sm:text-base`,children:[(0,Du.jsxs)("div",{className:"flex items-center",children:[e.image&&(0,Du.jsx)("img",{src:dh(e.image),alt:e.name,className:"w-6 h-6 sm:w-8 sm:h-8 mr-2 sm:mr-3 rounded-full object-cover"}),(0,Du.jsx)("span",{className:"font-medium",children:e.name})]}),n?(0,Du.jsx)("span",{className:"ml-2 text-xl",children:"\ud83d\udd12"}):(0,Du.jsx)("span",{className:"ml-2 bg-green-500 p-1 rounded-full",children:"\u2713"})]}),n&&(0,Du.jsx)("div",{className:"absolute left-1/2 -translate-x-1/2 -bottom-10 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-2 px-3 whitespace-nowrap z-10",children:"Complete previous levels to unlock"})]},e.id)}))})]})}),n&&(0,Du.jsx)("div",{className:"mt-4 bg-black bg-opacity-60 p-4 rounded-full",children:(0,Du.jsx)("span",{className:"text-4xl",children:"\ud83d\udd12"})})]})]},e.id)}))})}),(0,Du.jsx)("button",{onClick:I,disabled:0===o||v||w(o-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white \n            "+(0===o||w(o-1)?"opacity-30 cursor-not-allowed":"opacity-80 hover:opacity-100 hover:bg-opacity-70"),children:(0,Du.jsx)(Qd,{size:32})}),(0,Du.jsx)("button",{onClick:E,disabled:o===Md.K.length-1||v||w(o+1),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-black bg-opacity-50 text-white\n            "+(o===Md.K.length-1||w(o+1)?"opacity-30 cursor-not-allowed":"opacity-80 hover:opacity-100 hover:bg-opacity-70"),children:(0,Du.jsx)(Xd,{size:32})}),(0,Du.jsx)("div",{className:"flex justify-center space-x-2 mt-4",children:Md.K.map(((e,t)=>(0,Du.jsx)("button",{onClick:()=>!w(t)&&_(t),disabled:w(t)||v,className:"w-3 h-3 rounded-full transition-all duration-300\n                "+(t===o?"w-6 bg-white":w(t)?"bg-gray-600":"bg-gray-400 hover:bg-gray-200"),"aria-label":`Select ${e.name}`},`indicator-${e.id}`)))})]}),(0,Du.jsx)("button",{onClick:i,className:"mt-6 sm:mt-8 px-4 sm:px-6 py-2 sm:py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg shadow-lg transition-colors duration-200 font-medium text-sm sm:text-base",children:"Back to Main Menu"})]})},mh=t=>{let{onClose:n}=t;const[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1);return(0,Du.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Du.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg w-96 relative",onClick:e=>e.stopPropagation(),children:[(0,Du.jsx)("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-white",children:"\u2715"}),(0,Du.jsx)("h2",{className:"text-2xl text-white mb-6 text-center",children:"Reset Password"}),o?(0,Du.jsxs)("div",{className:"text-center",children:[(0,Du.jsx)("p",{className:"text-green-400 mb-4",children:"Password reset link has been sent to your email. Please check your inbox and follow the instructions."}),(0,Du.jsx)("button",{onClick:n,className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"Close"})]}):(0,Du.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(""),u(!0);try{await async function(e,t,n){const r=wl(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&cc(r,i,n),await kl(r,i,"getOobCode",Ml,"EMAIL_PASSWORD_PROVIDER")}(md,r),l(!0)}catch(s){switch(s.code){case"auth/user-not-found":a("No account found with this email address");break;case"auth/invalid-email":a("Please enter a valid email address");break;case"auth/too-many-requests":a("Too many attempts. Please try again later");break;default:a("Failed to send reset email. Please try again")}}finally{u(!1)}},children:[(0,Du.jsxs)("div",{className:"mb-4",children:[(0,Du.jsx)("label",{className:"block text-white mb-2",children:"Email"}),(0,Du.jsx)("input",{type:"email",value:r,onChange:e=>i(e.target.value),className:"w-full p-2 rounded bg-gray-700 text-white",placeholder:"Enter your email",required:!0})]}),s&&(0,Du.jsx)("p",{className:"text-red-500 mb-4",children:s}),(0,Du.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600 disabled:opacity-50",children:c?"Sending...":"Send Reset Link"})]})]})})},ph=t=>{let{onLoginSuccess:n,onSwitchToSignup:r}=t;const[i,s]=(0,e.useState)((()=>localStorage.getItem("savedEmail")||"")),[a,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(null),[u,d]=(0,e.useState)(!0),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=setTimeout((()=>{d(!1),f(!0)}),1e3);return()=>clearTimeout(e)}),[]);const g=e=>{f(!0),(async e=>{const t=Va(ro(),`users/${e.uid}`);(await Wa(t)).exists()||await Ha(t,{email:e.email,currentLevel:1,currentWorld:1,unlockedWorlds:["map1"],unlockedEnemies:["microbe"],profile:{username:e.email.split("@")[0],updatedAt:(new Date).toISOString()}})})(e).then((()=>{n(e)}))};return u?(0,Du.jsx)("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-black",children:(0,Du.jsx)("h1",{className:"text-6xl font-bold text-white",children:"Gamified"})}):(0,Du.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[(0,Du.jsxs)("div",{className:"max-w-lg w-11/12",children:[(0,Du.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"Login"}),(0,Du.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(null);try{const e=await function(e,t,n){return lt(e.app)?Promise.reject(po(e)):oc(Q(e),$l.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&uc(e),t}))}(md,i,a),t=e.user;localStorage.setItem("savedEmail",i),g(t)}catch(l){switch(l.code){case"auth/user-not-found":c("No account found with this email");break;case"auth/wrong-password":c("Incorrect password");break;case"auth/invalid-email":c("Invalid email address");break;default:c("Failed to log in. Please try again.")}}},className:"flex flex-col space-y-4",children:[(0,Du.jsx)("input",{type:"email",placeholder:"Email",value:i,onChange:e=>s(e.target.value),className:"p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-black",required:!0}),(0,Du.jsx)("input",{type:"password",placeholder:"Password",value:a,onChange:e=>o(e.target.value),className:"p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-black",required:!0}),l&&(0,Du.jsx)("p",{className:"text-red-500 text-center",children:l}),(0,Du.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-3 rounded-lg hover:bg-blue-600 transition-colors",children:"Login"}),(0,Du.jsx)("button",{type:"button",onClick:()=>m(!0),className:"text-blue-500 hover:text-blue-600 text-sm text-center",children:"Forgot Password?"})]}),(0,Du.jsxs)("p",{className:"text-center mt-4",children:["Don't have an account?"," ",(0,Du.jsx)("button",{onClick:r,className:"text-blue-500 hover:text-blue-600",children:"Sign up"})]})]}),h&&(0,Du.jsx)(mh,{onClose:()=>m(!1)}),p&&(0,Du.jsx)(fd,{})]})},fh=t=>{let{onSwitchToLogin:n}=t;const[r,i]=(0,e.useState)(""),[s,a]=(0,e.useState)(""),[o,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(null),[m,p]=(0,e.useState)(!1);return m?(0,Du.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:(0,Du.jsxs)("div",{className:"max-w-lg w-11/12 text-center",children:[(0,Du.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Verify Your Email"}),(0,Du.jsxs)("div",{className:"space-y-3",children:[(0,Du.jsxs)("div",{className:"border-y-2 border-blue-500 py-4 mx-auto",children:[(0,Du.jsx)("p",{className:"text-sm  ",children:"A verification link has been sent to:"}),(0,Du.jsx)("p",{className:"text-xs font-bold text-blue-500 mt-1 break-all",children:r})]}),(0,Du.jsx)("p",{className:"text-sm text-gray-500",children:"Please check your email and click the link to verify your account."}),(0,Du.jsx)("div",{className:"pt-4",children:(0,Du.jsx)("button",{onClick:n,className:"bg-blue-500 text-white px-6 py-2.5 rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:"Back to Login"})})]})]})}):(0,Du.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center",children:(0,Du.jsxs)("div",{className:"max-w-lg w-11/12",children:[(0,Du.jsx)("h2",{className:"text-3xl font-bold text-center mb-8",children:"Sign Up"}),(0,Du.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s===o)try{const e=await async function(e,t,n){if(lt(e.app))return Promise.reject(po(e));const r=wl(e),i=kl(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zl,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&uc(e),t})),a=await ec._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(md,r,s),t=e.user;await(async e=>{const t=Va(ro(),`users/${e.uid}`);await Ha(t,{email:e.email,name:c,currentLevel:1,currentWorld:1,unlockedWorlds:["map1"],unlockedEnemies:["microbe"],defeatedEnemies:[],experience:0,createdAt:(new Date).toISOString(),lastUpdated:(new Date).toISOString()})})(t),await dc(t),p(!0)}catch(d){h(d.message||"Signup failed")}else h("Passwords do not match")},className:"flex flex-col space-y-4",children:[(0,Du.jsx)("input",{type:"text",placeholder:"Name",value:c,onChange:e=>u(e.target.value),className:"p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-black",required:!0}),(0,Du.jsx)("input",{type:"email",placeholder:"Email",value:r,onChange:e=>i(e.target.value),className:"p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-black",required:!0}),(0,Du.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>a(e.target.value),className:"p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-black",required:!0}),(0,Du.jsx)("input",{type:"password",placeholder:"Confirm Password",value:o,onChange:e=>l(e.target.value),className:"p-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition-colors text-black",required:!0}),d&&(0,Du.jsx)("p",{className:"text-red-500 text-center text-sm",children:d}),(0,Du.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-3 rounded-lg hover:bg-blue-600 transition-colors",children:"Sign Up"}),(0,Du.jsx)("button",{type:"button",onClick:n,className:"text-blue-500 hover:text-blue-600 transition-colors",children:"Back to Login"})]})]})})},gh=Object.entries(Ad).filter((e=>{let[t,n]=e;return"default"!==t})).map((e=>{let[t,n]=e;return{word:t,censoredWord:"*".repeat(t.length),definition:"object"===typeof n?n.DEFINITION||"No definition available":n,source:"object"===typeof n?n.SOURCE:null}})),vh=t=>{let{onMainMenu:n}=t;const[r,i]=(0,e.useState)(0),[s,a]=(0,e.useState)([]),[o,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(-1),{showFunFact:m,showFunFactWithDelay:p}=gd(),f=gh.filter((e=>e.word.toLowerCase().includes(c.toLowerCase()))),g=Math.ceil(f.length/3),v=3*r,y=v+3;(0,e.useEffect)((()=>{a(f.slice(v,y))}),[v,y,f]),(0,e.useEffect)((()=>{p()}),[]);const w=e=>{"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),"ArrowUp"===e.key?h((e=>{const t=e<=0?s.length-1:e-1;return l(s[t]),t})):h((e=>{const t=e>=s.length-1?0:e+1;return l(s[t]),t})))};return(0,e.useEffect)((()=>(window.addEventListener("keydown",w),()=>{window.removeEventListener("keydown",w)})),[d,r,s]),(0,Du.jsxs)("div",{className:"almanac-container",style:{userSelect:"none"},children:[m&&(0,Du.jsx)(fd,{}),(0,Du.jsx)("div",{className:"min-h-screen bg-cover bg-center flex items-center justify-center py-6 md:py-8 lg:py-12 px-4",children:(0,Du.jsxs)("div",{className:"max-w-4xl w-full bg-[#fdf6e3] p-4 sm:p-6 md:p-8 border-4 sm:border-6 md:border-8 border-double border-gray-700 rounded-lg shadow-xl overflow-auto text-center",children:[(0,Du.jsxs)("div",{className:"flex items-center justify-between mb-3 sm:mb-4 md:mb-6",children:[(0,Du.jsx)("button",{className:"bg-blue-300 hover:bg-blue-800 text-white font-bold py-1 px-3 sm:py-2 sm:px-4 md:px-6 rounded-full mb-2 sm:mb-4 md:mb-6 transition-all duration-300 shadow-md text-sm md:text-base",onClick:n,children:"< "}),(0,Du.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-indigo-900 text-center mt-1 sm:mt-2 md:mt-3 mb-2 sm:mb-4 md:mb-8",style:{letterSpacing:"-1px"},children:"ALMANAC OF KNOWLEDGE"}),(0,Du.jsx)("div",{className:"w-[16px]"})]}),(0,Du.jsx)("div",{className:"w-full",children:(0,Du.jsx)("ul",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:s.map(((e,t)=>(0,Du.jsx)("li",{className:"bg-gray-100 rounded-lg p-3 sm:p-4 md:p-6 shadow-md transition-all duration-300 cursor-pointer border-l-4\n                  "+(d===t?" scale-105 border-l":"hover:bg-gray-200 border-l-gray-300"),onClick:()=>((e,t)=>{o===e?(l(null),h(-1)):(l(e),h(t))})(e,t),children:(0,Du.jsxs)("div",{className:"flex flex-col",children:[(0,Du.jsx)("p",{className:"font-semibold text-lg sm:text-xl md:text-2xl mb-1 sm:mb-2 md:mb-3",children:o===e?e.word:e.censoredWord}),(0,Du.jsx)("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base",children:e.definition}),o===e&&e.source&&(0,Du.jsxs)("a",{href:e.source,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 mt-2 md:mt-3 text-xs sm:text-sm inline-flex items-center group",children:["Learn More ",(0,Du.jsx)("span",{className:"ml-1 group-hover:ml-2 transition-all duration-300",children:"\u2192"})]})]})},t)))})}),(0,Du.jsxs)("div",{className:"mt-5 sm:mt-8 md:mt-10 w-full flex justify-between items-center",children:[(0,Du.jsx)("button",{className:"bg-blue-600 hover:bg-blue-800 text-white font-bold py-1 sm:py-1.5 md:py-2 px-3 sm:px-4 md:px-6 rounded-full transition-all duration-300 shadow-md flex items-center text-sm md:text-base\n              "+(0===r?"opacity-50 cursor-not-allowed":""),onClick:()=>{r>0&&(i((e=>e-1)),l(null),h(-1))},disabled:0===r,children:"< "}),(0,Du.jsxs)("span",{className:"text-gray-700 py-1 sm:py-1.5 md:py-2 px-2 sm:px-3 md:px-4 rounded-full font-medium text-xs sm:text-sm md:text-base",children:["Page ",r+1," of ",g]}),(0,Du.jsx)("button",{className:"bg-blue-600 hover:bg-blue-800 text-white font-bold py-1 sm:py-1.5 md:py-2 px-3 sm:px-4 md:px-6 rounded-full transition-all duration-300 shadow-md flex items-center text-sm md:text-base\n              "+(y>=f.length?"opacity-50 cursor-not-allowed":""),onClick:()=>{y<f.length&&(i((e=>e+1)),l(null),h(-1))},disabled:y>=f.length,children:">"})]})]})})]})};n(8628);const yh=t=>{let{onMainMenu:n,onLogout:r,musicVolume:i,setMusicVolume:s,soundEffectsVolume:a,backgroundVolume:o,profileData:l,setProfileData:c}=t;const[u,d]=(0,e.useState)([]),[h,m]=(0,e.useState)([]),[p,f]=(0,e.useState)(10),[g,v]=(0,e.useState)(0),[y,w]=(0,e.useState)(0),[b,_]=(0,e.useState)(3),[I,E]=(0,e.useState)(!1),[N,S]=(0,e.useState)(!1),[x,C]=(0,e.useState)(!1),[T,k]=(0,e.useState)(!1),[O,R]=(0,e.useState)(""),[A,D]=(0,e.useState)(""),[P,U]=(0,e.useState)(!0),[F,L]=(0,e.useState)([]),[M,j]=(0,e.useState)(30),[z,V]=(0,e.useState)(!1),[B,H]=(0,e.useState)(!1),[W,q]=(0,e.useState)(0),[$,Y]=(0,e.useState)(!1),[G,K]=(0,e.useState)(!1),[Q,X]=(0,e.useState)(!1),[J,Z]=(0,e.useState)(-1),[ee,te]=(0,e.useState)(""),[ne,re]=(0,e.useState)(!1),[ie,se]=(0,e.useState)([]),[ae,oe]=(0,e.useState)(!1),[le,ce]=(0,e.useState)(!1),[ue,de]=(0,e.useState)(!0),[he,me]=(0,e.useState)(!1),[pe,fe]=(0,e.useState)([]),ge=[{name:"Microbe",image:"microbe.gif",health:3},{name:"Toxic Crawler",image:"toxic_crawler.gif",health:4}],ve=ge[y%ge.length],ye={"microbe.gif":th,"toxic_crawler.gif":nh}[ve.image],we=()=>{const e=new Audio(vd);e.volume=a/100,e.play()},be=()=>{const e=Object.keys(Ad);let t=e.filter((e=>!ie.includes(e)));0===t.length&&(se((e=>e.slice(Math.floor(1.5)))),t=e.filter((e=>!ie.includes(e))));let n=t.filter((e=>e.length>=5)),r=n.length>0?n[Math.floor(Math.random()*n.length)]:t[Math.floor(Math.random()*t.length)];return se((e=>[...e,r].slice(-3))),r},_e=()=>{let e,t=!1;for(let a=0;a<10;a++)if(e=be().toUpperCase(),!ie.includes(e)){t=!0;break}if(!t)return h;let n=Array(20).fill(""),r=Math.floor(Math.random()*(20-e.length));for(let a=0;a<e.length;a++)n[r+a]=e[a];const i="AEIOU_",s="BCDFGHJKLMNPQRSTVWXYZ_";for(let a=0;a<20;a++)""===n[a]&&(n[a]=Math.random()<.4?i.charAt(Math.floor(6*Math.random())):s.charAt(Math.floor(22*Math.random())));return n},Ie=()=>{z?(V(!1),q(3),setTimeout((()=>{q(2),setTimeout((()=>{q(1),setTimeout((()=>{q(0),H(!1)}),1500)}),1500)}),1500)):(V(!0),H(!0))};(0,e.useCallback)((e=>{!z||e.target.closest(".slidebar")||e.target.closest(".slidebar-icon")||V(!1)}),[z]);(0,e.useEffect)((()=>{const e=(e=>{let t=e.split("");do{for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}while(t.join("")===e);const n="AEIOU",r="BCDFGHJKLMNPQRSTVWXYZ";let i=t.filter((e=>n.includes(e))).length,s=t.length-i;for(;t.length<20;){let e=Math.random()<.45;e&&i<9?(t.push(n.charAt(Math.floor(5*Math.random()))),i++):!e&&s<11&&(t.push(r.charAt(Math.floor(21*Math.random()))),s++)}return t})(be());m(e)}),[y]),(0,e.useEffect)((()=>{ve&&_(ve.health)}),[y]),(0,e.useEffect)((()=>{if(md.currentUser){Ga(Va(ro(),`users/${md.currentUser.uid}/longestWord`),(e=>{const t=e.val();t&&t.word&&te(t.word)}))}}),[]),(0,e.useEffect)((()=>{if(!P&&!I){if(B)return;const e=setInterval((()=>{j((e=>e<=0?(k(!0),we(),D("Time's up! The enemy attacks!"),setTimeout((()=>{k(!1),f((e=>{const t=e-1;return t<=0&&(E(!0),Ce()),Math.max(0,t)}))}),500),30):e-1))}),1e3);return()=>{clearInterval(e)}}}),[P,I,B]),(0,e.useEffect)((()=>{P||j(30)}),[P]),(0,e.useEffect)((()=>{if(!N&&!B&&!I&&!P){const e=setInterval((()=>{C(!0),setTimeout((()=>{C(!1)}),2e3)}),1e4);return()=>clearInterval(e)}}),[N,B,I,P]);const Ee=(e,t)=>{B||F.includes(t)||(d((t=>[...t,e])),L((e=>[...e,t])))},Ne=e=>{if(!B){F[e];d((t=>t.filter(((t,n)=>n!==e)))),L((t=>t.filter(((t,n)=>n!==e))))}},Se=(0,e.useCallback)((()=>{let e=0;if(B||I)return;const t=u.join("").toUpperCase();if(0!==t.length)if(ie.includes(t)&&t.length>=2&&t.length<=4)D(`"${t}" is on cooldown! Use 3 different words first.`);else{if(Ad.hasOwnProperty(t)){S(!0),we(),setTimeout((()=>{S(!1)}),800),_((e=>{const t=e-1;return t})),t.length>ee.length?(te(t),Te(t),D(`New longest word: "${t}"!`)):D(`"${t}" is a valid word.`),e=10*t.length,v((t=>t+e)),d([]),L([]);const n=_e();m(n)}else k(!0),D("Invalid word -1 Heart! The enemy attacks!"),oe(!0),ce(!0),setTimeout((()=>{k(!1),oe(!1),setTimeout((()=>{ce(!1)}),500)}),1e3),f((e=>{const t=e-1;return t<=0&&(E(!0),Ce()),Math.max(0,t)}));t.length>=2&&t.length<=4&&se((e=>[...e,t].slice(-3))),j(30)}}),[u,ee,ie,B,I]),xe=()=>{if(B||I)return;if(he)return void D("Scramble is on cooldown! Wait a moment.");if(p<=1)return void D("Scramble disabled! Too risky, you're low on health!");let e;me(!0),setTimeout((()=>{me(!1)}),1e3),k(!0),setTimeout((()=>{k(!1)}),1e3),f((e=>{const t=e-1;return t<=0&&(E(!0),Ce()),Math.max(0,t)}));let t=!1;for(let n=0;n<10;n++){e=_e();let n=e.join("").toUpperCase();if(!ie.includes(n)){t=!0;break}}t?(m(e),D("Letters scrambled! -1 Health as a penalty."),(()=>{const e=new Audio(Bd);e.volume=a/100,e.play()})(),we()):D("Scramble failed: All words are in cooldown!")},Ce=async()=>{if(md.currentUser)try{const e=Va(ro(),`users/${md.currentUser.uid}/miniGameScores/${Date.now()}`);await Ha(e,{score:Math.max(0,g),timestamp:Date.now()})}catch(Ht){console.error("Error saving score:",Ht)}},Te=e=>{if(md.currentUser){const t=Va(ro(),`users/${md.currentUser.uid}/longestWord`);Ga(t,(n=>{const r=n.val(),i=r?r.word:"";(!i||e.length>i.length)&&Ha(t,{word:e,timestamp:Date.now()})}),{onlyOnce:!0})}},ke=(0,e.useCallback)((e=>{if("Escape"===e.key)return void V((e=>!e));if(B||I||P)return;const t=e.key.toUpperCase();if(/^[A-Z]$/.test(t)){const e=h.findIndex(((e,n)=>e===t&&!F.includes(n)));-1!==e&&Ee(t,e)}else if(" "===e.key||"Spacebar"===e.key){const t=h.findIndex(((e,t)=>"_"===e&&!F.includes(t)));-1!==t&&Ee("_",t),e.preventDefault()}else"Backspace"===e.key&&u.length>0?J>=0?(Ne(J),Z(Math.min(J,u.length-2))):Ne(u.length-1):"Enter"===e.key?Se():"ArrowLeft"===e.key?Z((e=>e<=0?u.length-1:e-1)):"ArrowRight"===e.key?Z((e=>e>=u.length-1?0:e+1)):"Control"!==e.key||e.repeat||xe()}),[B,I,P,h,F,u,J,xe]);(0,e.useEffect)((()=>(window.addEventListener("keydown",ke),()=>{window.removeEventListener("keydown",ke)})),[ke]);return(0,Du.jsxs)("div",{className:"relative min-h-screen w-full overflow-hidden bg-cover bg-center flex flex-col items-center",style:{backgroundImage:`url(${kd})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",userSelect:"none"},children:[(0,Du.jsx)("style",{children:"\n        @keyframes shake {\n            0% { transform: translateX(0); }\n            25% { transform: translateX(-5px); }\n            50% { transform: translateX(5px); }\n            75% { transform: translateX(-5px); }\n            100% { transform: translateX(0); }\n        }\n        \n        .shake {\n            animation: shakeAnimation 0.5s ease-in-out;\n        }\n        \n        .wrong-word {\n            box-shadow: 0 0 8px 2px rgba(255, 0, 0, 0.7);\n            border-color: #ff0000 !important;\n        }\n\n        @keyframes shoot {\n            0% {\n                transform: translateX(0) translateY(-50%);\n                opacity: 0.7;\n            }\n            50% {\n                transform: translateX(calc(25vw)) translateY(-50%);\n                opacity: 1;\n            }\n            100% {\n                transform: translateX(calc(50vw)) translateY(-50%);\n                opacity: 0;\n            }\n        }\n        \n        @keyframes enemyShoot {\n            0% {\n                transform: translateX(-10vw) translateY(-50%) rotate(180deg);\n                opacity: 0.7;\n            }\n            50% {\n                transform: translateX(calc(20vw)) translateY(-50%) rotate(180deg);\n                opacity: 1;\n            }\n            100% {\n                transform: translateX(calc(50vw)) translateY(-50%) rotate(180deg);\n                opacity: 0;\n            }\n        }\n        \n        .player-attack {\n            animation: shoot 0.8s ease-out forwards;\n        }\n        \n        .enemy-attack {\n            animation: enemyShoot 0.8s ease-out forwards;\n        }\n        "}),P&&(0,Du.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Du.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-lg max-w-md w-full text-center",children:[(0,Du.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-4",children:"Welcome to Mini Game!"}),(0,Du.jsx)("p",{className:"mb-6 text-sm sm:text-base",children:"After playing the adventure mode, let's test your vocabulary in science terms! In this mode, there are no hints - you must rely on your knowledge. Each grid contains at least one valid science term. Can you find it?"}),(0,Du.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg text-base sm:text-xl hover:bg-blue-600",onClick:()=>U(!1),children:"Start Game"})]})}),(0,Du.jsxs)("div",{className:"w-full flex justify-between items-center p-2 sm:p-4 bg-black bg-opacity-50",children:[(0,Du.jsxs)("div",{className:"flex items-center",children:[(0,Du.jsx)("img",{src:Dd,alt:"Heart",className:"w-6 h-6 sm:w-8 sm:h-8 mr-2"}),(0,Du.jsx)("span",{className:"text-white text-base sm:text-2xl",children:p})]}),(0,Du.jsxs)("div",{className:"text-white text-base sm:text-2xl absolute left-1/2 transform -translate-x-1/2",children:["Score: ",g]}),(0,Du.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,Du.jsx)("div",{className:"transition-all \r duration-300 hover:scale-110 \r hover:rotate-90 text-white focus:outline-none\r focus:ring-4 focus:ring slidebar-icon \r text-xl sm:text-2xl cursor-pointer",onClick:Ie,children:(0,Du.jsx)(ju,{toggled:z,toggle:Ie})}),(0,Du.jsx)(Rd,{isOpen:z,toggleSlidebar:Ie,onMainMenu:n,setSettingsOpen:Y,setProfileOpen:K,onLogout:r})]})]}),$&&(0,Du.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,Du.jsx)(wd,{onClose:()=>Y(!1),onSave:(e,t,n)=>{s(e)},onReset:()=>{s(50)},musicVolume:i,soundEffectsVolume:a,backgroundVolume:o})}),G&&(0,Du.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,Du.jsx)(Td,{onClose:()=>K(!1),profileData:l,setProfileData:c})}),(0,Du.jsx)("div",{className:"absolute top-16 sm:top-20 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 px-4 sm:px-6 py-1 sm:py-2 rounded-full",children:(0,Du.jsxs)("span",{className:"text-xl sm:text-3xl font-bold "+(M<=10?"text-red-500":"text-white"),children:[M,"s"]})}),(0,Du.jsxs)("div",{className:"w-full flex-1 flex justify-between items-center px-4 sm:px-10 mt-2 sm:mt-4 relative",children:[(0,Du.jsx)("div",{className:"relative",children:(0,Du.jsx)("img",{src:N?Fd:x?Ld:Ud,alt:"Player",className:`w-40 h-40 sm:w-64 sm:h-64 md:w-72 md:h-72 lg:w-80 lg:h-80 transition-all duration-300\n                    ${N?"transform translate-x-16 sm:translate-x-24 md:translate-x-32 lg:translate-x-40":""}\n                `,style:{transform:"scaleX(1)"}})}),(0,Du.jsxs)("div",{className:"absolute top-24 sm:top-40 left-1/2 transform bg-black bg-opacity-30 -translate-x-1/2 flex flex-col items-center",children:[(0,Du.jsx)("div",{className:"text-white text-base sm:text-xl mb-1 sm:mb-2",children:ve.name}),(0,Du.jsx)("div",{className:"w-40 sm:w-64 h-2 sm:h-4 bg-gray-700 rounded-full",children:(0,Du.jsx)("div",{className:"h-full bg-red-500 rounded-full transition-all duration-300",style:{width:b/ve.health*100+"%"}})})]}),(0,Du.jsxs)("div",{className:"relative",children:[(0,Du.jsx)("img",{src:ye,alt:ve.name,className:"w-40 h-40 sm:w-64 sm:h-64 md:w-72 md:h-72 lg:w-80 lg:h-80",style:{transform:"scaleX(-1)"}}),T&&(0,Du.jsx)("img",{src:Pd,alt:"Enemy Attack",className:"absolute top-1/2 -left-12 sm:-left-24 transform -translate-y-1/2 w-16 h-16 sm:w-32 sm:h-32 enemy-attack"})]})]}),(0,Du.jsx)("div",{className:"w-full p-2 text-center mt-auto",children:(0,Du.jsx)("div",{className:"bg-white bg-opacity-75 rounded p-2 max-w-2xl mx-auto text-sm sm:text-lg",children:A||"Form a science term from the letters below!"})}),(0,Du.jsx)("div",{className:"grid grid-cols-5 gap-1 sm:gap-2 p-2 sm:p-4 mb-8 sm:mb-16",children:h.map(((e,t)=>(0,Du.jsx)("button",{className:"w-12 h-12 sm:w-16 sm:h-16 text-base sm:text-2xl font-bold rounded-lg shadow-lg transform transition-all duration-200 "+(F.includes(t)?"bg-gray-200 text-gray-400 cursor-default":"bg-white hover:scale-105 hover:bg-blue-100"),onClick:()=>Ee(e,t),disabled:F.includes(t),children:F.includes(t)?"":e},t)))}),(0,Du.jsxs)("div",{className:"absolute bottom-4 w-full flex justify-center items-center space-x-2 sm:space-x-4 px-4",children:[(0,Du.jsx)("div",{className:"flex items-center space-x-1 px-2 py-1 sm:px-3 sm:py-2 min-w-[120px] sm:min-w-[150px] "+(ae?"shake":""),children:u.map(((e,t)=>(0,Du.jsx)("div",{className:`\n                        relative \n                        w-7 h-7 \n                        sm:w-8 sm:h-8 \n                        md:w-10 md:h-10 \n                        border-2 \n                        flex \n                        items-center \n                        justify-center \n                        text-sm \n                        sm:text-base \n                        md:text-lg \n                        font-bold \n                        rounded-lg \n                        cursor-pointer \n                        transition-all \n                        duration-200\n                        touch-target\n                        ${t===J?"border-teal-500 bg-blue-100 scale-105":"border-gray-700"}\n                        ${le?"wrong-word":""}\n                        ${pe.includes(t)?"bg-green-300 scale-105 shadow-md":"bg-blue-50 hover:bg-blue-100"}\n                    `,onClick:()=>((e,t)=>{B||(pe.includes(t)?fe((e=>e.filter((e=>e!==t)))):fe((e=>[...e,t])))})(0,t),children:e},t)))}),(0,Du.jsx)("button",{className:`bg-purple-500 text-white px-3 py-1 sm:px-4 sm:py-2 rounded-lg text-base sm:text-lg font-bold hover:bg-purple-600 transform transition-transform hover:scale-105\n                ${he?"opacity-50 cursor-not-allowed":""}\n            `,onClick:xe,disabled:he,children:"RECOMBINE"}),(0,Du.jsx)("button",{className:"bg-blue-500 text-white px-2 py-1 sm:px-2 sm:py-1 flex justify-end rounded-lg text-base sm:text-lg hover:bg-blue-600 transform transition-transform hover:scale-105",onClick:Se,children:"Submit"})]}),W>0&&(0,Du.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Du.jsx)("div",{className:"text-white text-6xl sm:text-9xl font-bold animate-bounce",children:W})}),I&&(0,Du.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center p-4",children:[(0,Du.jsx)("h2",{className:"text-white text-2xl sm:text-4xl mb-4 text-center",children:"Game Over!"}),(0,Du.jsxs)("p",{className:"text-white text-xl sm:text-2xl mb-8 text-center",children:["Final Score: ",g]}),(0,Du.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg text-base sm:text-xl hover:bg-blue-600",onClick:n,children:"Return to Main Menu"})]})]})};var wh=n(9728),bh=n(9431),_h=n(8120),Ih=n(3897);const Eh=()=>{const[t,n]=(0,e.useState)("mainMenu"),[r,s]=(0,e.useState)(null),[a,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[u,d]=(0,e.useState)(!0),[h,m]=(0,e.useState)(!1),[p,f]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),[y,w]=(0,e.useState)(null),[b,_]=(0,e.useState)({image:"",username:"",age:"",gender:""}),[I,E]=(0,e.useState)(!1),[N,S]=(0,e.useState)((()=>{const e=localStorage.getItem("musicVolume");return e?parseInt(e):50})),[x,C]=(0,e.useState)((()=>{const e=localStorage.getItem("soundEffectsVolume");return e?parseInt(e):50})),[T,k]=(0,e.useState)((()=>{const e=localStorage.getItem("backgroundVolume");return e?parseInt(e):50})),[O,R]=(0,e.useState)(!1),[A,D]=(0,e.useState)(!1),P=(0,e.useRef)(null),U=(0,e.useRef)(null),F=(0,e.useRef)(null),L=(0,e.useRef)(null),M=(0,e.useRef)(null),j=(0,e.useRef)(null),z=(0,e.useRef)(null),V=ro();(0,e.useEffect)((()=>{P.current&&(P.current.volume=N/100,localStorage.setItem("musicVolume",N.toString())),z.current&&(z.current.volume=N/100)}),[N]),(0,e.useEffect)((()=>{console.log("Background volume changed to:",T),U.current&&(U.current.volume=T/100,console.log("Boss fight audio volume set to:",U.current.volume)),F.current&&(F.current.volume=T/100,console.log("Fight sound audio volume set to:",F.current.volume)),L.current&&(L.current.volume=T/100,console.log("Settings audio volume set to:",L.current.volume)),M.current&&(M.current.volume=T/100,console.log("Almanac audio volume set to:",M.current.volume)),j.current&&(j.current.volume=T/100,console.log("Scoreboard audio volume set to:",j.current.volume)),localStorage.setItem("backgroundVolume",T.toString())}),[T]),(0,e.useEffect)((()=>{localStorage.setItem("soundEffectsVolume",x.toString())}),[x]),(0,e.useEffect)((()=>{P.current&&(P.current.pause(),P.current.currentTime=0),U.current&&(U.current.pause(),U.current.currentTime=0),F.current&&(F.current.pause(),F.current.currentTime=0),L.current&&(L.current.pause(),L.current.currentTime=0),M.current&&(M.current.pause(),M.current.currentTime=0),j.current&&(j.current.pause(),j.current.currentTime=0),z.current&&(z.current.pause(),z.current.currentTime=0),"gamePage"===t?O&&U.current?(U.current.volume=T/100,U.current.play().catch((e=>{console.error("Error playing boss fight music:",e)}))):A&&F.current&&(F.current.volume=T/100,F.current.play().catch((e=>{console.error("Error playing fight sound:",e)}))):"settings"===t&&L.current?(L.current.volume=T/100,L.current.play().catch((e=>{console.error("Error playing settings sound:",e)}))):"almanac"===t&&M.current?(M.current.volume=T/100,M.current.play().catch((e=>{console.error("Error playing almanac sound:",e)}))):"scoreboard"===t&&j.current?(j.current.volume=T/100,j.current.play().catch((e=>{console.error("Error playing scoreboard sound:",e)}))):"gamePage"!==t&&z.current&&(z.current.volume=N/100,z.current.play().catch((e=>{console.error("Error playing background music:",e)})))}),[t,O,A,N,T]),(0,e.useEffect)((()=>{if(null!==b&&void 0!==b&&b.uid){const e=Va(V,`users/${b.uid}/settings`);Wa(e).then((t=>{if(t.exists()){const e=t.val();if(void 0!==e.musicVolume){const t=e.musicVolume;S(t),localStorage.setItem("musicVolume",t.toString())}if(void 0!==e.soundEffectsVolume){const t=e.soundEffectsVolume;C(t),localStorage.setItem("soundEffectsVolume",t.toString())}if(void 0!==e.backgroundVolume){const t=e.backgroundVolume;k(t),localStorage.setItem("backgroundVolume",t.toString())}}else Ha(e,{musicVolume:N,soundEffectsVolume:x,backgroundVolume:T})})).catch((e=>{console.error("Error loading initial volume:",e)}));const t=Ga(e,(e=>{if(e.exists()){const t=e.val();if(void 0!==t.musicVolume){const e=t.musicVolume;S(e),localStorage.setItem("musicVolume",e.toString())}if(void 0!==t.soundEffectsVolume){const e=t.soundEffectsVolume;C(e),localStorage.setItem("soundEffectsVolume",e.toString())}if(void 0!==t.backgroundVolume){const e=t.backgroundVolume;k(e),localStorage.setItem("backgroundVolume",e.toString())}}}),(e=>{console.error("Error loading settings:",e)}));return()=>t()}}),[V,b]);const B=()=>{console.log("Forcing reload of user progress data from Firebase");const e=Ou().currentUser;if(e){Wa(Va(V,`users/${e.uid}`)).then((e=>{if(e.exists()){const t=e.val();console.log("Reloaded user progress:",t),w(t)}else console.log("No user data found during reload")})).catch((e=>{console.error("Error reloading user progress:",e)}))}else console.log("No user logged in, can't reload progress")};(0,e.useEffect)((()=>{const e=function(e,t,n,r){return Q(e).onAuthStateChanged(t,n,r)}(Ou(),(e=>{if(e){Ga(Va(ro(),`users/${e.uid}`),(e=>{const t=e.val();t&&(w(t),f(!0))}))}else w(null),f(!1)}));return()=>e()}),[]);const H=e=>{var t;if(console.log("Level selected:",e),"map1"===e.selectedMap.id&&"microbe"===e.enemy.name.toLowerCase())return console.log("First enemy in first map is always unlocked"),s(e),void n("gamePage");const r=e.enemy.name.toLowerCase().replace(" ","_");null!==y&&void 0!==y&&null!==(t=y.unlockedEnemies)&&void 0!==t&&t.includes(r)?(console.log(`Enemy ${r} is unlocked, proceeding to game page`),s(e),n("gamePage")):console.log(`Enemy ${r} is locked, cannot proceed`)};(0,e.useEffect)((()=>{(async()=>{if(P.current)try{await P.current.play()}catch(Ht){console.error("Autoplay blocked. Waiting for user interaction.")}})();const e=()=>{P.current&&P.current.play()};return document.addEventListener("click",e),document.addEventListener("keydown",e),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",e)}}),[]);const W=()=>{f(!0),d(!1),n("mainMenu");const e=localStorage.getItem("userName");e&&_((t=>({...t,username:e}))),console.log("Login successful, navigating to main menu")};(0,e.useEffect)((()=>{"true"===localStorage.getItem("isAuthenticated")&&(f(!0),d(!1),n("mainMenu"))}),[]);const q=()=>{m(!1),d(!0)},$=()=>{f(!1),d(!0),n("mainMenu"),E(!1),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),console.log("Logged out successfully")};return(0,Du.jsx)(Uu,{value:{settingsOpen:a,profileOpen:l,loginOpen:u,signupOpen:h,scoreboardOpen:g},children:(0,Du.jsx)(i,{clientId:"157299428708-eraakaj5sblugtout401ailphf12j81n.apps.googleusercontent.com",children:(0,Du.jsxs)("div",{className:"min-h-screen bg-cover bg-center",style:{backgroundImage:`url(${kd})`},children:[O&&"gamePage"===t&&(0,Du.jsx)("audio",{ref:U,src:Ih,loop:!0,preload:"auto",volume:T/100,onLoadedMetadata:e=>{e.target.volume=T/100,console.log("Boss fight audio loaded with volume:",e.target.volume)}}),A&&"gamePage"===t&&(0,Du.jsx)("audio",{ref:F,src:Hd,loop:!0,preload:"auto",volume:T/100,onLoadedMetadata:e=>{e.target.volume=T/100,console.log("Fight sound audio loaded with volume:",e.target.volume)}}),("settings"===t||"miniGame"===t)&&(0,Du.jsx)("audio",{ref:L,src:yd,loop:!0,preload:"auto",volume:T/100,onLoadedMetadata:e=>{e.target.volume=T/100,console.log("Settings audio loaded with volume:",e.target.volume)}}),"almanac"===t&&(0,Du.jsx)("audio",{ref:M,src:bh,loop:!0,preload:"auto",volume:T/100,onLoadedMetadata:e=>{e.target.volume=T/100,console.log("Almanac audio loaded with volume:",e.target.volume)}}),"scoreboard"===t&&(0,Du.jsx)("audio",{ref:j,src:_h,loop:!0,preload:"auto",volume:T/100,onLoadedMetadata:e=>{e.target.volume=T/100,console.log("Scoreboard audio loaded with volume:",e.target.volume)}}),"settings"!==t&&"almanac"!==t&&"scoreboard"!==t&&"miniGame"!==t&&"gamePage"!==t&&(0,Du.jsx)("audio",{ref:z,src:wh,loop:!0,preload:"auto",volume:N/100,onLoadedMetadata:e=>{e.target.volume=N/100,console.log("Background music loaded with volume:",e.target.volume)}}),u&&(0,Du.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-20",children:(0,Du.jsx)("div",{className:"bg-gray-800 text-white p-6 rounded-lg max-w-sm w-11/12 sm:w-96",children:(0,Du.jsx)(ph,{onLoginSuccess:W,onSwitchToSignup:()=>{d(!1),m(!0)}})})}),h&&(0,Du.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-20",children:(0,Du.jsx)("div",{className:"bg-gray-800 text-white p-6 rounded-lg max-w-sm w-11/12 sm:w-96",children:(0,Du.jsx)(fh,{onSwitchToLogin:q})})}),(()=>{switch(t){case"mainMenu":return(0,Du.jsx)(Fu,{onPlay:()=>n("mapSelection"),onSettings:()=>o(!0),onProfile:()=>c(!0),onAlmanac:()=>n("almanac"),onLogout:$,onMiniGame:()=>n("miniGame"),onScoreboard:()=>v(!0)});case"mapSelection":return(0,Du.jsx)(hh,{maps:Md.K,onLevelSelect:H,onMainMenu:()=>{n("mainMenu")},startingMapIndex:0});case"gamePage":return(0,Du.jsx)(Wd,{level:r,onMainMenu:()=>{console.log("Returning to Main Menu."),n("mainMenu")},backgroundImage:(null===r||void 0===r?void 0:r.background)||"defaultBackground.jpg",profileData:b,setProfileData:_,onLogout:$,musicVolume:N,setMusicVolume:S,soundEffectsVolume:x,backgroundVolume:T,reload:B,bossFight:O,setBossFight:R,fightSoundPlaying:A,setFightSoundPlaying:D});case"almanac":return(0,Du.jsx)(vh,{onMainMenu:()=>{console.log("Returning to Main Menu."),n("mainMenu")}});case"miniGame":return(0,Du.jsx)(yh,{onMainMenu:()=>{console.log("Returning to Main Menu."),n("mainMenu")},onLogout:$,musicVolume:N,setMusicVolume:S,soundEffectsVolume:x,backgroundVolume:T,profileData:b,setProfileData:_});default:return(0,Du.jsx)(Fu,{onPlay:()=>n("gamePage")})}})(),a&&(0,Du.jsx)(wd,{onClose:()=>o(!1),onSave:(e,t,n)=>{console.log("Saving volumes:",e,t,n),(async(e,t,n)=>{if(null!==b&&void 0!==b&&b.uid)try{const r=Va(V,`users/${b.uid}/settings`);await Ha(r,{musicVolume:e,soundEffectsVolume:t,backgroundVolume:n}),S(e),C(t),k(n),localStorage.setItem("musicVolume",e.toString()),localStorage.setItem("soundEffectsVolume",t.toString()),localStorage.setItem("backgroundVolume",n.toString()),console.log("Music, background, and sound effects volume saved successfully")}catch(Ht){console.error("Error saving volume settings:",Ht)}else S(e),C(t),k(n),localStorage.setItem("musicVolume",e.toString()),localStorage.setItem("soundEffectsVolume",t.toString()),localStorage.setItem("backgroundVolume",n.toString())})(e,t,n)},onReset:async()=>{const e=50;if(null!==b&&void 0!==b&&b.uid)try{const t=Va(V,`users/${b.uid}/settings`);await Ha(t,{musicVolume:e,soundEffectsVolume:e,backgroundVolume:e}),S(e),C(e),k(e),localStorage.setItem("musicVolume",e.toString()),localStorage.setItem("soundEffectsVolume",e.toString()),localStorage.setItem("backgroundVolume",e.toString()),console.log("All volume settings reset successfully")}catch(Ht){console.error("Error resetting volume settings:",Ht)}else S(e),C(e),k(e),localStorage.setItem("musicVolume",e.toString()),localStorage.setItem("soundEffectsVolume",e.toString()),localStorage.setItem("backgroundVolume",e.toString())},musicVolume:N,soundEffectsVolume:x,backgroundVolume:T}),l&&(0,Du.jsx)(Td,{onClose:()=>c(!1),onSave:()=>c(!1),profileData:b,setProfileData:_}),g&&(0,Du.jsx)(Od,{onMainMenu:()=>{console.log("Returning to Main Menu. Stopping Timer."),v(!1),n("mainMenu")}}),(0,Du.jsx)(Rd,{isOpen:I,toggleSlidebar:()=>E(!I),onMainMenu:()=>{console.log("Returning to Main Menu. Stopping Timer."),n("mainMenu")},setSettingsOpen:o,setProfileOpen:c,onLogout:$,musicVolume:N})]})})})},Nh=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};t.createRoot(document.getElementById("root")).render((0,Du.jsx)(e.StrictMode,{children:(0,Du.jsx)(i,{clientId:"157299428708-eraakaj5sblugtout401ailphf12j81n.apps.googleusercontent.com",children:(0,Du.jsx)(Eh,{})})})),Nh()})()})();
//# sourceMappingURL=main.a7fba76e.js.map